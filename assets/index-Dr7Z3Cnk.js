function QV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Js(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var VR={exports:{}},Om={},FR={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=Symbol.for("react.element"),JV=Symbol.for("react.portal"),YV=Symbol.for("react.fragment"),XV=Symbol.for("react.strict_mode"),ZV=Symbol.for("react.profiler"),eF=Symbol.for("react.provider"),tF=Symbol.for("react.context"),nF=Symbol.for("react.forward_ref"),rF=Symbol.for("react.suspense"),iF=Symbol.for("react.memo"),sF=Symbol.for("react.lazy"),US=Symbol.iterator;function oF(t){return t===null||typeof t!="object"?null:(t=US&&t[US]||t["@@iterator"],typeof t=="function"?t:null)}var UR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$R=Object.assign,jR={};function el(t,e,n){this.props=t,this.context=e,this.refs=jR,this.updater=n||UR}el.prototype.isReactComponent={};el.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};el.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BR(){}BR.prototype=el.prototype;function b0(t,e,n){this.props=t,this.context=e,this.refs=jR,this.updater=n||UR}var P0=b0.prototype=new BR;P0.constructor=b0;$R(P0,el.prototype);P0.isPureReactComponent=!0;var $S=Array.isArray,zR=Object.prototype.hasOwnProperty,A0={current:null},qR={key:!0,ref:!0,__self:!0,__source:!0};function WR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zR.call(e,r)&&!qR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$d,type:t,key:s,ref:o,props:i,_owner:A0.current}}function aF(t,e){return{$$typeof:$d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function R0(t){return typeof t=="object"&&t!==null&&t.$$typeof===$d}function uF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jS=/\/+/g;function Hy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uF(""+t.key):e.toString(36)}function Rf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $d:case JV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hy(o,0):r,$S(i)?(n="",t!=null&&(n=t.replace(jS,"$&/")+"/"),Rf(i,e,n,"",function(l){return l})):i!=null&&(R0(i)&&(i=aF(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$S(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Hy(s,a);o+=Rf(s,e,n,u,i)}else if(u=oF(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Hy(s,a++),o+=Rf(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kh(t,e,n){if(t==null)return t;var r=[],i=0;return Rf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},Cf={transition:null},cF={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:A0};function HR(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Kh,forEach:function(t,e,n){Kh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kh(t,function(){e++}),e},toArray:function(t){return Kh(t,function(e){return e})||[]},only:function(t){if(!R0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=el;ye.Fragment=YV;ye.Profiler=ZV;ye.PureComponent=b0;ye.StrictMode=XV;ye.Suspense=rF;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cF;ye.act=HR;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$R({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=A0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)zR.call(e,u)&&!qR.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:$d,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:tF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eF,_context:t},t.Consumer=t};ye.createElement=WR;ye.createFactory=function(t){var e=WR.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:nF,render:t}};ye.isValidElement=R0;ye.lazy=function(t){return{$$typeof:sF,_payload:{_status:-1,_result:t},_init:lF}};ye.memo=function(t,e){return{$$typeof:iF,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Cf.transition;Cf.transition={};try{t()}finally{Cf.transition=e}};ye.unstable_act=HR;ye.useCallback=function(t,e){return In.current.useCallback(t,e)};ye.useContext=function(t){return In.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return In.current.useDeferredValue(t)};ye.useEffect=function(t,e){return In.current.useEffect(t,e)};ye.useId=function(){return In.current.useId()};ye.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return In.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};ye.useRef=function(t){return In.current.useRef(t)};ye.useState=function(t){return In.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return In.current.useTransition()};ye.version="18.3.1";FR.exports=ye;var F=FR.exports;const ve=S0(F),mp=QV({__proto__:null,default:ve},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dF=F,hF=Symbol.for("react.element"),fF=Symbol.for("react.fragment"),pF=Object.prototype.hasOwnProperty,mF=dF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gF={key:!0,ref:!0,__self:!0,__source:!0};function KR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pF.call(e,r)&&!gF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hF,type:t,key:s,ref:o,props:i,_owner:mF.current}}Om.Fragment=fF;Om.jsx=KR;Om.jsxs=KR;VR.exports=Om;var R=VR.exports,n_={},GR={exports:{}},Zn={},QR={exports:{}},JR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ne){var oe=Q.length;Q.push(ne);e:for(;0<oe;){var ge=oe-1>>>1,be=Q[ge];if(0<i(be,ne))Q[ge]=ne,Q[oe]=be,oe=ge;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],oe=Q.pop();if(oe!==ne){Q[0]=oe;e:for(var ge=0,be=Q.length,We=be>>>1;ge<We;){var Ir=2*(ge+1)-1,Er=Q[Ir],Tr=Ir+1,nr=Q[Tr];if(0>i(Er,oe))Tr<be&&0>i(nr,Er)?(Q[ge]=nr,Q[Tr]=oe,ge=Tr):(Q[ge]=Er,Q[Ir]=oe,ge=Ir);else if(Tr<be&&0>i(nr,oe))Q[ge]=nr,Q[Tr]=oe,ge=Tr;else break e}}return ne}function i(Q,ne){var oe=Q.sortIndex-ne.sortIndex;return oe!==0?oe:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Q){for(var ne=n(l);ne!==null;){if(ne.callback===null)r(l);else if(ne.startTime<=Q)r(l),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(l)}}function x(Q){if(v=!1,w(Q),!y)if(n(u)!==null)y=!0,Yt(k);else{var ne=n(l);ne!==null&&pt(x,ne.startTime-Q)}}function k(Q,ne){y=!1,v&&(v=!1,I(E),E=-1),m=!0;var oe=f;try{for(w(ne),h=n(u);h!==null&&(!(h.expirationTime>ne)||Q&&!O());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,f=h.priorityLevel;var be=ge(h.expirationTime<=ne);ne=t.unstable_now(),typeof be=="function"?h.callback=be:h===n(u)&&r(u),w(ne)}else r(u);h=n(u)}if(h!==null)var We=!0;else{var Ir=n(l);Ir!==null&&pt(x,Ir.startTime-ne),We=!1}return We}finally{h=null,f=oe,m=!1}}var D=!1,T=null,E=-1,P=5,A=-1;function O(){return!(t.unstable_now()-A<P)}function N(){if(T!==null){var Q=t.unstable_now();A=Q;var ne=!0;try{ne=T(!0,Q)}finally{ne?C():(D=!1,T=null)}}else D=!1}var C;if(typeof _=="function")C=function(){_(N)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Re=De.port2;De.port1.onmessage=N,C=function(){Re.postMessage(null)}}else C=function(){S(N,0)};function Yt(Q){T=Q,D||(D=!0,C())}function pt(Q,ne){E=S(function(){Q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Yt(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var oe=f;f=ne;try{return Q()}finally{f=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=f;f=Q;try{return ne()}finally{f=oe}},t.unstable_scheduleCallback=function(Q,ne,oe){var ge=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,Q){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=oe+be,Q={id:d++,callback:ne,priorityLevel:Q,startTime:oe,expirationTime:be,sortIndex:-1},oe>ge?(Q.sortIndex=oe,e(l,Q),n(u)===null&&Q===n(l)&&(v?(I(E),E=-1):v=!0,pt(x,oe-ge))):(Q.sortIndex=be,e(u,Q),y||m||(y=!0,Yt(k))),Q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Q){var ne=f;return function(){var oe=f;f=ne;try{return Q.apply(this,arguments)}finally{f=oe}}}})(JR);QR.exports=JR;var yF=QR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vF=F,Yn=yF;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YR=new Set,Gc={};function da(t,e){Pu(t,e),Pu(t+"Capture",e)}function Pu(t,e){for(Gc[t]=e,t=0;t<e.length;t++)YR.add(e[t])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r_=Object.prototype.hasOwnProperty,_F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BS={},zS={};function wF(t){return r_.call(zS,t)?!0:r_.call(BS,t)?!1:_F.test(t)?zS[t]=!0:(BS[t]=!0,!1)}function IF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EF(t,e,n,r){if(e===null||typeof e>"u"||IF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function k0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C0,k0);Qt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C0,k0);Qt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C0,k0);Qt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function O0(t,e,n,r){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EF(e,n,i,r)&&(n=null),r||i===null?wF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ki=vF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gh=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),i_=Symbol.for("react.profiler"),XR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),s_=Symbol.for("react.suspense"),o_=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),eC=Symbol.for("react.offscreen"),qS=Symbol.iterator;function $l(t){return t===null||typeof t!="object"?null:(t=qS&&t[qS]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Ky;function uc(t){if(Ky===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ky=e&&e[1]||""}return`
`+Ky+t}var Gy=!1;function Qy(t,e){if(!t||Gy)return"";Gy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Gy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function TF(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=Qy(t.type,!1),t;case 11:return t=Qy(t.type.render,!1),t;case 1:return t=Qy(t.type,!0),t;default:return""}}function a_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Za:return"Fragment";case Xa:return"Portal";case i_:return"Profiler";case x0:return"StrictMode";case s_:return"Suspense";case o_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZR:return(t.displayName||"Context")+".Consumer";case XR:return(t._context.displayName||"Context")+".Provider";case N0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D0:return e=t.displayName||null,e!==null?e:a_(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return a_(t(e))}catch{}}return null}function SF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a_(e);case 8:return e===x0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bF(t){var e=tC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qh(t){t._valueTracker||(t._valueTracker=bF(t))}function nC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function u_(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function WS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rC(t,e){e=e.checked,e!=null&&O0(t,"checked",e,!1)}function l_(t,e){rC(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?c_(t,e.type,n):e.hasOwnProperty("defaultValue")&&c_(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function HS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function c_(t,e,n){(e!=="number"||gp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lc=Array.isArray;function du(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function d_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(lc(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function iC(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function GS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jh,oC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jh=Jh||document.createElement("div"),Jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PF=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){PF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function aC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function uC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AF=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f_(t,e){if(e){if(AF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function p_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m_=null;function L0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var g_=null,hu=null,fu=null;function QS(t){if(t=zd(t)){if(typeof g_!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Mm(e),g_(t.stateNode,t.type,e))}}function lC(t){hu?fu?fu.push(t):fu=[t]:hu=t}function cC(){if(hu){var t=hu,e=fu;if(fu=hu=null,QS(t),e)for(t=0;t<e.length;t++)QS(e[t])}}function dC(t,e){return t(e)}function hC(){}var Jy=!1;function fC(t,e,n){if(Jy)return t(e,n);Jy=!0;try{return dC(t,e,n)}finally{Jy=!1,(hu!==null||fu!==null)&&(hC(),cC())}}function Jc(t,e){var n=t.stateNode;if(n===null)return null;var r=Mm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var y_=!1;if(Li)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){y_=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{y_=!1}function RF(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(d){this.onError(d)}}var Sc=!1,yp=null,vp=!1,v_=null,CF={onError:function(t){Sc=!0,yp=t}};function kF(t,e,n,r,i,s,o,a,u){Sc=!1,yp=null,RF.apply(CF,arguments)}function OF(t,e,n,r,i,s,o,a,u){if(kF.apply(this,arguments),Sc){if(Sc){var l=yp;Sc=!1,yp=null}else throw Error(z(198));vp||(vp=!0,v_=l)}}function ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JS(t){if(ha(t)!==t)throw Error(z(188))}function xF(t){var e=t.alternate;if(!e){if(e=ha(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return JS(i),t;if(s===r)return JS(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function mC(t){return t=xF(t),t!==null?gC(t):null}function gC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gC(t);if(e!==null)return e;t=t.sibling}return null}var yC=Yn.unstable_scheduleCallback,YS=Yn.unstable_cancelCallback,NF=Yn.unstable_shouldYield,DF=Yn.unstable_requestPaint,mt=Yn.unstable_now,LF=Yn.unstable_getCurrentPriorityLevel,M0=Yn.unstable_ImmediatePriority,vC=Yn.unstable_UserBlockingPriority,_p=Yn.unstable_NormalPriority,MF=Yn.unstable_LowPriority,_C=Yn.unstable_IdlePriority,xm=null,ni=null;function VF(t){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(xm,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:$F,FF=Math.log,UF=Math.LN2;function $F(t){return t>>>=0,t===0?32:31-(FF(t)/UF|0)|0}var Yh=64,Xh=4194304;function cc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cc(a):(s&=o,s!==0&&(r=cc(s)))}else o=n&~i,o!==0?r=cc(o):s!==0&&(r=cc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),i=1<<n,r|=t[n],e&=~i;return r}function jF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=jF(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function __(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wC(){var t=Yh;return Yh<<=1,!(Yh&4194240)&&(Yh=64),t}function Yy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function zF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function V0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function IC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EC,F0,TC,SC,bC,w_=!1,Zh=[],As=null,Rs=null,Cs=null,Yc=new Map,Xc=new Map,gs=[],qF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XS(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(e.pointerId)}}function Bl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zd(e),e!==null&&F0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WF(t,e,n,r,i){switch(e){case"focusin":return As=Bl(As,t,e,n,r,i),!0;case"dragenter":return Rs=Bl(Rs,t,e,n,r,i),!0;case"mouseover":return Cs=Bl(Cs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yc.set(s,Bl(Yc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xc.set(s,Bl(Xc.get(s)||null,t,e,n,r,i)),!0}return!1}function PC(t){var e=Ro(t.target);if(e!==null){var n=ha(e);if(n!==null){if(e=n.tag,e===13){if(e=pC(n),e!==null){t.blockedOn=e,bC(t.priority,function(){TC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);m_=r,n.target.dispatchEvent(r),m_=null}else return e=zd(n),e!==null&&F0(e),t.blockedOn=n,!1;e.shift()}return!0}function ZS(t,e,n){kf(t)&&n.delete(e)}function HF(){w_=!1,As!==null&&kf(As)&&(As=null),Rs!==null&&kf(Rs)&&(Rs=null),Cs!==null&&kf(Cs)&&(Cs=null),Yc.forEach(ZS),Xc.forEach(ZS)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,w_||(w_=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,HF)))}function Zc(t){function e(i){return zl(i,t)}if(0<Zh.length){zl(Zh[0],t);for(var n=1;n<Zh.length;n++){var r=Zh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&zl(As,t),Rs!==null&&zl(Rs,t),Cs!==null&&zl(Cs,t),Yc.forEach(e),Xc.forEach(e),n=0;n<gs.length;n++)r=gs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gs.length&&(n=gs[0],n.blockedOn===null);)PC(n),n.blockedOn===null&&gs.shift()}var pu=Ki.ReactCurrentBatchConfig,Ip=!0;function KF(t,e,n,r){var i=Oe,s=pu.transition;pu.transition=null;try{Oe=1,U0(t,e,n,r)}finally{Oe=i,pu.transition=s}}function GF(t,e,n,r){var i=Oe,s=pu.transition;pu.transition=null;try{Oe=4,U0(t,e,n,r)}finally{Oe=i,pu.transition=s}}function U0(t,e,n,r){if(Ip){var i=I_(t,e,n,r);if(i===null)av(t,e,r,Ep,n),XS(t,r);else if(WF(i,t,e,n,r))r.stopPropagation();else if(XS(t,r),e&4&&-1<qF.indexOf(t)){for(;i!==null;){var s=zd(i);if(s!==null&&EC(s),s=I_(t,e,n,r),s===null&&av(t,e,r,Ep,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else av(t,e,r,null,n)}}var Ep=null;function I_(t,e,n,r){if(Ep=null,t=L0(r),t=Ro(t),t!==null)if(e=ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ep=t,null}function AC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LF()){case M0:return 1;case vC:return 4;case _p:case MF:return 16;case _C:return 536870912;default:return 16}default:return 16}}var Is=null,$0=null,Of=null;function RC(){if(Of)return Of;var t,e=$0,n=e.length,r,i="value"in Is?Is.value:Is.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Of=i.slice(t,1<r?1-r:void 0)}function xf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ef(){return!0}function eb(){return!1}function er(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ef:eb,this.isPropagationStopped=eb,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ef)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ef)},persist:function(){},isPersistent:ef}),e}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j0=er(tl),Bd=rt({},tl,{view:0,detail:0}),QF=er(Bd),Xy,Zy,ql,Nm=rt({},Bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(Xy=t.screenX-ql.screenX,Zy=t.screenY-ql.screenY):Zy=Xy=0,ql=t),Xy)},movementY:function(t){return"movementY"in t?t.movementY:Zy}}),tb=er(Nm),JF=rt({},Nm,{dataTransfer:0}),YF=er(JF),XF=rt({},Bd,{relatedTarget:0}),ev=er(XF),ZF=rt({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),eU=er(ZF),tU=rt({},tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nU=er(tU),rU=rt({},tl,{data:0}),nb=er(rU),iU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oU[t])?!!e[t]:!1}function B0(){return aU}var uU=rt({},Bd,{key:function(t){if(t.key){var e=iU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(t){return t.type==="keypress"?xf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lU=er(uU),cU=rt({},Nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rb=er(cU),dU=rt({},Bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),hU=er(dU),fU=rt({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),pU=er(fU),mU=rt({},Nm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gU=er(mU),yU=[9,13,27,32],z0=Li&&"CompositionEvent"in window,bc=null;Li&&"documentMode"in document&&(bc=document.documentMode);var vU=Li&&"TextEvent"in window&&!bc,CC=Li&&(!z0||bc&&8<bc&&11>=bc),ib=" ",sb=!1;function kC(t,e){switch(t){case"keyup":return yU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eu=!1;function _U(t,e){switch(t){case"compositionend":return OC(e);case"keypress":return e.which!==32?null:(sb=!0,ib);case"textInput":return t=e.data,t===ib&&sb?null:t;default:return null}}function wU(t,e){if(eu)return t==="compositionend"||!z0&&kC(t,e)?(t=RC(),Of=$0=Is=null,eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CC&&e.locale!=="ko"?null:e.data;default:return null}}var IU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ob(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IU[t.type]:e==="textarea"}function xC(t,e,n,r){lC(r),e=Tp(e,"onChange"),0<e.length&&(n=new j0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pc=null,ed=null;function EU(t){zC(t,0)}function Dm(t){var e=ru(t);if(nC(e))return t}function TU(t,e){if(t==="change")return e}var NC=!1;if(Li){var tv;if(Li){var nv="oninput"in document;if(!nv){var ab=document.createElement("div");ab.setAttribute("oninput","return;"),nv=typeof ab.oninput=="function"}tv=nv}else tv=!1;NC=tv&&(!document.documentMode||9<document.documentMode)}function ub(){Pc&&(Pc.detachEvent("onpropertychange",DC),ed=Pc=null)}function DC(t){if(t.propertyName==="value"&&Dm(ed)){var e=[];xC(e,ed,t,L0(t)),fC(EU,e)}}function SU(t,e,n){t==="focusin"?(ub(),Pc=e,ed=n,Pc.attachEvent("onpropertychange",DC)):t==="focusout"&&ub()}function bU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dm(ed)}function PU(t,e){if(t==="click")return Dm(e)}function AU(t,e){if(t==="input"||t==="change")return Dm(e)}function RU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:RU;function td(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r_.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function lb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cb(t,e){var n=lb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lb(n)}}function LC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MC(){for(var t=window,e=gp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gp(t.document)}return e}function q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CU(t){var e=MC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LC(n.ownerDocument.documentElement,n)){if(r!==null&&q0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cb(n,s);var o=cb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kU=Li&&"documentMode"in document&&11>=document.documentMode,tu=null,E_=null,Ac=null,T_=!1;function db(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T_||tu==null||tu!==gp(r)||(r=tu,"selectionStart"in r&&q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ac&&td(Ac,r)||(Ac=r,r=Tp(E_,"onSelect"),0<r.length&&(e=new j0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tu)))}function tf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nu={animationend:tf("Animation","AnimationEnd"),animationiteration:tf("Animation","AnimationIteration"),animationstart:tf("Animation","AnimationStart"),transitionend:tf("Transition","TransitionEnd")},rv={},VC={};Li&&(VC=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function Lm(t){if(rv[t])return rv[t];if(!nu[t])return t;var e=nu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VC)return rv[t]=e[n];return t}var FC=Lm("animationend"),UC=Lm("animationiteration"),$C=Lm("animationstart"),jC=Lm("transitionend"),BC=new Map,hb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(t,e){BC.set(t,e),da(e,[t])}for(var iv=0;iv<hb.length;iv++){var sv=hb[iv],OU=sv.toLowerCase(),xU=sv[0].toUpperCase()+sv.slice(1);Ys(OU,"on"+xU)}Ys(FC,"onAnimationEnd");Ys(UC,"onAnimationIteration");Ys($C,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(jC,"onTransitionEnd");Pu("onMouseEnter",["mouseout","mouseover"]);Pu("onMouseLeave",["mouseout","mouseover"]);Pu("onPointerEnter",["pointerout","pointerover"]);Pu("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NU=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function fb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OF(r,e,void 0,t),t.currentTarget=null}function zC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;fb(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;fb(i,a,l),s=u}}}if(vp)throw t=v_,vp=!1,v_=null,t}function je(t,e){var n=e[R_];n===void 0&&(n=e[R_]=new Set);var r=t+"__bubble";n.has(r)||(qC(e,t,2,!1),n.add(r))}function ov(t,e,n){var r=0;e&&(r|=4),qC(n,t,r,e)}var nf="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[nf]){t[nf]=!0,YR.forEach(function(n){n!=="selectionchange"&&(NU.has(n)||ov(n,!1,t),ov(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nf]||(e[nf]=!0,ov("selectionchange",!1,e))}}function qC(t,e,n,r){switch(AC(e)){case 1:var i=KF;break;case 4:i=GF;break;default:i=U0}n=i.bind(null,e,n,t),i=void 0,!y_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function av(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ro(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fC(function(){var l=s,d=L0(n),h=[];e:{var f=BC.get(t);if(f!==void 0){var m=j0,y=t;switch(t){case"keypress":if(xf(n)===0)break e;case"keydown":case"keyup":m=lU;break;case"focusin":y="focus",m=ev;break;case"focusout":y="blur",m=ev;break;case"beforeblur":case"afterblur":m=ev;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hU;break;case FC:case UC:case $C:m=eU;break;case jC:m=pU;break;case"scroll":m=QF;break;case"wheel":m=gU;break;case"copy":case"cut":case"paste":m=nU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rb}var v=(e&4)!==0,S=!v&&t==="scroll",I=v?f!==null?f+"Capture":null:f;v=[];for(var _=l,w;_!==null;){w=_;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,I!==null&&(x=Jc(_,I),x!=null&&v.push(rd(_,x,w)))),S)break;_=_.return}0<v.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==m_&&(y=n.relatedTarget||n.fromElement)&&(Ro(y)||y[Mi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=l,y=y?Ro(y):null,y!==null&&(S=ha(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=l),m!==y)){if(v=tb,x="onMouseLeave",I="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=rb,x="onPointerLeave",I="onPointerEnter",_="pointer"),S=m==null?f:ru(m),w=y==null?f:ru(y),f=new v(x,_+"leave",m,n,d),f.target=S,f.relatedTarget=w,x=null,Ro(d)===l&&(v=new v(I,_+"enter",y,n,d),v.target=w,v.relatedTarget=S,x=v),S=x,m&&y)t:{for(v=m,I=y,_=0,w=v;w;w=xa(w))_++;for(w=0,x=I;x;x=xa(x))w++;for(;0<_-w;)v=xa(v),_--;for(;0<w-_;)I=xa(I),w--;for(;_--;){if(v===I||I!==null&&v===I.alternate)break t;v=xa(v),I=xa(I)}v=null}else v=null;m!==null&&pb(h,f,m,v,!1),y!==null&&S!==null&&pb(h,S,y,v,!0)}}e:{if(f=l?ru(l):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=TU;else if(ob(f))if(NC)k=AU;else{k=bU;var D=SU}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=PU);if(k&&(k=k(t,l))){xC(h,k,n,d);break e}D&&D(t,f,l),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&c_(f,"number",f.value)}switch(D=l?ru(l):window,t){case"focusin":(ob(D)||D.contentEditable==="true")&&(tu=D,E_=l,Ac=null);break;case"focusout":Ac=E_=tu=null;break;case"mousedown":T_=!0;break;case"contextmenu":case"mouseup":case"dragend":T_=!1,db(h,n,d);break;case"selectionchange":if(kU)break;case"keydown":case"keyup":db(h,n,d)}var T;if(z0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else eu?kC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(CC&&n.locale!=="ko"&&(eu||E!=="onCompositionStart"?E==="onCompositionEnd"&&eu&&(T=RC()):(Is=d,$0="value"in Is?Is.value:Is.textContent,eu=!0)),D=Tp(l,E),0<D.length&&(E=new nb(E,t,null,n,d),h.push({event:E,listeners:D}),T?E.data=T:(T=OC(n),T!==null&&(E.data=T)))),(T=vU?_U(t,n):wU(t,n))&&(l=Tp(l,"onBeforeInput"),0<l.length&&(d=new nb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:l}),d.data=T))}zC(h,e)})}function rd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jc(t,n),s!=null&&r.unshift(rd(t,s,i)),s=Jc(t,e),s!=null&&r.push(rd(t,s,i))),t=t.return}return r}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Jc(n,s),u!=null&&o.unshift(rd(n,u,a))):i||(u=Jc(n,s),u!=null&&o.push(rd(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DU=/\r\n?/g,LU=/\u0000|\uFFFD/g;function mb(t){return(typeof t=="string"?t:""+t).replace(DU,`
`).replace(LU,"")}function rf(t,e,n){if(e=mb(e),mb(t)!==e&&n)throw Error(z(425))}function Sp(){}var S_=null,b_=null;function P_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var A_=typeof setTimeout=="function"?setTimeout:void 0,MU=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,VU=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(t){return gb.resolve(null).then(t).catch(FU)}:A_;function FU(t){setTimeout(function(){throw t})}function uv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zc(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Wr="__reactFiber$"+nl,id="__reactProps$"+nl,Mi="__reactContainer$"+nl,R_="__reactEvents$"+nl,UU="__reactListeners$"+nl,$U="__reactHandles$"+nl;function Ro(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mi]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yb(t);t!==null;){if(n=t[Wr])return n;t=yb(t)}return e}t=n,n=t.parentNode}return null}function zd(t){return t=t[Wr]||t[Mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ru(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Mm(t){return t[id]||null}var C_=[],iu=-1;function Xs(t){return{current:t}}function qe(t){0>iu||(t.current=C_[iu],C_[iu]=null,iu--)}function Fe(t,e){iu++,C_[iu]=t.current,t.current=e}var Us={},un=Xs(Us),On=Xs(!1),Bo=Us;function Au(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function bp(){qe(On),qe(un)}function vb(t,e,n){if(un.current!==Us)throw Error(z(168));Fe(un,e),Fe(On,n)}function WC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,SF(t)||"Unknown",i));return rt({},n,r)}function Pp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,Bo=un.current,Fe(un,t),Fe(On,On.current),!0}function _b(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=WC(t,e,Bo),r.__reactInternalMemoizedMergedChildContext=t,qe(On),qe(un),Fe(un,t)):qe(On),Fe(On,n)}var Ii=null,Vm=!1,lv=!1;function HC(t){Ii===null?Ii=[t]:Ii.push(t)}function jU(t){Vm=!0,HC(t)}function Zs(){if(!lv&&Ii!==null){lv=!0;var t=0,e=Oe;try{var n=Ii;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ii=null,Vm=!1}catch(i){throw Ii!==null&&(Ii=Ii.slice(t+1)),yC(M0,Zs),i}finally{Oe=e,lv=!1}}return null}var su=[],ou=0,Ap=null,Rp=0,or=[],ar=0,zo=null,Ti=1,Si="";function vo(t,e){su[ou++]=Rp,su[ou++]=Ap,Ap=t,Rp=e}function KC(t,e,n){or[ar++]=Ti,or[ar++]=Si,or[ar++]=zo,zo=t;var r=Ti;t=Si;var i=32-xr(r)-1;r&=~(1<<i),n+=1;var s=32-xr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ti=1<<32-xr(e)+i|n<<i|r,Si=s+t}else Ti=1<<s|n<<i|r,Si=t}function W0(t){t.return!==null&&(vo(t,1),KC(t,1,0))}function H0(t){for(;t===Ap;)Ap=su[--ou],su[ou]=null,Rp=su[--ou],su[ou]=null;for(;t===zo;)zo=or[--ar],or[ar]=null,Si=or[--ar],or[ar]=null,Ti=or[--ar],or[ar]=null}var Gn=null,Hn=null,Ke=!1,kr=null;function GC(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,Hn=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zo!==null?{id:Ti,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,Hn=null,!0):!1;default:return!1}}function k_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O_(t){if(Ke){var e=Hn;if(e){var n=e;if(!wb(t,e)){if(k_(t))throw Error(z(418));e=ks(n.nextSibling);var r=Gn;e&&wb(t,e)?GC(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Gn=t)}}else{if(k_(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ke=!1,Gn=t}}}function Ib(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function sf(t){if(t!==Gn)return!1;if(!Ke)return Ib(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!P_(t.type,t.memoizedProps)),e&&(e=Hn)){if(k_(t))throw QC(),Error(z(418));for(;e;)GC(t,e),e=ks(e.nextSibling)}if(Ib(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Gn?ks(t.stateNode.nextSibling):null;return!0}function QC(){for(var t=Hn;t;)t=ks(t.nextSibling)}function Ru(){Hn=Gn=null,Ke=!1}function K0(t){kr===null?kr=[t]:kr.push(t)}var BU=Ki.ReactCurrentBatchConfig;function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function of(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Eb(t){var e=t._init;return e(t._payload)}function JC(t){function e(I,_){if(t){var w=I.deletions;w===null?(I.deletions=[_],I.flags|=16):w.push(_)}}function n(I,_){if(!t)return null;for(;_!==null;)e(I,_),_=_.sibling;return null}function r(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function i(I,_){return I=Ds(I,_),I.index=0,I.sibling=null,I}function s(I,_,w){return I.index=w,t?(w=I.alternate,w!==null?(w=w.index,w<_?(I.flags|=2,_):w):(I.flags|=2,_)):(I.flags|=1048576,_)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,_,w,x){return _===null||_.tag!==6?(_=gv(w,I.mode,x),_.return=I,_):(_=i(_,w),_.return=I,_)}function u(I,_,w,x){var k=w.type;return k===Za?d(I,_,w.props.children,x,w.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ps&&Eb(k)===_.type)?(x=i(_,w.props),x.ref=Wl(I,_,w),x.return=I,x):(x=Uf(w.type,w.key,w.props,null,I.mode,x),x.ref=Wl(I,_,w),x.return=I,x)}function l(I,_,w,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=yv(w,I.mode,x),_.return=I,_):(_=i(_,w.children||[]),_.return=I,_)}function d(I,_,w,x,k){return _===null||_.tag!==7?(_=Vo(w,I.mode,x,k),_.return=I,_):(_=i(_,w),_.return=I,_)}function h(I,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=gv(""+_,I.mode,w),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gh:return w=Uf(_.type,_.key,_.props,null,I.mode,w),w.ref=Wl(I,null,_),w.return=I,w;case Xa:return _=yv(_,I.mode,w),_.return=I,_;case ps:var x=_._init;return h(I,x(_._payload),w)}if(lc(_)||$l(_))return _=Vo(_,I.mode,w,null),_.return=I,_;of(I,_)}return null}function f(I,_,w,x){var k=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(I,_,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gh:return w.key===k?u(I,_,w,x):null;case Xa:return w.key===k?l(I,_,w,x):null;case ps:return k=w._init,f(I,_,k(w._payload),x)}if(lc(w)||$l(w))return k!==null?null:d(I,_,w,x,null);of(I,w)}return null}function m(I,_,w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return I=I.get(w)||null,a(_,I,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gh:return I=I.get(x.key===null?w:x.key)||null,u(_,I,x,k);case Xa:return I=I.get(x.key===null?w:x.key)||null,l(_,I,x,k);case ps:var D=x._init;return m(I,_,w,D(x._payload),k)}if(lc(x)||$l(x))return I=I.get(w)||null,d(_,I,x,k,null);of(_,x)}return null}function y(I,_,w,x){for(var k=null,D=null,T=_,E=_=0,P=null;T!==null&&E<w.length;E++){T.index>E?(P=T,T=null):P=T.sibling;var A=f(I,T,w[E],x);if(A===null){T===null&&(T=P);break}t&&T&&A.alternate===null&&e(I,T),_=s(A,_,E),D===null?k=A:D.sibling=A,D=A,T=P}if(E===w.length)return n(I,T),Ke&&vo(I,E),k;if(T===null){for(;E<w.length;E++)T=h(I,w[E],x),T!==null&&(_=s(T,_,E),D===null?k=T:D.sibling=T,D=T);return Ke&&vo(I,E),k}for(T=r(I,T);E<w.length;E++)P=m(T,I,E,w[E],x),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?E:P.key),_=s(P,_,E),D===null?k=P:D.sibling=P,D=P);return t&&T.forEach(function(O){return e(I,O)}),Ke&&vo(I,E),k}function v(I,_,w,x){var k=$l(w);if(typeof k!="function")throw Error(z(150));if(w=k.call(w),w==null)throw Error(z(151));for(var D=k=null,T=_,E=_=0,P=null,A=w.next();T!==null&&!A.done;E++,A=w.next()){T.index>E?(P=T,T=null):P=T.sibling;var O=f(I,T,A.value,x);if(O===null){T===null&&(T=P);break}t&&T&&O.alternate===null&&e(I,T),_=s(O,_,E),D===null?k=O:D.sibling=O,D=O,T=P}if(A.done)return n(I,T),Ke&&vo(I,E),k;if(T===null){for(;!A.done;E++,A=w.next())A=h(I,A.value,x),A!==null&&(_=s(A,_,E),D===null?k=A:D.sibling=A,D=A);return Ke&&vo(I,E),k}for(T=r(I,T);!A.done;E++,A=w.next())A=m(T,I,E,A.value,x),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),_=s(A,_,E),D===null?k=A:D.sibling=A,D=A);return t&&T.forEach(function(N){return e(I,N)}),Ke&&vo(I,E),k}function S(I,_,w,x){if(typeof w=="object"&&w!==null&&w.type===Za&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gh:e:{for(var k=w.key,D=_;D!==null;){if(D.key===k){if(k=w.type,k===Za){if(D.tag===7){n(I,D.sibling),_=i(D,w.props.children),_.return=I,I=_;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ps&&Eb(k)===D.type){n(I,D.sibling),_=i(D,w.props),_.ref=Wl(I,D,w),_.return=I,I=_;break e}n(I,D);break}else e(I,D);D=D.sibling}w.type===Za?(_=Vo(w.props.children,I.mode,x,w.key),_.return=I,I=_):(x=Uf(w.type,w.key,w.props,null,I.mode,x),x.ref=Wl(I,_,w),x.return=I,I=x)}return o(I);case Xa:e:{for(D=w.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(I,_.sibling),_=i(_,w.children||[]),_.return=I,I=_;break e}else{n(I,_);break}else e(I,_);_=_.sibling}_=yv(w,I.mode,x),_.return=I,I=_}return o(I);case ps:return D=w._init,S(I,_,D(w._payload),x)}if(lc(w))return y(I,_,w,x);if($l(w))return v(I,_,w,x);of(I,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(I,_.sibling),_=i(_,w),_.return=I,I=_):(n(I,_),_=gv(w,I.mode,x),_.return=I,I=_),o(I)):n(I,_)}return S}var Cu=JC(!0),YC=JC(!1),Cp=Xs(null),kp=null,au=null,G0=null;function Q0(){G0=au=kp=null}function J0(t){var e=Cp.current;qe(Cp),t._currentValue=e}function x_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mu(t,e){kp=t,G0=au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(G0!==t)if(t={context:t,memoizedValue:e,next:null},au===null){if(kp===null)throw Error(z(308));au=t,kp.dependencies={lanes:0,firstContext:t}}else au=au.next=t;return e}var Co=null;function Y0(t){Co===null?Co=[t]:Co.push(t)}function XC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Y0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vi(t,r)}function Vi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function X0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vi(t,n)}return i=r.interleaved,i===null?(e.next=e,Y0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vi(t,n)}function Nf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V0(t,n)}}function Tb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Op(t,e,n,r){var i=t.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,d=l=u=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=rt({},h,f);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(l=d=m,u=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wo|=o,t.lanes=o,t.memoizedState=h}}function Sb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var qd={},ri=Xs(qd),sd=Xs(qd),od=Xs(qd);function ko(t){if(t===qd)throw Error(z(174));return t}function Z0(t,e){switch(Fe(od,e),Fe(sd,t),Fe(ri,qd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:h_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=h_(e,t)}qe(ri),Fe(ri,e)}function ku(){qe(ri),qe(sd),qe(od)}function ek(t){ko(od.current);var e=ko(ri.current),n=h_(e,t.type);e!==n&&(Fe(sd,t),Fe(ri,n))}function eI(t){sd.current===t&&(qe(ri),qe(sd))}var Ze=Xs(0);function xp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cv=[];function tI(){for(var t=0;t<cv.length;t++)cv[t]._workInProgressVersionPrimary=null;cv.length=0}var Df=Ki.ReactCurrentDispatcher,dv=Ki.ReactCurrentBatchConfig,qo=0,et=null,Pt=null,Dt=null,Np=!1,Rc=!1,ad=0,zU=0;function tn(){throw Error(z(321))}function nI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function rI(t,e,n,r,i,s){if(qo=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Df.current=t===null||t.memoizedState===null?KU:GU,t=n(r,i),Rc){s=0;do{if(Rc=!1,ad=0,25<=s)throw Error(z(301));s+=1,Dt=Pt=null,e.updateQueue=null,Df.current=QU,t=n(r,i)}while(Rc)}if(Df.current=Dp,e=Pt!==null&&Pt.next!==null,qo=0,Dt=Pt=et=null,Np=!1,e)throw Error(z(300));return t}function iI(){var t=ad!==0;return ad=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?et.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function yr(){if(Pt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Dt===null?et.memoizedState:Dt.next;if(e!==null)Dt=e,Pt=t;else{if(t===null)throw Error(z(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?et.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function ud(t,e){return typeof e=="function"?e(t):e}function hv(t){var e=yr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var d=l.lane;if((qo&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,et.lanes|=d,Wo|=d}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Lr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Wo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fv(t){var e=yr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lr(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tk(){}function nk(t,e){var n=et,r=yr(),i=e(),s=!Lr(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,sI(sk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,ld(9,ik.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(z(349));qo&30||rk(n,e,i)}return i}function rk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ik(t,e,n,r){e.value=n,e.getSnapshot=r,ok(e)&&ak(t)}function sk(t,e,n){return n(function(){ok(e)&&ak(t)})}function ok(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function ak(t){var e=Vi(t,1);e!==null&&Nr(e,t,1,-1)}function bb(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:t},e.queue=t,t=t.dispatch=HU.bind(null,et,t),[e.memoizedState,t]}function ld(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uk(){return yr().memoizedState}function Lf(t,e,n,r){var i=Br();et.flags|=t,i.memoizedState=ld(1|e,n,void 0,r===void 0?null:r)}function Fm(t,e,n,r){var i=yr();r=r===void 0?null:r;var s=void 0;if(Pt!==null){var o=Pt.memoizedState;if(s=o.destroy,r!==null&&nI(r,o.deps)){i.memoizedState=ld(e,n,s,r);return}}et.flags|=t,i.memoizedState=ld(1|e,n,s,r)}function Pb(t,e){return Lf(8390656,8,t,e)}function sI(t,e){return Fm(2048,8,t,e)}function lk(t,e){return Fm(4,2,t,e)}function ck(t,e){return Fm(4,4,t,e)}function dk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hk(t,e,n){return n=n!=null?n.concat([t]):null,Fm(4,4,dk.bind(null,e,t),n)}function oI(){}function fk(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pk(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mk(t,e,n){return qo&21?(Lr(n,e)||(n=wC(),et.lanes|=n,Wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function qU(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=dv.transition;dv.transition={};try{t(!1),e()}finally{Oe=n,dv.transition=r}}function gk(){return yr().memoizedState}function WU(t,e,n){var r=Ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yk(t))vk(e,n);else if(n=XC(t,e,n,r),n!==null){var i=yn();Nr(n,t,r,i),_k(n,e,r)}}function HU(t,e,n){var r=Ns(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yk(t))vk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,o)){var u=e.interleaved;u===null?(i.next=i,Y0(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=XC(t,e,i,r),n!==null&&(i=yn(),Nr(n,t,r,i),_k(n,e,r))}}function yk(t){var e=t.alternate;return t===et||e!==null&&e===et}function vk(t,e){Rc=Np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _k(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V0(t,n)}}var Dp={readContext:gr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},KU={readContext:gr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:Pb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lf(4194308,4,dk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lf(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WU.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:bb,useDebugValue:oI,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=bb(!1),e=t[0];return t=qU.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Br();if(Ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Mt===null)throw Error(z(349));qo&30||rk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Pb(sk.bind(null,r,s,t),[t]),r.flags|=2048,ld(9,ik.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Br(),e=Mt.identifierPrefix;if(Ke){var n=Si,r=Ti;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ad++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GU={readContext:gr,useCallback:fk,useContext:gr,useEffect:sI,useImperativeHandle:hk,useInsertionEffect:lk,useLayoutEffect:ck,useMemo:pk,useReducer:hv,useRef:uk,useState:function(){return hv(ud)},useDebugValue:oI,useDeferredValue:function(t){var e=yr();return mk(e,Pt.memoizedState,t)},useTransition:function(){var t=hv(ud)[0],e=yr().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1},QU={readContext:gr,useCallback:fk,useContext:gr,useEffect:sI,useImperativeHandle:hk,useInsertionEffect:lk,useLayoutEffect:ck,useMemo:pk,useReducer:fv,useRef:uk,useState:function(){return fv(ud)},useDebugValue:oI,useDeferredValue:function(t){var e=yr();return Pt===null?e.memoizedState=t:mk(e,Pt.memoizedState,t)},useTransition:function(){var t=fv(ud)[0],e=yr().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function N_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Um={isMounted:function(t){return(t=t._reactInternals)?ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Ns(t),s=Oi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Os(t,s,i),e!==null&&(Nr(e,t,i,r),Nf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Ns(t),s=Oi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Os(t,s,i),e!==null&&(Nr(e,t,i,r),Nf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=Ns(t),i=Oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Os(t,i,r),e!==null&&(Nr(e,t,r,n),Nf(e,t,r))}};function Ab(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!td(n,r)||!td(i,s):!0}function wk(t,e,n){var r=!1,i=Us,s=e.contextType;return typeof s=="object"&&s!==null?s=gr(s):(i=xn(e)?Bo:un.current,r=e.contextTypes,s=(r=r!=null)?Au(t,i):Us),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Um,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Um.enqueueReplaceState(e,e.state,null)}function D_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},X0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gr(s):(s=xn(e)?Bo:un.current,i.context=Au(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Um.enqueueReplaceState(i,i.state,null),Op(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ou(t,e){try{var n="",r=e;do n+=TF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function L_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JU=typeof WeakMap=="function"?WeakMap:Map;function Ik(t,e,n){n=Oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mp||(Mp=!0,W_=r),L_(t,e)},n}function Ek(t,e,n){n=Oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){L_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){L_(t,e),typeof r!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c$.bind(null,t,e,n),e.then(t,t))}function kb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ob(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Oi(-1,1),e.tag=2,Os(n,e,1))),n.lanes|=1),t)}var YU=Ki.ReactCurrentOwner,An=!1;function pn(t,e,n,r){e.child=t===null?YC(e,null,n,r):Cu(e,t.child,n,r)}function xb(t,e,n,r,i){n=n.render;var s=e.ref;return mu(e,i),r=rI(t,e,n,r,s,i),n=iI(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fi(t,e,i)):(Ke&&n&&W0(e),e.flags|=1,pn(t,e,r,i),e.child)}function Nb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Tk(t,e,s,r,i)):(t=Uf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:td,n(o,r)&&t.ref===e.ref)return Fi(t,e,i)}return e.flags|=1,t=Ds(s,r),t.ref=e.ref,t.return=e,e.child=t}function Tk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(td(s,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,Fi(t,e,i)}return M_(t,e,n,r,i)}function Sk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(lu,Bn),Bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(lu,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(lu,Bn),Bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(lu,Bn),Bn|=r;return pn(t,e,i,n),e.child}function bk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function M_(t,e,n,r,i){var s=xn(n)?Bo:un.current;return s=Au(e,s),mu(e,i),n=rI(t,e,n,r,s,i),r=iI(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fi(t,e,i)):(Ke&&r&&W0(e),e.flags|=1,pn(t,e,n,i),e.child)}function Db(t,e,n,r,i){if(xn(n)){var s=!0;Pp(e)}else s=!1;if(mu(e,i),e.stateNode===null)Mf(t,e),wk(e,n,r),D_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=gr(l):(l=xn(n)?Bo:un.current,l=Au(e,l));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Rb(e,o,r,l),ms=!1;var f=e.memoizedState;o.state=f,Op(e,r,o,i),u=e.memoizedState,a!==r||f!==u||On.current||ms?(typeof d=="function"&&(N_(e,n,d,r),u=e.memoizedState),(a=ms||Ab(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZC(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Rr(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=gr(u):(u=xn(n)?Bo:un.current,u=Au(e,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&Rb(e,o,r,u),ms=!1,f=e.memoizedState,o.state=f,Op(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||On.current||ms?(typeof m=="function"&&(N_(e,n,m,r),y=e.memoizedState),(l=ms||Ab(e,n,l,r,f,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return V_(t,e,n,r,s,i)}function V_(t,e,n,r,i,s){bk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_b(e,n,!1),Fi(t,e,s);r=e.stateNode,YU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Cu(e,t.child,null,s),e.child=Cu(e,null,a,s)):pn(t,e,a,s),e.memoizedState=r.state,i&&_b(e,n,!0),e.child}function Pk(t){var e=t.stateNode;e.pendingContext?vb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vb(t,e.context,!1),Z0(t,e.containerInfo)}function Lb(t,e,n,r,i){return Ru(),K0(i),e.flags|=256,pn(t,e,n,r),e.child}var F_={dehydrated:null,treeContext:null,retryLane:0};function U_(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ak(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ze,i&1),t===null)return O_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bm(o,r,0,null),t=Vo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=U_(n),e.memoizedState=F_,t):aI(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XU(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ds(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ds(a,s):(s=Vo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?U_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=F_,r}return s=t.child,t=s.sibling,r=Ds(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aI(t,e){return e=Bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function af(t,e,n,r){return r!==null&&K0(r),Cu(e,t.child,null,n),t=aI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XU(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pv(Error(z(422))),af(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bm({mode:"visible",children:r.children},i,0,null),s=Vo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Cu(e,t.child,null,o),e.child.memoizedState=U_(o),e.memoizedState=F_,s);if(!(e.mode&1))return af(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=pv(s,r,void 0),af(t,e,o,r)}if(a=(o&t.childLanes)!==0,An||a){if(r=Mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vi(t,i),Nr(r,t,i,-1))}return fI(),r=pv(Error(z(421))),af(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=d$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Hn=ks(i.nextSibling),Gn=e,Ke=!0,kr=null,t!==null&&(or[ar++]=Ti,or[ar++]=Si,or[ar++]=zo,Ti=t.id,Si=t.overflow,zo=e),e=aI(e,r.children),e.flags|=4096,e)}function Mb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),x_(t.return,e,n)}function mv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Rk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pn(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mb(t,n,e);else if(t.tag===19)Mb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mv(e,!0,n,null,s);break;case"together":mv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZU(t,e,n){switch(e.tag){case 3:Pk(e),Ru();break;case 5:ek(e);break;case 1:xn(e.type)&&Pp(e);break;case 4:Z0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Cp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?Ak(t,e,n):(Fe(Ze,Ze.current&1),t=Fi(t,e,n),t!==null?t.sibling:null);Fe(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,Sk(t,e,n)}return Fi(t,e,n)}var Ck,$_,kk,Ok;Ck=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$_=function(){};kk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ko(ri.current);var s=null;switch(n){case"input":i=u_(t,i),r=u_(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=d_(t,i),r=d_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sp)}f_(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Gc.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Gc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&je("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};Ok=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hl(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e$(t,e,n){var r=e.pendingProps;switch(H0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return xn(e.type)&&bp(),nn(e),null;case 3:return r=e.stateNode,ku(),qe(On),qe(un),tI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(G_(kr),kr=null))),$_(t,e),nn(e),null;case 5:eI(e);var i=ko(od.current);if(n=e.type,t!==null&&e.stateNode!=null)kk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return nn(e),null}if(t=ko(ri.current),sf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wr]=e,r[id]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<dc.length;i++)je(dc[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":WS(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":KS(r,s),je("invalid",r)}f_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rf(r.textContent,a,t),i=["children",""+a]):Gc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":Qh(r),HS(r,s,!0);break;case"textarea":Qh(r),GS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wr]=e,t[id]=r,Ck(t,e,!1,!1),e.stateNode=t;e:{switch(o=p_(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<dc.length;i++)je(dc[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":WS(t,r),i=u_(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),je("invalid",t);break;case"textarea":KS(t,r),i=d_(t,r),je("invalid",t);break;default:i=r}f_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?uC(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&oC(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Qc(t,u):typeof u=="number"&&Qc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&je("scroll",t):u!=null&&O0(t,s,u,o))}switch(n){case"input":Qh(t),HS(t,r,!1);break;case"textarea":Qh(t),GS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?du(t,!!r.multiple,s,!1):r.defaultValue!=null&&du(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)Ok(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ko(od.current),ko(ri.current),sf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(s=r.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:rf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return nn(e),null;case 13:if(qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Hn!==null&&e.mode&1&&!(e.flags&128))QC(),Ru(),e.flags|=98560,s=!1;else if(s=sf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Wr]=e}else Ru(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else kr!==null&&(G_(kr),kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?At===0&&(At=3):fI())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return ku(),$_(t,e),t===null&&nd(e.stateNode.containerInfo),nn(e),null;case 10:return J0(e.type._context),nn(e),null;case 17:return xn(e.type)&&bp(),nn(e),null;case 19:if(qe(Ze),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hl(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xp(t),o!==null){for(e.flags|=128,Hl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>xu&&(e.flags|=128,r=!0,Hl(s,!1),e.lanes=4194304)}else{if(!r)if(t=xp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return nn(e),null}else 2*mt()-s.renderingStartTime>xu&&n!==1073741824&&(e.flags|=128,r=!0,Hl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=Ze.current,Fe(Ze,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return hI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function t$(t,e){switch(H0(e),e.tag){case 1:return xn(e.type)&&bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ku(),qe(On),qe(un),tI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eI(e),null;case 13:if(qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ru()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Ze),null;case 4:return ku(),null;case 10:return J0(e.type._context),null;case 22:case 23:return hI(),null;case 24:return null;default:return null}}var uf=!1,an=!1,n$=typeof WeakSet=="function"?WeakSet:Set,X=null;function uu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function j_(t,e,n){try{n()}catch(r){ut(t,e,r)}}var Vb=!1;function r$(t,e){if(S_=Ip,t=MC(),q0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++d===r&&(u=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(b_={focusedElem:t,selectionRange:n},Ip=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,I=e.stateNode,_=I.getSnapshotBeforeUpdate(e.elementType===e.type?v:Rr(e.type,v),S);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){ut(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return y=Vb,Vb=!1,y}function Cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&j_(e,n,s)}i=i.next}while(i!==r)}}function $m(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function B_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xk(t){var e=t.alternate;e!==null&&(t.alternate=null,xk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[id],delete e[R_],delete e[UU],delete e[$U])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nk(t){return t.tag===5||t.tag===3||t.tag===4}function Fb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sp));else if(r!==4&&(t=t.child,t!==null))for(z_(t,e,n),t=t.sibling;t!==null;)z_(t,e,n),t=t.sibling}function q_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(q_(t,e,n),t=t.sibling;t!==null;)q_(t,e,n),t=t.sibling}var qt=null,Cr=!1;function is(t,e,n){for(n=n.child;n!==null;)Dk(t,e,n),n=n.sibling}function Dk(t,e,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(xm,n)}catch{}switch(n.tag){case 5:an||uu(n,e);case 6:var r=qt,i=Cr;qt=null,is(t,e,n),qt=r,Cr=i,qt!==null&&(Cr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(Cr?(t=qt,n=n.stateNode,t.nodeType===8?uv(t.parentNode,n):t.nodeType===1&&uv(t,n),Zc(t)):uv(qt,n.stateNode));break;case 4:r=qt,i=Cr,qt=n.stateNode.containerInfo,Cr=!0,is(t,e,n),qt=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&j_(n,e,o),i=i.next}while(i!==r)}is(t,e,n);break;case 1:if(!an&&(uu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,is(t,e,n),an=r):is(t,e,n);break;default:is(t,e,n)}}function Ub(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n$),e.forEach(function(r){var i=h$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,Cr=!1;break e;case 3:qt=a.stateNode.containerInfo,Cr=!0;break e;case 4:qt=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(qt===null)throw Error(z(160));Dk(s,o,i),qt=null,Cr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ut(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lk(e,t),e=e.sibling}function Lk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),jr(t),r&4){try{Cc(3,t,t.return),$m(3,t)}catch(v){ut(t,t.return,v)}try{Cc(5,t,t.return)}catch(v){ut(t,t.return,v)}}break;case 1:br(e,t),jr(t),r&512&&n!==null&&uu(n,n.return);break;case 5:if(br(e,t),jr(t),r&512&&n!==null&&uu(n,n.return),t.flags&32){var i=t.stateNode;try{Qc(i,"")}catch(v){ut(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rC(i,s),p_(a,o);var l=p_(a,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?uC(i,h):d==="dangerouslySetInnerHTML"?oC(i,h):d==="children"?Qc(i,h):O0(i,d,h,l)}switch(a){case"input":l_(i,s);break;case"textarea":iC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?du(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?du(i,!!s.multiple,s.defaultValue,!0):du(i,!!s.multiple,s.multiple?[]:"",!1))}i[id]=s}catch(v){ut(t,t.return,v)}}break;case 6:if(br(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ut(t,t.return,v)}}break;case 3:if(br(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(v){ut(t,t.return,v)}break;case 4:br(e,t),jr(t);break;case 13:br(e,t),jr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cI=mt())),r&4&&Ub(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(an=(l=an)||d,br(e,t),an=l):br(e,t),jr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:Cc(4,f,f.return);break;case 1:uu(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){ut(r,n,v)}}break;case 5:uu(f,f.return);break;case 22:if(f.memoizedState!==null){jb(h);continue}}m!==null?(m.return=f,X=m):jb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=aC("display",o))}catch(v){ut(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(v){ut(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(e,t),jr(t),r&4&&Ub(t);break;case 21:break;default:br(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nk(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qc(i,""),r.flags&=-33);var s=Fb(t);q_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fb(t);z_(t,a,o);break;default:throw Error(z(161))}}catch(u){ut(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i$(t,e,n){X=t,Mk(t)}function Mk(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||an;a=uf;var l=an;if(uf=o,(an=u)&&!l)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Bb(i):u!==null?(u.return=o,X=u):Bb(i);for(;s!==null;)X=s,Mk(s),s=s.sibling;X=i,uf=a,an=l}$b(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):$b(t)}}function $b(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||$m(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Sb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}an||e.flags&512&&B_(e)}catch(f){ut(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function jb(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Bb(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$m(4,e)}catch(u){ut(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ut(e,i,u)}}var s=e.return;try{B_(e)}catch(u){ut(e,s,u)}break;case 5:var o=e.return;try{B_(e)}catch(u){ut(e,o,u)}}}catch(u){ut(e,e.return,u)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var s$=Math.ceil,Lp=Ki.ReactCurrentDispatcher,uI=Ki.ReactCurrentOwner,hr=Ki.ReactCurrentBatchConfig,Ee=0,Mt=null,Tt=null,Gt=0,Bn=0,lu=Xs(0),At=0,cd=null,Wo=0,jm=0,lI=0,kc=null,Pn=null,cI=0,xu=1/0,wi=null,Mp=!1,W_=null,xs=null,lf=!1,Es=null,Vp=0,Oc=0,H_=null,Vf=-1,Ff=0;function yn(){return Ee&6?mt():Vf!==-1?Vf:Vf=mt()}function Ns(t){return t.mode&1?Ee&2&&Gt!==0?Gt&-Gt:BU.transition!==null?(Ff===0&&(Ff=wC()),Ff):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:AC(t.type)),t):1}function Nr(t,e,n,r){if(50<Oc)throw Oc=0,H_=null,Error(z(185));jd(t,n,r),(!(Ee&2)||t!==Mt)&&(t===Mt&&(!(Ee&2)&&(jm|=n),At===4&&ys(t,Gt)),Nn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(xu=mt()+500,Vm&&Zs()))}function Nn(t,e){var n=t.callbackNode;BF(t,e);var r=wp(t,t===Mt?Gt:0);if(r===0)n!==null&&YS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&YS(n),e===1)t.tag===0?jU(zb.bind(null,t)):HC(zb.bind(null,t)),VU(function(){!(Ee&6)&&Zs()}),n=null;else{switch(IC(r)){case 1:n=M0;break;case 4:n=vC;break;case 16:n=_p;break;case 536870912:n=_C;break;default:n=_p}n=qk(n,Vk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vk(t,e){if(Vf=-1,Ff=0,Ee&6)throw Error(z(327));var n=t.callbackNode;if(gu()&&t.callbackNode!==n)return null;var r=wp(t,t===Mt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fp(t,r);else{e=r;var i=Ee;Ee|=2;var s=Uk();(Mt!==t||Gt!==e)&&(wi=null,xu=mt()+500,Mo(t,e));do try{u$();break}catch(a){Fk(t,a)}while(!0);Q0(),Lp.current=s,Ee=i,Tt!==null?e=0:(Mt=null,Gt=0,e=At)}if(e!==0){if(e===2&&(i=__(t),i!==0&&(r=i,e=K_(t,i))),e===1)throw n=cd,Mo(t,0),ys(t,r),Nn(t,mt()),n;if(e===6)ys(t,r);else{if(i=t.current.alternate,!(r&30)&&!o$(i)&&(e=Fp(t,r),e===2&&(s=__(t),s!==0&&(r=s,e=K_(t,s))),e===1))throw n=cd,Mo(t,0),ys(t,r),Nn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:_o(t,Pn,wi);break;case 3:if(ys(t,r),(r&130023424)===r&&(e=cI+500-mt(),10<e)){if(wp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=A_(_o.bind(null,t,Pn,wi),e);break}_o(t,Pn,wi);break;case 4:if(ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s$(r/1960))-r,10<r){t.timeoutHandle=A_(_o.bind(null,t,Pn,wi),r);break}_o(t,Pn,wi);break;case 5:_o(t,Pn,wi);break;default:throw Error(z(329))}}}return Nn(t,mt()),t.callbackNode===n?Vk.bind(null,t):null}function K_(t,e){var n=kc;return t.current.memoizedState.isDehydrated&&(Mo(t,e).flags|=256),t=Fp(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&G_(e)),t}function G_(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function o$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ys(t,e){for(e&=~lI,e&=~jm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function zb(t){if(Ee&6)throw Error(z(327));gu();var e=wp(t,0);if(!(e&1))return Nn(t,mt()),null;var n=Fp(t,e);if(t.tag!==0&&n===2){var r=__(t);r!==0&&(e=r,n=K_(t,r))}if(n===1)throw n=cd,Mo(t,0),ys(t,e),Nn(t,mt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,Pn,wi),Nn(t,mt()),null}function dI(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(xu=mt()+500,Vm&&Zs())}}function Ho(t){Es!==null&&Es.tag===0&&!(Ee&6)&&gu();var e=Ee;Ee|=1;var n=hr.transition,r=Oe;try{if(hr.transition=null,Oe=1,t)return t()}finally{Oe=r,hr.transition=n,Ee=e,!(Ee&6)&&Zs()}}function hI(){Bn=lu.current,qe(lu)}function Mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MU(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(H0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bp();break;case 3:ku(),qe(On),qe(un),tI();break;case 5:eI(r);break;case 4:ku();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:J0(r.type._context);break;case 22:case 23:hI()}n=n.return}if(Mt=t,Tt=t=Ds(t.current,null),Gt=Bn=e,At=0,cd=null,lI=jm=Wo=0,Pn=kc=null,Co!==null){for(e=0;e<Co.length;e++)if(n=Co[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Co=null}return t}function Fk(t,e){do{var n=Tt;try{if(Q0(),Df.current=Dp,Np){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Np=!1}if(qo=0,Dt=Pt=et=null,Rc=!1,ad=0,uI.current=null,n===null||n.return===null){At=1,cd=e,Tt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Gt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=kb(o);if(m!==null){m.flags&=-257,Ob(m,o,a,s,e),m.mode&1&&Cb(s,l,e),e=m,u=l;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){Cb(s,l,e),fI();break e}u=Error(z(426))}}else if(Ke&&a.mode&1){var S=kb(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ob(S,o,a,s,e),K0(Ou(u,a));break e}}s=u=Ou(u,a),At!==4&&(At=2),kc===null?kc=[s]:kc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=Ik(s,u,e);Tb(s,I);break e;case 1:a=u;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xs===null||!xs.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Ek(s,a,e);Tb(s,x);break e}}s=s.return}while(s!==null)}jk(n)}catch(k){e=k,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function Uk(){var t=Lp.current;return Lp.current=Dp,t===null?Dp:t}function fI(){(At===0||At===3||At===2)&&(At=4),Mt===null||!(Wo&268435455)&&!(jm&268435455)||ys(Mt,Gt)}function Fp(t,e){var n=Ee;Ee|=2;var r=Uk();(Mt!==t||Gt!==e)&&(wi=null,Mo(t,e));do try{a$();break}catch(i){Fk(t,i)}while(!0);if(Q0(),Ee=n,Lp.current=r,Tt!==null)throw Error(z(261));return Mt=null,Gt=0,At}function a$(){for(;Tt!==null;)$k(Tt)}function u$(){for(;Tt!==null&&!NF();)$k(Tt)}function $k(t){var e=zk(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?jk(t):Tt=e,uI.current=null}function jk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t$(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,Tt=null;return}}else if(n=e$(n,e,Bn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);At===0&&(At=5)}function _o(t,e,n){var r=Oe,i=hr.transition;try{hr.transition=null,Oe=1,l$(t,e,n,r)}finally{hr.transition=i,Oe=r}return null}function l$(t,e,n,r){do gu();while(Es!==null);if(Ee&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zF(t,s),t===Mt&&(Tt=Mt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lf||(lf=!0,qk(_p,function(){return gu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=Oe;Oe=1;var a=Ee;Ee|=4,uI.current=null,r$(t,n),Lk(n,t),CU(b_),Ip=!!S_,b_=S_=null,t.current=n,i$(n),DF(),Ee=a,Oe=o,hr.transition=s}else t.current=n;if(lf&&(lf=!1,Es=t,Vp=i),s=t.pendingLanes,s===0&&(xs=null),VF(n.stateNode),Nn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mp)throw Mp=!1,t=W_,W_=null,t;return Vp&1&&t.tag!==0&&gu(),s=t.pendingLanes,s&1?t===H_?Oc++:(Oc=0,H_=t):Oc=0,Zs(),null}function gu(){if(Es!==null){var t=IC(Vp),e=hr.transition,n=Oe;try{if(hr.transition=null,Oe=16>t?16:t,Es===null)var r=!1;else{if(t=Es,Es=null,Vp=0,Ee&6)throw Error(z(331));var i=Ee;for(Ee|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(X=l;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Cc(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(xk(d),d===l){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,X=I;break e}X=s.return}}var _=t.current;for(X=_;X!==null;){o=X;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,X=w;else e:for(o=_;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$m(9,a)}}catch(k){ut(a,a.return,k)}if(a===o){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(Ee=i,Zs(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(xm,t)}catch{}r=!0}return r}finally{Oe=n,hr.transition=e}}return!1}function qb(t,e,n){e=Ou(n,e),e=Ik(t,e,1),t=Os(t,e,1),e=yn(),t!==null&&(jd(t,1,e),Nn(t,e))}function ut(t,e,n){if(t.tag===3)qb(t,t,n);else for(;e!==null;){if(e.tag===3){qb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=Ou(n,t),t=Ek(e,t,1),e=Os(e,t,1),t=yn(),e!==null&&(jd(e,1,t),Nn(e,t));break}}e=e.return}}function c$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Gt&n)===n&&(At===4||At===3&&(Gt&130023424)===Gt&&500>mt()-cI?Mo(t,0):lI|=n),Nn(t,e)}function Bk(t,e){e===0&&(t.mode&1?(e=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):e=1);var n=yn();t=Vi(t,e),t!==null&&(jd(t,e,n),Nn(t,n))}function d$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bk(t,n)}function h$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Bk(t,n)}var zk;zk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,ZU(t,e,n);An=!!(t.flags&131072)}else An=!1,Ke&&e.flags&1048576&&KC(e,Rp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mf(t,e),t=e.pendingProps;var i=Au(e,un.current);mu(e,n),i=rI(null,e,r,t,i,n);var s=iI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(s=!0,Pp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X0(e),i.updater=Um,e.stateNode=i,i._reactInternals=e,D_(e,r,t,n),e=V_(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&W0(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p$(r),t=Rr(r,t),i){case 0:e=M_(null,e,r,t,n);break e;case 1:e=Db(null,e,r,t,n);break e;case 11:e=xb(null,e,r,t,n);break e;case 14:e=Nb(null,e,r,Rr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),M_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),Db(t,e,r,i,n);case 3:e:{if(Pk(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZC(t,e),Op(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ou(Error(z(423)),e),e=Lb(t,e,r,n,i);break e}else if(r!==i){i=Ou(Error(z(424)),e),e=Lb(t,e,r,n,i);break e}else for(Hn=ks(e.stateNode.containerInfo.firstChild),Gn=e,Ke=!0,kr=null,n=YC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ru(),r===i){e=Fi(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return ek(e),t===null&&O_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,P_(r,i)?o=null:s!==null&&P_(r,s)&&(e.flags|=32),bk(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&O_(e),null;case 13:return Ak(t,e,n);case 4:return Z0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cu(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),xb(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Cp,r._currentValue),r._currentValue=o,s!==null)if(Lr(s.value,o)){if(s.children===i.children&&!On.current){e=Fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Oi(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),x_(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),x_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mu(e,n),i=gr(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=Rr(r,e.pendingProps),i=Rr(r.type,i),Nb(t,e,r,i,n);case 15:return Tk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),Mf(t,e),e.tag=1,xn(r)?(t=!0,Pp(e)):t=!1,mu(e,n),wk(e,r,i),D_(e,r,i,n),V_(null,e,r,!0,t,n);case 19:return Rk(t,e,n);case 22:return Sk(t,e,n)}throw Error(z(156,e.tag))};function qk(t,e){return yC(t,e)}function f$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new f$(t,e,n,r)}function pI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p$(t){if(typeof t=="function")return pI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N0)return 11;if(t===D0)return 14}return 2}function Ds(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Za:return Vo(n.children,i,s,e);case x0:o=8,i|=8;break;case i_:return t=lr(12,n,e,i|2),t.elementType=i_,t.lanes=s,t;case s_:return t=lr(13,n,e,i),t.elementType=s_,t.lanes=s,t;case o_:return t=lr(19,n,e,i),t.elementType=o_,t.lanes=s,t;case eC:return Bm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XR:o=10;break e;case ZR:o=9;break e;case N0:o=11;break e;case D0:o=14;break e;case ps:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=lr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vo(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function Bm(t,e,n,r){return t=lr(22,t,r,e),t.elementType=eC,t.lanes=n,t.stateNode={isHidden:!1},t}function gv(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function yv(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yy(0),this.expirationTimes=Yy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mI(t,e,n,r,i,s,o,a,u){return t=new m$(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},X0(s),t}function g$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wk(t){if(!t)return Us;t=t._reactInternals;e:{if(ha(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(xn(n))return WC(t,n,e)}return e}function Hk(t,e,n,r,i,s,o,a,u){return t=mI(n,r,!0,t,i,s,o,a,u),t.context=Wk(null),n=t.current,r=yn(),i=Ns(n),s=Oi(r,i),s.callback=e??null,Os(n,s,i),t.current.lanes=i,jd(t,i,r),Nn(t,r),t}function zm(t,e,n,r){var i=e.current,s=yn(),o=Ns(i);return n=Wk(n),e.context===null?e.context=n:e.pendingContext=n,e=Oi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Os(i,e,o),t!==null&&(Nr(t,i,o,s),Nf(t,i,o)),o}function Up(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gI(t,e){Wb(t,e),(t=t.alternate)&&Wb(t,e)}function y$(){return null}var Kk=typeof reportError=="function"?reportError:function(t){console.error(t)};function yI(t){this._internalRoot=t}qm.prototype.render=yI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));zm(t,e,null,null)};qm.prototype.unmount=yI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ho(function(){zm(null,t,null,null)}),e[Mi]=null}};function qm(t){this._internalRoot=t}qm.prototype.unstable_scheduleHydration=function(t){if(t){var e=SC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gs.length&&e!==0&&e<gs[n].priority;n++);gs.splice(n,0,t),n===0&&PC(t)}};function vI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hb(){}function v$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Up(o);s.call(l)}}var o=Hk(e,r,t,0,null,!1,!1,"",Hb);return t._reactRootContainer=o,t[Mi]=o.current,nd(t.nodeType===8?t.parentNode:t),Ho(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Up(u);a.call(l)}}var u=mI(t,0,!1,null,null,!1,!1,"",Hb);return t._reactRootContainer=u,t[Mi]=u.current,nd(t.nodeType===8?t.parentNode:t),Ho(function(){zm(e,u,n,r)}),u}function Hm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Up(o);a.call(u)}}zm(e,o,t,i)}else o=v$(n,e,t,i,r);return Up(o)}EC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cc(e.pendingLanes);n!==0&&(V0(e,n|1),Nn(e,mt()),!(Ee&6)&&(xu=mt()+500,Zs()))}break;case 13:Ho(function(){var r=Vi(t,1);if(r!==null){var i=yn();Nr(r,t,1,i)}}),gI(t,1)}};F0=function(t){if(t.tag===13){var e=Vi(t,134217728);if(e!==null){var n=yn();Nr(e,t,134217728,n)}gI(t,134217728)}};TC=function(t){if(t.tag===13){var e=Ns(t),n=Vi(t,e);if(n!==null){var r=yn();Nr(n,t,e,r)}gI(t,e)}};SC=function(){return Oe};bC=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};g_=function(t,e,n){switch(e){case"input":if(l_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mm(r);if(!i)throw Error(z(90));nC(r),l_(r,i)}}}break;case"textarea":iC(t,n);break;case"select":e=n.value,e!=null&&du(t,!!n.multiple,e,!1)}};dC=dI;hC=Ho;var _$={usingClientEntryPoint:!1,Events:[zd,ru,Mm,lC,cC,dI]},Kl={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w$={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mC(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||y$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{xm=cf.inject(w$),ni=cf}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_$;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vI(e))throw Error(z(200));return g$(t,e,null,n)};Zn.createRoot=function(t,e){if(!vI(t))throw Error(z(299));var n=!1,r="",i=Kk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mI(t,1,!1,null,null,n,!1,r,i),t[Mi]=e.current,nd(t.nodeType===8?t.parentNode:t),new yI(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=mC(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return Ho(t)};Zn.hydrate=function(t,e,n){if(!Wm(e))throw Error(z(200));return Hm(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!vI(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Kk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hk(e,null,t,1,n??null,i,!1,s,o),t[Mi]=e.current,nd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qm(e)};Zn.render=function(t,e,n){if(!Wm(e))throw Error(z(200));return Hm(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!Wm(t))throw Error(z(40));return t._reactRootContainer?(Ho(function(){Hm(null,null,t,!1,function(){t._reactRootContainer=null,t[Mi]=null})}),!0):!1};Zn.unstable_batchedUpdates=dI;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wm(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Hm(t,e,n,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function Gk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gk)}catch(t){console.error(t)}}Gk(),GR.exports=Zn;var I$=GR.exports,Kb=I$;n_.createRoot=Kb.createRoot,n_.hydrateRoot=Kb.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}var Ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ts||(Ts={}));const Gb="popstate";function E$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Q_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$p(i)}return S$(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T$(){return Math.random().toString(36).substr(2,8)}function Qb(t,e){return{usr:t.state,key:t.key,idx:e}}function Q_(t,e,n,r){return n===void 0&&(n=null),dd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rl(e):e,{state:n,key:e&&e.key||r||T$()})}function $p(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function S$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ts.Pop,u=null,l=d();l==null&&(l=0,o.replaceState(dd({},o.state,{idx:l}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ts.Pop;let S=d(),I=S==null?null:S-l;l=S,u&&u({action:a,location:v.location,delta:I})}function f(S,I){a=Ts.Push;let _=Q_(v.location,S,I);l=d()+1;let w=Qb(_,l),x=v.createHref(_);try{o.pushState(w,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(x)}s&&u&&u({action:a,location:v.location,delta:1})}function m(S,I){a=Ts.Replace;let _=Q_(v.location,S,I);l=d();let w=Qb(_,l),x=v.createHref(_);o.replaceState(w,"",x),s&&u&&u({action:a,location:v.location,delta:0})}function y(S){let I=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:$p(S);return _=_.replace(/ $/,"%20"),St(I,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,I)}let v={get action(){return a},get location(){return t(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Gb,h),u=S,()=>{i.removeEventListener(Gb,h),u=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let I=y(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:f,replace:m,go(S){return o.go(S)}};return v}var Jb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jb||(Jb={}));function b$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?rl(e):e,i=_I(r.pathname||"/",n);if(i==null)return null;let s=Jk(t);P$(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=F$(i);o=L$(s[a],u)}return o}function Jk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(St(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Ls([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(St(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Jk(s.children,e,d,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:N$(l,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Yk(s.path))i(s,o,u)}),e}function Yk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Yk(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function P$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A$=/^:[\w-]+$/,R$=3,C$=2,k$=1,O$=10,x$=-2,Yb=t=>t==="*";function N$(t,e){let n=t.split("/"),r=n.length;return n.some(Yb)&&(r+=x$),e&&(r+=C$),n.filter(i=>!Yb(i)).reduce((i,s)=>i+(A$.test(s)?R$:s===""?k$:O$),r)}function D$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function L$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",d=M$({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:Ls([i,d.pathname]),pathnameBase:B$(Ls([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ls([i,d.pathnameBase]))}return s}function M$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?l[f]=void 0:l[f]=(y||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function V$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _I(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rl(t):t;return{pathname:n?n.startsWith("/")?n:$$(n,e):e,search:z$(r),hash:q$(i)}}function $$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xk(t,e){let n=j$(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rl(t):(i=dd({},t),St(!i.pathname||!i.pathname.includes("?"),vv("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),vv("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),vv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=U$(i,a),l=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||d)&&(u.pathname+="/"),u}const Ls=t=>t.join("/").replace(/\/\/+/g,"/"),B$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function W$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eO=["post","put","patch","delete"];new Set(eO);const H$=["get",...eO];new Set(H$);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}const wI=F.createContext(null),K$=F.createContext(null),fa=F.createContext(null),Km=F.createContext(null),eo=F.createContext({outlet:null,matches:[],isDataRoute:!1}),tO=F.createContext(null);function G$(t,e){let{relative:n}=e===void 0?{}:e;Wd()||St(!1);let{basename:r,navigator:i}=F.useContext(fa),{hash:s,pathname:o,search:a}=iO(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ls([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Wd(){return F.useContext(Km)!=null}function Hd(){return Wd()||St(!1),F.useContext(Km).location}function nO(t){F.useContext(fa).static||F.useLayoutEffect(t)}function Gm(){let{isDataRoute:t}=F.useContext(eo);return t?a4():Q$()}function Q$(){Wd()||St(!1);let t=F.useContext(wI),{basename:e,future:n,navigator:r}=F.useContext(fa),{matches:i}=F.useContext(eo),{pathname:s}=Hd(),o=JSON.stringify(Xk(i,n.v7_relativeSplatPath)),a=F.useRef(!1);return nO(()=>{a.current=!0}),F.useCallback(function(l,d){if(d===void 0&&(d={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=Zk(l,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ls([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function rO(){let{matches:t}=F.useContext(eo),e=t[t.length-1];return e?e.params:{}}function iO(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(fa),{matches:i}=F.useContext(eo),{pathname:s}=Hd(),o=JSON.stringify(Xk(i,r.v7_relativeSplatPath));return F.useMemo(()=>Zk(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function J$(t,e){return Y$(t,e)}function Y$(t,e,n,r){Wd()||St(!1);let{navigator:i}=F.useContext(fa),{matches:s}=F.useContext(eo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=Hd(),d;if(e){var h;let S=typeof e=="string"?rl(e):e;u==="/"||(h=S.pathname)!=null&&h.startsWith(u)||St(!1),d=S}else d=l;let f=d.pathname||"/",m=f;if(u!=="/"){let S=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=b$(t,{pathname:m}),v=n4(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Ls([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Ls([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&v?F.createElement(Km.Provider,{value:{location:hd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ts.Pop}},v):v}function X$(){let t=o4(),e=W$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const Z$=F.createElement(X$,null);class e4 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(eo.Provider,{value:this.props.routeContext},F.createElement(tO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t4(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(wI);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(eo.Provider,{value:e},r)}function n4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||St(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,v=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Z$,u&&(l<0&&f===0?(y=!0,S=null):l===f&&(y=!0,S=h.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,f+1)),_=()=>{let w;return m?w=v:y?w=S:h.route.Component?w=F.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,F.createElement(t4,{match:h,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?F.createElement(e4,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:_(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):_()},null)}var sO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sO||{}),jp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jp||{});function r4(t){let e=F.useContext(wI);return e||St(!1),e}function i4(t){let e=F.useContext(K$);return e||St(!1),e}function s4(t){let e=F.useContext(eo);return e||St(!1),e}function oO(t){let e=s4(),n=e.matches[e.matches.length-1];return n.route.id||St(!1),n.route.id}function o4(){var t;let e=F.useContext(tO),n=i4(jp.UseRouteError),r=oO(jp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function a4(){let{router:t}=r4(sO.UseNavigateStable),e=oO(jp.UseNavigateStable),n=F.useRef(!1);return nO(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hd({fromRouteId:e},s)))},[t,e])}function fs(t){St(!1)}function u4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ts.Pop,navigator:s,static:o=!1,future:a}=t;Wd()&&St(!1);let u=e.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:u,navigator:s,static:o,future:hd({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=rl(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,v=F.useMemo(()=>{let S=_I(d,u);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:y},navigationType:i}},[u,d,h,f,m,y,i]);return v==null?null:F.createElement(fa.Provider,{value:l},F.createElement(Km.Provider,{children:n,value:v}))}function l4(t){let{children:e,location:n}=t;return J$(J_(e),n)}new Promise(()=>{});function J_(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){n.push.apply(n,J_(r.props.children,s));return}r.type!==fs&&St(!1),!r.props.index||!r.props.children||St(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=J_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function c4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function d4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h4(t,e){return t.button===0&&(!e||e==="_self")&&!d4(t)}const f4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],p4="6";try{window.__reactRouterVersion=p4}catch{}const m4="startTransition",Xb=mp[m4];function g4(t){let{basename:e,children:n,future:r,window:i}=t,s=F.useRef();s.current==null&&(s.current=E$({window:i,v5Compat:!0}));let o=s.current,[a,u]=F.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},d=F.useCallback(h=>{l&&Xb?Xb(()=>u(h)):u(h)},[u,l]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(u4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oo=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:d,unstable_viewTransition:h}=e,f=c4(e,f4),{basename:m}=F.useContext(fa),y,v=!1;if(typeof l=="string"&&v4.test(l)&&(y=l,y4))try{let w=new URL(window.location.href),x=l.startsWith("//")?new URL(w.protocol+l):new URL(l),k=_I(x.pathname,m);x.origin===w.origin&&k!=null?l=k+x.search+x.hash:v=!0}catch{}let S=G$(l,{relative:i}),I=_4(l,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:h});function _(w){r&&r(w),w.defaultPrevented||I(w)}return F.createElement("a",Y_({},f,{href:y||S,onClick:v||s?r:_,ref:n,target:u}))});var Zb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zb||(Zb={}));var e1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(e1||(e1={}));function _4(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Gm(),l=Hd(),d=iO(t,{relative:o});return F.useCallback(h=>{if(h4(h,n)){h.preventDefault();let f=r!==void 0?r:$p(l)===$p(d);u(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,d,r,i,n,t,s,o,a])}var aO={},Qm={},II={},_v={},uO={exports:{}},w4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I4=w4,E4=I4;function lO(){}function cO(){}cO.resetWarningCache=lO;var T4=function(){function t(r,i,s,o,a,u){if(u!==E4){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cO,resetWarningCache:lO};return n.PropTypes=n,n};uO.exports=T4();var dO=uO.exports;const Xe=S0(dO);var t1;function S4(){return t1||(t1=1,function(t){(function(e,n){n(t,F,dO)})(T0,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=y;var i=o(n),s=o(r);function o(_){return _&&_.__esModule?_:{default:_}}var a=Object.assign||function(_){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(_[k]=x[k])}return _};function u(_,w){var x={};for(var k in _)w.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(_,k)&&(x[k]=_[k]);return x}function l(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}var d=function(){function _(w,x){for(var k=0;k<x.length;k++){var D=x[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,x,k){return x&&_(w.prototype,x),k&&_(w,k),w}}();function h(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function f(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var m=!1;function y(_){m=_}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){y(!0)}}))}catch{}function v(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return m?_:_.capture}function S(_){if("touches"in _){var w=_.touches[0],x=w.pageX,k=w.pageY;return{x,y:k}}var D=_.screenX,T=_.screenY;return{x:D,y:T}}var I=function(_){f(w,_);function w(){var x;l(this,w);for(var k=arguments.length,D=Array(k),T=0;T<k;T++)D[T]=arguments[T];var E=h(this,(x=w.__proto__||Object.getPrototypeOf(w)).call.apply(x,[this].concat(D)));return E._handleSwipeStart=E._handleSwipeStart.bind(E),E._handleSwipeMove=E._handleSwipeMove.bind(E),E._handleSwipeEnd=E._handleSwipeEnd.bind(E),E._onMouseDown=E._onMouseDown.bind(E),E._onMouseMove=E._onMouseMove.bind(E),E._onMouseUp=E._onMouseUp.bind(E),E._setSwiperRef=E._setSwiperRef.bind(E),E}return d(w,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(k){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(k))}},{key:"_onMouseMove",value:function(k){this.mouseDown&&this._handleSwipeMove(k)}},{key:"_onMouseUp",value:function(k){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(k)}},{key:"_handleSwipeStart",value:function(k){var D=S(k),T=D.x,E=D.y;this.moveStart={x:T,y:E},this.props.onSwipeStart(k)}},{key:"_handleSwipeMove",value:function(k){if(this.moveStart){var D=S(k),T=D.x,E=D.y,P=T-this.moveStart.x,A=E-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x:P,y:A},k);O&&k.cancelable&&k.preventDefault(),this.movePosition={deltaX:P,deltaY:A}}}},{key:"_handleSwipeEnd",value:function(k){this.props.onSwipeEnd(k);var D=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-D?this.props.onSwipeLeft(1,k):this.movePosition.deltaX>D&&this.props.onSwipeRight(1,k),this.movePosition.deltaY<-D?this.props.onSwipeUp(1,k):this.movePosition.deltaY>D&&this.props.onSwipeDown(1,k)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(k){this.swiper=k,this.props.innerRef(k)}},{key:"render",value:function(){var k=this.props;k.tagName;var D=k.className,T=k.style,E=k.children;k.allowMouseEvents,k.onSwipeUp,k.onSwipeDown,k.onSwipeLeft,k.onSwipeRight,k.onSwipeStart,k.onSwipeMove,k.onSwipeEnd,k.innerRef,k.tolerance;var P=u(k,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:D,style:T},P),E)}}]),w}(n.Component);I.displayName="ReactSwipe",I.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},I.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=I})}(_v)),_v}(function(t){(function(e,n){n(t,S4())})(T0,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(II);var Kd={},hO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(hO);var b4=hO.exports;Object.defineProperty(Kd,"__esModule",{value:!0});Kd.default=void 0;var ss=P4(b4);function P4(t){return t&&t.__esModule?t:{default:t}}function A4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R4={ROOT:function(e){return(0,ss.default)(A4({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,ss.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,ss.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,ss.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,ss.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,ss.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,ss.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,ss.default)({dot:!0,selected:e})}};Kd.default=R4;var Gd={},Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.outerWidth=void 0;var C4=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};Jm.outerWidth=C4;var il={};Object.defineProperty(il,"__esModule",{value:!0});il.default=void 0;var k4=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};il.default=k4;var Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.default=void 0;var O4=function(){return window};Qd.default=O4;Object.defineProperty(Gd,"__esModule",{value:!0});Gd.default=void 0;var Pr=D4(F),mo=Ym(Kd),x4=Jm,n1=Ym(il),N4=Ym(II),df=Ym(Qd);function Ym(t){return t&&t.__esModule?t:{default:t}}function fO(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return fO=function(){return t},t}function D4(t){if(t&&t.__esModule)return t;if(t===null||xc(t)!=="object"&&typeof t!="function")return{default:t};var e=fO();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function xc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xc=function(n){return typeof n}:xc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xc(t)}function X_(){return X_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function L4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V4(t,e,n){return e&&M4(t.prototype,e),t}function F4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Z_(t,e)}function U4(t){var e=j4();return function(){var r=Bp(t),i;if(e){var s=Bp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return $4(this,i)}}function $4(t,e){return e&&(xc(e)==="object"||typeof e=="function")?e:fn(t)}function fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B4=function(e){return e.hasOwnProperty("key")},EI=function(t){F4(n,t);var e=U4(n);function n(r){var i;return L4(this,n),i=e.call(this,r),on(fn(i),"itemsWrapperRef",void 0),on(fn(i),"itemsListRef",void 0),on(fn(i),"thumbsRef",void 0),on(fn(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),on(fn(i),"setItemsListRef",function(s){i.itemsListRef=s}),on(fn(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),on(fn(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=Pr.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,x4.outerWidth)(i.thumbsRef[0]),u=Math.floor(o/a),l=u<s,d=l?s-u:0;i.setState(function(h,f){return{itemSize:a,visibleItems:u,firstItem:l?i.getFirstItem(f.selectedItem):0,lastPosition:d,showArrows:l}})}}),on(fn(i),"handleClickItem",function(s,o,a){if(!B4(a)||a.key==="Enter"){var u=i.props.onSelectItem;typeof u=="function"&&u(s,o)}}),on(fn(i),"onSwipeStart",function(){i.setState({swiping:!0})}),on(fn(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),on(fn(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,u=Pr.Children.count(i.props.children),l=-(i.state.firstItem*100)/i.state.visibleItems,d=Math.max(u-i.state.visibleItems,0),h=-d*100/i.state.visibleItems;l===a&&o>0&&(o=0),l===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,m=l+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(y){i.itemsListRef.style[y]=(0,n1.default)(m,"%",i.props.axis)}),!0}),on(fn(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),on(fn(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),on(fn(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return V4(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,df.default)().addEventListener("resize",this.updateSizes),(0,df.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,df.default)().removeEventListener("resize",this.updateSizes),(0,df.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=mo.default.ITEM(!1,o===i.state.selectedItem),u={key:o,ref:function(d){return i.setThumbsRef(d,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return Pr.default.createElement("li",X_({},u,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=Pr.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,u={},l=-this.state.firstItem*(this.state.itemSize||0),d=(0,n1.default)(l,"px",this.props.axis),h=this.props.transitionTime+"ms";return u={WebkitTransform:d,MozTransform:d,MsTransform:d,OTransform:d,transform:d,msTransform:d,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},Pr.default.createElement("div",{className:mo.default.CAROUSEL(!1)},Pr.default.createElement("div",{className:mo.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Pr.default.createElement("button",{type:"button",className:mo.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?Pr.default.createElement(N4.default,{tagName:"ul",className:mo.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:u,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Pr.default.createElement("ul",{className:mo.default.SLIDER(!1,this.state.swiping),ref:function(m){return i.setItemsListRef(m)},style:u},this.renderItems()),Pr.default.createElement("button",{type:"button",className:mo.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(Pr.Component);Gd.default=EI;on(EI,"displayName","Thumbs");on(EI,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.default=void 0;var z4=function(){return document};Xm.default=z4;var qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.setPosition=qn.getPosition=qn.isKeyboardEvent=qn.defaultStatusFormatter=qn.noop=void 0;var q4=F,W4=H4(il);function H4(t){return t&&t.__esModule?t:{default:t}}var K4=function(){};qn.noop=K4;var G4=function(e,n){return"".concat(e," of ").concat(n)};qn.defaultStatusFormatter=G4;var Q4=function(e){return e?e.hasOwnProperty("key"):!1};qn.isKeyboardEvent=Q4;var J4=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=q4.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};qn.getPosition=J4;var Y4=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,W4.default)(e,"%",n)}),r};qn.setPosition=Y4;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.fadeAnimationHandler=Jr.slideStopSwipingHandler=Jr.slideSwipeAnimationHandler=Jr.slideAnimationHandler=void 0;var pO=F,X4=Z4(il),Yr=qn;function Z4(t){return t&&t.__esModule?t:{default:t}}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(r){ej(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ej(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tj=function(e,n){var r={},i=n.selectedItem,s=i,o=pO.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Yr.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Yr.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,Yr.setPosition)(0,e.axis)),r;var u=(0,Yr.getPosition)(i,e),l=(0,X4.default)(u,"%",e.axis),d=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:l,msTransform:l,OTransform:l,transform:l},n.swiping||(r.itemListStyle=Eo(Eo({},r.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),r};Jr.slideAnimationHandler=tj;var nj=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=pO.Children.count(n.children),u=0,l=(0,Yr.getPosition)(r.selectedItem,n),d=n.infiniteLoop?(0,Yr.getPosition)(a-1,n)-100:(0,Yr.getPosition)(a-1,n),h=o?e.x:e.y,f=h;l===u&&h>0&&(f=0),l===d&&h<0&&(f=0);var m=l+100/(r.itemSize/f),y=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&y&&(r.selectedItem===0&&m>-100?m-=a*100:r.selectedItem===a-1&&m<-a*100&&(m+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||y||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,Yr.setPosition)(m,n.axis)),y&&!r.cancelClick&&i({cancelClick:!0}),s};Jr.slideSwipeAnimationHandler=nj;var rj=function(e,n){var r=(0,Yr.getPosition)(n.selectedItem,e),i=(0,Yr.setPosition)(r,e.axis);return{itemListStyle:i}};Jr.slideStopSwipingHandler=rj;var ij=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=Eo(Eo({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:Eo(Eo({},s),{},{opacity:1,position:"relative"}),prevStyle:Eo({},s)}};Jr.fadeAnimationHandler=ij;Object.defineProperty(Qm,"__esModule",{value:!0});Qm.default=void 0;var Ce=aj(F),sj=Jd(II),Ei=Jd(Kd),oj=Jd(Gd),hf=Jd(Xm),ff=Jd(Qd),hc=qn,zp=Jr;function Jd(t){return t&&t.__esModule?t:{default:t}}function mO(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return mO=function(){return t},t}function aj(t){if(t&&t.__esModule)return t;if(t===null||Nc(t)!=="object"&&typeof t!="function")return{default:t};var e=mO();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Nc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nc=function(n){return typeof n}:Nc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nc(t)}function ew(){return ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cj(t,e,n){return e&&lj(t.prototype,e),t}function dj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},tw(t,e)}function hj(t){var e=pj();return function(){var r=qp(t),i;if(e){var s=qp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return fj(this,i)}}function fj(t,e){return e&&(Nc(e)==="object"||typeof e=="function")?e:me(t)}function me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}function fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var TI=function(t){dj(n,t);var e=hj(n);function n(r){var i;uj(this,n),i=e.call(this,r),fe(me(i),"thumbsRef",void 0),fe(me(i),"carouselWrapperRef",void 0),fe(me(i),"listRef",void 0),fe(me(i),"itemsRef",void 0),fe(me(i),"timer",void 0),fe(me(i),"animationHandler",void 0),fe(me(i),"setThumbsRef",function(o){i.thumbsRef=o}),fe(me(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),fe(me(i),"setListRef",function(o){i.listRef=o}),fe(me(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),fe(me(i),"autoPlay",function(){Ce.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),fe(me(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),fe(me(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),fe(me(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),fe(me(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),fe(me(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,hf.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,hf.default)().activeElement)):!1}),fe(me(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,u=a==="horizontal",l={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},d=u?l.ArrowRight:l.ArrowDown,h=u?l.ArrowLeft:l.ArrowUp;d===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),fe(me(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var u=o?a.clientWidth:a.clientHeight;i.setState({itemSize:u}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),fe(me(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),fe(me(i),"handleClickItem",function(o,a){if(Ce.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),fe(me(i),"handleOnChange",function(o,a){Ce.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),fe(me(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),fe(me(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),fe(me(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),fe(me(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var u=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(me(i)));return i.setState(Ar({},u)),!!Object.keys(u).length}),fe(me(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),fe(me(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),fe(me(i),"moveTo",function(o){if(typeof o=="number"){var a=Ce.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),fe(me(i),"onClickNext",function(){i.increment(1)}),fe(me(i),"onClickPrev",function(){i.decrement(1)}),fe(me(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),fe(me(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),fe(me(i),"changeItem",function(o){return function(a){(!(0,hc.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),fe(me(i),"selectItem",function(o){i.setState(Ar({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,Ce.Children.toArray(i.props.children)[o.selectedItem])}),fe(me(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],u=a&&a.getElementsByTagName("img")||[];return u[0]}),fe(me(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var u=a.children[0].getElementsByTagName("img")||[];if(u.length>0){var l=u[0];if(!l.complete){var d=function m(){i.forceUpdate(),l.removeEventListener("load",m)};l.addEventListener("load",d)}}var h=u[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&zp.fadeAnimationHandler||zp.slideAnimationHandler,i.state=Ar(Ar({},s),i.animationHandler(r,s)),i}return cj(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(Ar({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&Ce.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,ff.default)().addEventListener("resize",this.updateSizes),(0,ff.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,hf.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,ff.default)().removeEventListener("resize",this.updateSizes),(0,ff.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,hf.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?Ce.Children.map(this.props.children,function(o,a){var u=a===s.state.selectedItem,l=a===s.state.previousItem,d=u&&s.state.selectedStyle||l&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(d=Ar(Ar({},d),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(d=Ar(Ar({},d),{},{pointerEvents:"none"}));var h={ref:function(m){return s.setItemsRef(m,a)},key:"itemKey"+a+(i?"clone":""),className:Ei.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:d};return Ce.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,u=s.renderIndicator,l=s.children;return o?Ce.default.createElement("ul",{className:"control-dots"},Ce.Children.map(l,function(d,h){return u&&u(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Ce.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Ce.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Ce.Children.count(this.props.children)===0?null:Ce.default.createElement(oj.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||Ce.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&Ce.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&Ce.Children.count(this.props.children)>1,u=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=a&&(this.state.selectedItem<Ce.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,d=this.renderItems(!0),h=d.shift(),f=d.pop(),m={className:Ei.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},y={};if(o){if(m.onSwipeLeft=this.onSwipeForward,m.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var v=this.getVariableItemHeight(this.state.selectedItem);y.height=v||"auto"}}else m.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,m.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,m.style=Ar(Ar({},m.style),{},{height:this.state.itemSize}),y.height=this.state.itemSize;return Ce.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Ei.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Ce.default.createElement("div",{className:Ei.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,u,this.props.labels.leftArrow),Ce.default.createElement("div",{className:Ei.default.WRAPPER(!0,this.props.axis),style:y},s?Ce.default.createElement(sj.default,ew({tagName:"ul",innerRef:this.setListRef},m,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):Ce.default.createElement("ul",{className:Ei.default.SLIDER(!0,this.state.swiping),ref:function(I){return i.setListRef(I)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Ce.default.Component);Qm.default=TI;fe(TI,"displayName","Carousel");fe(TI,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:hc.noop,onClickThumb:hc.noop,onChange:hc.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return Ce.default.createElement("button",{type:"button","aria-label":r,className:Ei.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return Ce.default.createElement("button",{type:"button","aria-label":r,className:Ei.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return Ce.default.createElement("li",{className:Ei.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=Ce.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=Ce.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:hc.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:zp.slideSwipeAnimationHandler,stopSwipingHandler:zp.slideStopSwipingHandler});var mj={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(Qm),n=mj,r=i(Gd);function i(s){return s&&s.__esModule?s:{default:s}}})(aO);const gj="/amazon-clone/assets/10001-CCeZJU5v.jpg",yj="/amazon-clone/assets/10002-BhGJDWEj.jpg",vj="/amazon-clone/assets/10003-B3yEwKqw.jpg",_j="/amazon-clone/assets/10004-Bi1U7ydH.jpg",wj="/amazon-clone/assets/10005-BEUNfIdL.jpg",Ij="/amazon-clone/assets/10006-CyHzmKi1.jpg",Ej="/amazon-clone/assets/10007-CYNO_5PR.jpg",Tj="/amazon-clone/assets/10008-DfyGf575.jpg",Sj=[gj,yj,vj,_j,wj,Ij,Ej,Tj],bj="_hero__image_f2wv0_1",Pj={hero__image:bj};function Aj(){return R.jsxs("div",{children:[R.jsx(aO.Carousel,{autoplay:!1,infiniteloop:!0,showIndicators:!1,showThumbs:!1,interval:500,children:Sj.map(t=>R.jsx("img",{src:t}))}),R.jsx("div",{className:Pj.hero__img})]})}const Rj=[{id:"1",title:"Electronics",name:"electronics",imgLink:"https://m.media-amazon.com/images/I/717xxg1Qn4L.__AC_SX300_SY300_QL70_FMwebp_.jpg"},{id:"2",title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/81YUtidOP5L._AC_UL800_FMwebp_QL65_.jpg"},{id:"3",title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/61PXVGHTifL._AC_UL800_FMwebp_QL65_.jpg"},{id:"4",title:"Men's clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/61AXRNCITJL._AC_UL800_FMwebp_QL65_.jpg"}],Cj="_category__container_5e0wc_1",kj="_category_5e0wc_1",Oj="_image_5e0wc_85",nw={category__container:Cj,category:kj,image:Oj};function xj({data:t}){return R.jsx("div",{className:nw.category,children:R.jsxs(Oo,{to:`/category/${t.name}`,children:[R.jsx("span",{children:R.jsx("h3",{children:t.title})}),R.jsx("img",{className:nw.image,src:t.imgLink,alt:""}),R.jsx("p",{children:"Show now"})]})})}function Nj(){return R.jsx("section",{className:nw.category__container,children:Rj.map(t=>R.jsx(xj,{data:t}))})}function gO(t,e){return function(){return t.apply(e,arguments)}}const{toString:Dj}=Object.prototype,{getPrototypeOf:SI}=Object,Zm=(t=>e=>{const n=Dj.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ur=t=>(t=t.toLowerCase(),e=>Zm(e)===t),eg=t=>e=>typeof e===t,{isArray:sl}=Array,fd=eg("undefined");function Lj(t){return t!==null&&!fd(t)&&t.constructor!==null&&!fd(t.constructor)&&fr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yO=Ur("ArrayBuffer");function Mj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yO(t.buffer),e}const Vj=eg("string"),fr=eg("function"),vO=eg("number"),tg=t=>t!==null&&typeof t=="object",Fj=t=>t===!0||t===!1,$f=t=>{if(Zm(t)!=="object")return!1;const e=SI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Uj=Ur("Date"),$j=Ur("File"),jj=Ur("Blob"),Bj=Ur("FileList"),zj=t=>tg(t)&&fr(t.pipe),qj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fr(t.append)&&((e=Zm(t))==="formdata"||e==="object"&&fr(t.toString)&&t.toString()==="[object FormData]"))},Wj=Ur("URLSearchParams"),[Hj,Kj,Gj,Qj]=["ReadableStream","Request","Response","Headers"].map(Ur),Jj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),sl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function _O(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const wO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IO=t=>!fd(t)&&t!==wO;function rw(){const{caseless:t}=IO(this)&&this||{},e={},n=(r,i)=>{const s=t&&_O(e,i)||i;$f(e[s])&&$f(r)?e[s]=rw(e[s],r):$f(r)?e[s]=rw({},r):sl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Yd(arguments[r],n);return e}const Yj=(t,e,n,{allOwnKeys:r}={})=>(Yd(e,(i,s)=>{n&&fr(i)?t[s]=gO(i,n):t[s]=i},{allOwnKeys:r}),t),Xj=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Zj=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},e3=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&SI(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},t3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},n3=t=>{if(!t)return null;if(sl(t))return t;let e=t.length;if(!vO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},r3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&SI(Uint8Array)),i3=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},s3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},o3=Ur("HTMLFormElement"),a3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),s1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),u3=Ur("RegExp"),EO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Yd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},l3=t=>{EO(t,(e,n)=>{if(fr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},c3=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return sl(t)?r(t):r(String(t).split(e)),n},d3=()=>{},h3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,wv="abcdefghijklmnopqrstuvwxyz",o1="0123456789",TO={DIGIT:o1,ALPHA:wv,ALPHA_DIGIT:wv+wv.toUpperCase()+o1},f3=(t=16,e=TO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function p3(t){return!!(t&&fr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const m3=t=>{const e=new Array(10),n=(r,i)=>{if(tg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=sl(r)?[]:{};return Yd(r,(o,a)=>{const u=n(o,i+1);!fd(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},g3=Ur("AsyncFunction"),y3=t=>t&&(tg(t)||fr(t))&&fr(t.then)&&fr(t.catch),$={isArray:sl,isArrayBuffer:yO,isBuffer:Lj,isFormData:qj,isArrayBufferView:Mj,isString:Vj,isNumber:vO,isBoolean:Fj,isObject:tg,isPlainObject:$f,isReadableStream:Hj,isRequest:Kj,isResponse:Gj,isHeaders:Qj,isUndefined:fd,isDate:Uj,isFile:$j,isBlob:jj,isRegExp:u3,isFunction:fr,isStream:zj,isURLSearchParams:Wj,isTypedArray:r3,isFileList:Bj,forEach:Yd,merge:rw,extend:Yj,trim:Jj,stripBOM:Xj,inherits:Zj,toFlatObject:e3,kindOf:Zm,kindOfTest:Ur,endsWith:t3,toArray:n3,forEachEntry:i3,matchAll:s3,isHTMLForm:o3,hasOwnProperty:s1,hasOwnProp:s1,reduceDescriptors:EO,freezeMethods:l3,toObjectSet:c3,toCamelCase:a3,noop:d3,toFiniteNumber:h3,findKey:_O,global:wO,isContextDefined:IO,ALPHABET:TO,generateString:f3,isSpecCompliantForm:p3,toJSONObject:m3,isAsyncFn:g3,isThenable:y3};function ue(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}$.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const SO=ue.prototype,bO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bO[t]={value:t}});Object.defineProperties(ue,bO);Object.defineProperty(SO,"isAxiosError",{value:!0});ue.from=(t,e,n,r,i,s)=>{const o=Object.create(SO);return $.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),ue.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const v3=null;function iw(t){return $.isPlainObject(t)||$.isArray(t)}function PO(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function a1(t,e,n){return t?t.concat(e).map(function(i,s){return i=PO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function _3(t){return $.isArray(t)&&!t.some(iw)}const w3=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function ng(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!$.isUndefined(S[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if($.isDate(y))return y.toISOString();if(!u&&$.isBlob(y))throw new ue("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(y)||$.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,S){let I=y;if(y&&!S&&typeof y=="object"){if($.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if($.isArray(y)&&_3(y)||($.isFileList(y)||$.endsWith(v,"[]"))&&(I=$.toArray(y)))return v=PO(v),I.forEach(function(w,x){!($.isUndefined(w)||w===null)&&e.append(o===!0?a1([v],x,s):o===null?v:v+"[]",l(w))}),!1}return iw(y)?!0:(e.append(a1(S,v,s),l(y)),!1)}const h=[],f=Object.assign(w3,{defaultVisitor:d,convertValue:l,isVisitable:iw});function m(y,v){if(!$.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),$.forEach(y,function(I,_){(!($.isUndefined(I)||I===null)&&i.call(e,I,$.isString(_)?_.trim():_,v,f))===!0&&m(I,v?v.concat(_):[_])}),h.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return m(t),e}function u1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function bI(t,e){this._pairs=[],t&&ng(t,this,e)}const AO=bI.prototype;AO.append=function(e,n){this._pairs.push([e,n])};AO.toString=function(e){const n=e?function(r){return e.call(this,r,u1)}:u1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function I3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RO(t,e,n){if(!e)return t;const r=n&&n.encode||I3,i=n&&n.serialize;let s;if(i?s=i(e,n):s=$.isURLSearchParams(e)?e.toString():new bI(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class l1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const CO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E3=typeof URLSearchParams<"u"?URLSearchParams:bI,T3=typeof FormData<"u"?FormData:null,S3=typeof Blob<"u"?Blob:null,b3={isBrowser:!0,classes:{URLSearchParams:E3,FormData:T3,Blob:S3},protocols:["http","https","file","blob","url","data"]},PI=typeof window<"u"&&typeof document<"u",P3=(t=>PI&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),A3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",R3=PI&&window.location.href||"http://localhost",C3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PI,hasStandardBrowserEnv:P3,hasStandardBrowserWebWorkerEnv:A3,origin:R3},Symbol.toStringTag,{value:"Module"})),Dr={...C3,...b3};function k3(t,e){return ng(t,new Dr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Dr.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function O3(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function x3(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function kO(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&$.isArray(i)?i.length:o,u?($.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!$.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&$.isArray(i[o])&&(i[o]=x3(i[o])),!a)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,i)=>{e(O3(r),i,n,0)}),n}return null}function N3(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xd={transitional:CO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=$.isObject(e);if(s&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return i?JSON.stringify(kO(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return k3(e,this.formSerializer).toString();if((a=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ng(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),N3(e)):e}],transformResponse:[function(e){const n=this.transitional||Xd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ue.from(a,ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dr.classes.FormData,Blob:Dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{Xd.headers[t]={}});const D3=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L3=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&D3[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},c1=Symbol("internals");function Gl(t){return t&&String(t).trim().toLowerCase()}function jf(t){return t===!1||t==null?t:$.isArray(t)?t.map(jf):String(t)}function M3(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const V3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Iv(t,e,n,r,i){if($.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function F3(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function U3(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Dn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,l){const d=Gl(u);if(!d)throw new Error("header name must be a non-empty string");const h=$.findKey(i,d);(!h||i[h]===void 0||l===!0||l===void 0&&i[h]!==!1)&&(i[h||u]=jf(a))}const o=(a,u)=>$.forEach(a,(l,d)=>s(l,d,u));if($.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if($.isString(e)&&(e=e.trim())&&!V3(e))o(L3(e),n);else if($.isHeaders(e))for(const[a,u]of e.entries())s(u,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Gl(e),e){const r=$.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return M3(i);if($.isFunction(n))return n.call(this,i,r);if($.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gl(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Iv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Gl(o),o){const a=$.findKey(r,o);a&&(!n||Iv(r,r[a],a,n))&&(delete r[a],i=!0)}}return $.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Iv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return $.forEach(this,(i,s)=>{const o=$.findKey(r,s);if(o){n[o]=jf(i),delete n[s];return}const a=e?F3(s):String(s).trim();a!==s&&delete n[s],n[a]=jf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[c1]=this[c1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Gl(o);r[a]||(U3(i,o),r[a]=!0)}return $.isArray(e)?e.forEach(s):s(e),this}}Dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Dn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});$.freezeMethods(Dn);function Ev(t,e){const n=this||Xd,r=e||n,i=Dn.from(r.headers);let s=r.data;return $.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function OO(t){return!!(t&&t.__CANCEL__)}function ol(t,e,n){ue.call(this,t??"canceled",ue.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(ol,ue,{__CANCEL__:!0});function xO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $3(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function j3(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),d=r[s];o||(o=l),n[i]=u,r[i]=l;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const m=d&&l-d;return m?Math.round(f*1e3/m):void 0}}function B3(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Wp=(t,e,n=3)=>{let r=0;const i=j3(50,250);return B3(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,l=i(u),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:l||void 0,estimated:l&&a&&d?(a-o)/l:void 0,event:s,lengthComputable:a!=null};h[e?"download":"upload"]=!0,t(h)},n)},z3=Dr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=$.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),q3=Dr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];$.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),$.isString(r)&&o.push("path="+r),$.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function W3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function H3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function NO(t,e){return t&&!W3(e)?H3(t,e):e}const d1=t=>t instanceof Dn?{...t}:t;function Ko(t,e){e=e||{};const n={};function r(l,d,h){return $.isPlainObject(l)&&$.isPlainObject(d)?$.merge.call({caseless:h},l,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function i(l,d,h){if($.isUndefined(d)){if(!$.isUndefined(l))return r(void 0,l,h)}else return r(l,d,h)}function s(l,d){if(!$.isUndefined(d))return r(void 0,d)}function o(l,d){if($.isUndefined(d)){if(!$.isUndefined(l))return r(void 0,l)}else return r(void 0,d)}function a(l,d,h){if(h in e)return r(l,d);if(h in t)return r(void 0,l)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,d)=>i(d1(l),d1(d),!0)};return $.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=u[d]||i,f=h(t[d],e[d],d);$.isUndefined(f)&&h!==a||(n[d]=f)}),n}const DO=t=>{const e=Ko({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Dn.from(o),e.url=RO(NO(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if($.isFormData(n)){if(Dr.hasStandardBrowserEnv||Dr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[l,...d]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...d].join("; "))}}if(Dr.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(e)),r||r!==!1&&z3(e.url))){const l=i&&s&&q3.read(s);l&&o.set(i,l)}return e},K3=typeof XMLHttpRequest<"u",G3=K3&&function(t){return new Promise(function(n,r){const i=DO(t);let s=i.data;const o=Dn.from(i.headers).normalize();let{responseType:a}=i,u;function l(){i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function h(){if(!d)return;const m=Dn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:t,request:d};xO(function(I){n(I),l()},function(I){r(I),l()},v),d=null}"onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(r(new ue("Request aborted",ue.ECONNABORTED,i,d)),d=null)},d.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,i,d)),d=null},d.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const v=i.transitional||CO;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),r(new ue(y,v.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,i,d)),d=null},s===void 0&&o.setContentType(null),"setRequestHeader"in d&&$.forEach(o.toJSON(),function(y,v){d.setRequestHeader(v,y)}),$.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),a&&a!=="json"&&(d.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&d.addEventListener("progress",Wp(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Wp(i.onUploadProgress)),(i.cancelToken||i.signal)&&(u=m=>{d&&(r(!m||m.type?new ol(null,t,d):m),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const f=$3(i.url);if(f&&Dr.protocols.indexOf(f)===-1){r(new ue("Unsupported protocol "+f+":",ue.ERR_BAD_REQUEST,t));return}d.send(s||null)})},Q3=(t,e)=>{let n=new AbortController,r;const i=function(u){if(!r){r=!0,o();const l=u instanceof Error?u:this.reason;n.abort(l instanceof ue?l:new ol(l instanceof Error?l.message:l))}};let s=e&&setTimeout(()=>{i(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",i):u.unsubscribe(i))}),t=null)};t.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},J3=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Y3=async function*(t,e,n){for await(const r of t)yield*J3(ArrayBuffer.isView(r)?r:await n(String(r)),e)},h1=(t,e,n,r,i)=>{const s=Y3(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:u,value:l}=await s.next();if(u){a.close(),r();return}let d=l.byteLength;n&&n(o+=d),a.enqueue(new Uint8Array(l))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},f1=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},rg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",LO=rg&&typeof ReadableStream=="function",sw=rg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),X3=LO&&(()=>{let t=!1;const e=new Request(Dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),p1=64*1024,ow=LO&&!!(()=>{try{return $.isReadableStream(new Response("").body)}catch{}})(),Hp={stream:ow&&(t=>t.body)};rg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Hp[e]&&(Hp[e]=$.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const Z3=async t=>{if(t==null)return 0;if($.isBlob(t))return t.size;if($.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if($.isArrayBufferView(t))return t.byteLength;if($.isURLSearchParams(t)&&(t=t+""),$.isString(t))return(await sw(t)).byteLength},eB=async(t,e)=>{const n=$.toFiniteNumber(t.getContentLength());return n??Z3(e)},tB=rg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:l,headers:d,withCredentials:h="same-origin",fetchOptions:f}=DO(t);l=l?(l+"").toLowerCase():"text";let[m,y]=i||s||o?Q3([i,s],o):[],v,S;const I=()=>{!v&&setTimeout(()=>{m&&m.unsubscribe()}),v=!0};let _;try{if(u&&X3&&n!=="get"&&n!=="head"&&(_=await eB(d,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),T;$.isFormData(r)&&(T=D.headers.get("content-type"))&&d.setContentType(T),D.body&&(r=h1(D.body,p1,f1(_,Wp(u)),null,sw))}$.isString(h)||(h=h?"cors":"omit"),S=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",withCredentials:h});let w=await fetch(S);const x=ow&&(l==="stream"||l==="response");if(ow&&(a||x)){const D={};["status","statusText","headers"].forEach(E=>{D[E]=w[E]});const T=$.toFiniteNumber(w.headers.get("content-length"));w=new Response(h1(w.body,p1,a&&f1(T,Wp(a,!0)),x&&I,sw),D)}l=l||"text";let k=await Hp[$.findKey(Hp,l)||"text"](w,t);return!x&&I(),y&&y(),await new Promise((D,T)=>{xO(D,T,{data:k,headers:Dn.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:S})})}catch(w){throw I(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,t,S),{cause:w.cause||w}):ue.from(w,w&&w.code,t,S)}}),aw={http:v3,xhr:G3,fetch:tB};$.forEach(aw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const m1=t=>`- ${t}`,nB=t=>$.isFunction(t)||t===null||t===!1,MO={getAdapter:t=>{t=$.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!nB(n)&&(r=aw[(o=String(n)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(m1).join(`
`):" "+m1(s[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:aw};function Tv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ol(null,t)}function g1(t){return Tv(t),t.headers=Dn.from(t.headers),t.data=Ev.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),MO.getAdapter(t.adapter||Xd.adapter)(t).then(function(r){return Tv(t),r.data=Ev.call(t,t.transformResponse,r),r.headers=Dn.from(r.headers),r},function(r){return OO(r)||(Tv(t),r&&r.response&&(r.response.data=Ev.call(t,t.transformResponse,r.response),r.response.headers=Dn.from(r.response.headers))),Promise.reject(r)})}const VO="1.7.2",AI={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{AI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const y1={};AI.transitional=function(e,n,r){function i(s,o){return"[Axios v"+VO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ue(i(o," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!y1[o]&&(y1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function rB(t,e,n){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new ue("option "+s+" must be "+u,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+s,ue.ERR_BAD_OPTION)}}const uw={assertOptions:rB,validators:AI},os=uw.validators;class Fo{constructor(e){this.defaults=e,this.interceptors={request:new l1,response:new l1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ko(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&uw.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),i!=null&&($.isFunction(i)?n.paramsSerializer={serialize:i}:uw.assertOptions(i,{encode:os.function,serialize:os.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&$.merge(s.common,s[n.method]);s&&$.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Dn.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!u){const y=[g1.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,l),f=y.length,d=Promise.resolve(n);h<f;)d=d.then(y[h++],y[h++]);return d}f=a.length;let m=n;for(h=0;h<f;){const y=a[h++],v=a[h++];try{m=y(m)}catch(S){v.call(this,S);break}}try{d=g1.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)d=d.then(l[h++],l[h++]);return d}getUri(e){e=Ko(this.defaults,e);const n=NO(e.baseURL,e.url);return RO(n,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){Fo.prototype[e]=function(n,r){return this.request(Ko(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ko(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Fo.prototype[e]=n(),Fo.prototype[e+"Form"]=n(!0)});class RI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ol(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new RI(function(i){e=i}),cancel:e}}}function iB(t){return function(n){return t.apply(null,n)}}function sB(t){return $.isObject(t)&&t.isAxiosError===!0}const lw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lw).forEach(([t,e])=>{lw[e]=t});function FO(t){const e=new Fo(t),n=gO(Fo.prototype.request,e);return $.extend(n,Fo.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return FO(Ko(t,i))},n}const it=FO(Xd);it.Axios=Fo;it.CanceledError=ol;it.CancelToken=RI;it.isCancel=OO;it.VERSION=VO;it.toFormData=ng;it.AxiosError=ue;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=iB;it.isAxiosError=sB;it.mergeConfig=Ko;it.AxiosHeaders=Dn;it.formToJSON=t=>kO($.isHTMLForm(t)?new FormData(t):t);it.getAdapter=MO.getAdapter;it.HttpStatusCode=lw;it.default=it;const pd={black:"#000",white:"#fff"},Na={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Da={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},La={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ma={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Va={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ql={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},oB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function md(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const aB=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"})),UO="$$material";function ce(){return ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ce.apply(this,arguments)}function hi(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $O(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var uB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lB=$O(function(t){return uB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function cB(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function dB(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hB=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=cB(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),sn="-ms-",Kp="-moz-",Pe="-webkit-",jO="comm",CI="rule",kI="decl",fB="@import",BO="@keyframes",pB="@layer",mB=Math.abs,ig=String.fromCharCode,gB=Object.assign;function yB(t,e){return Ht(t,0)^45?(((e<<2^Ht(t,0))<<2^Ht(t,1))<<2^Ht(t,2))<<2^Ht(t,3):0}function zO(t){return t.trim()}function vB(t,e){return(t=e.exec(t))?t[0]:t}function Ae(t,e,n){return t.replace(e,n)}function cw(t,e){return t.indexOf(e)}function Ht(t,e){return t.charCodeAt(e)|0}function gd(t,e,n){return t.slice(e,n)}function zr(t){return t.length}function OI(t){return t.length}function pf(t,e){return e.push(t),t}function _B(t,e){return t.map(e).join("")}var sg=1,Nu=1,qO=0,Mn=0,Et=0,al="";function og(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:sg,column:Nu,length:o,return:""}}function Jl(t,e){return gB(og("",null,null,"",null,null,0),t,{length:-t.length},e)}function wB(){return Et}function IB(){return Et=Mn>0?Ht(al,--Mn):0,Nu--,Et===10&&(Nu=1,sg--),Et}function Qn(){return Et=Mn<qO?Ht(al,Mn++):0,Nu++,Et===10&&(Nu=1,sg++),Et}function ii(){return Ht(al,Mn)}function Bf(){return Mn}function Zd(t,e){return gd(al,t,e)}function yd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WO(t){return sg=Nu=1,qO=zr(al=t),Mn=0,[]}function HO(t){return al="",t}function zf(t){return zO(Zd(Mn-1,dw(t===91?t+2:t===40?t+1:t)))}function EB(t){for(;(Et=ii())&&Et<33;)Qn();return yd(t)>2||yd(Et)>3?"":" "}function TB(t,e){for(;--e&&Qn()&&!(Et<48||Et>102||Et>57&&Et<65||Et>70&&Et<97););return Zd(t,Bf()+(e<6&&ii()==32&&Qn()==32))}function dw(t){for(;Qn();)switch(Et){case t:return Mn;case 34:case 39:t!==34&&t!==39&&dw(Et);break;case 40:t===41&&dw(t);break;case 92:Qn();break}return Mn}function SB(t,e){for(;Qn()&&t+Et!==57;)if(t+Et===84&&ii()===47)break;return"/*"+Zd(e,Mn-1)+"*"+ig(t===47?t:Qn())}function bB(t){for(;!yd(ii());)Qn();return Zd(t,Mn)}function PB(t){return HO(qf("",null,null,null,[""],t=WO(t),0,[0],t))}function qf(t,e,n,r,i,s,o,a,u){for(var l=0,d=0,h=o,f=0,m=0,y=0,v=1,S=1,I=1,_=0,w="",x=i,k=s,D=r,T=w;S;)switch(y=_,_=Qn()){case 40:if(y!=108&&Ht(T,h-1)==58){cw(T+=Ae(zf(_),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:T+=zf(_);break;case 9:case 10:case 13:case 32:T+=EB(y);break;case 92:T+=TB(Bf()-1,7);continue;case 47:switch(ii()){case 42:case 47:pf(AB(SB(Qn(),Bf()),e,n),u);break;default:T+="/"}break;case 123*v:a[l++]=zr(T)*I;case 125*v:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+d:I==-1&&(T=Ae(T,/\f/g,"")),m>0&&zr(T)-h&&pf(m>32?_1(T+";",r,n,h-1):_1(Ae(T," ","")+";",r,n,h-2),u);break;case 59:T+=";";default:if(pf(D=v1(T,e,n,l,d,i,a,w,x=[],k=[],h),s),_===123)if(d===0)qf(T,e,D,D,x,s,h,a,k);else switch(f===99&&Ht(T,3)===110?100:f){case 100:case 108:case 109:case 115:qf(t,D,D,r&&pf(v1(t,D,D,0,0,i,a,w,i,x=[],h),k),i,k,h,a,r?x:k);break;default:qf(T,D,D,D,[""],k,0,a,k)}}l=d=m=0,v=I=1,w=T="",h=o;break;case 58:h=1+zr(T),m=y;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&IB()==125)continue}switch(T+=ig(_),_*v){case 38:I=d>0?1:(T+="\f",-1);break;case 44:a[l++]=(zr(T)-1)*I,I=1;break;case 64:ii()===45&&(T+=zf(Qn())),f=ii(),d=h=zr(w=T+=bB(Bf())),_++;break;case 45:y===45&&zr(T)==2&&(v=0)}}return s}function v1(t,e,n,r,i,s,o,a,u,l,d){for(var h=i-1,f=i===0?s:[""],m=OI(f),y=0,v=0,S=0;y<r;++y)for(var I=0,_=gd(t,h+1,h=mB(v=o[y])),w=t;I<m;++I)(w=zO(v>0?f[I]+" "+_:Ae(_,/&\f/g,f[I])))&&(u[S++]=w);return og(t,e,n,i===0?CI:a,u,l,d)}function AB(t,e,n){return og(t,e,n,jO,ig(wB()),gd(t,2,-2),0)}function _1(t,e,n,r){return og(t,e,n,kI,gd(t,0,r),gd(t,r+1,-1),r)}function yu(t,e){for(var n="",r=OI(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function RB(t,e,n,r){switch(t.type){case pB:if(t.children.length)break;case fB:case kI:return t.return=t.return||t.value;case jO:return"";case BO:return t.return=t.value+"{"+yu(t.children,r)+"}";case CI:t.value=t.props.join(",")}return zr(n=yu(t.children,r))?t.return=t.value+"{"+n+"}":""}function CB(t){var e=OI(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function kB(t){return function(e){e.root||(e=e.return)&&t(e)}}var OB=function(e,n,r){for(var i=0,s=0;i=s,s=ii(),i===38&&s===12&&(n[r]=1),!yd(s);)Qn();return Zd(e,Mn)},xB=function(e,n){var r=-1,i=44;do switch(yd(i)){case 0:i===38&&ii()===12&&(n[r]=1),e[r]+=OB(Mn-1,n,r);break;case 2:e[r]+=zf(i);break;case 4:if(i===44){e[++r]=ii()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ig(i)}while(i=Qn());return e},NB=function(e,n){return HO(xB(WO(e),n))},w1=new WeakMap,DB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!w1.get(r))&&!i){w1.set(e,!0);for(var s=[],o=NB(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var d=0;d<a.length;d++,l++)e.props[l]=s[u]?o[u].replace(/&\f/g,a[d]):a[d]+" "+o[u]}}},LB=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function KO(t,e){switch(yB(t,e)){case 5103:return Pe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+t+Kp+t+sn+t+t;case 6828:case 4268:return Pe+t+sn+t+t;case 6165:return Pe+t+sn+"flex-"+t+t;case 5187:return Pe+t+Ae(t,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+sn+"flex-$1$2")+t;case 5443:return Pe+t+sn+"flex-item-"+Ae(t,/flex-|-self/,"")+t;case 4675:return Pe+t+sn+"flex-line-pack"+Ae(t,/align-content|flex-|-self/,"")+t;case 5548:return Pe+t+sn+Ae(t,"shrink","negative")+t;case 5292:return Pe+t+sn+Ae(t,"basis","preferred-size")+t;case 6060:return Pe+"box-"+Ae(t,"-grow","")+Pe+t+sn+Ae(t,"grow","positive")+t;case 4554:return Pe+Ae(t,/([^-])(transform)/g,"$1"+Pe+"$2")+t;case 6187:return Ae(Ae(Ae(t,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),t,"")+t;case 5495:case 3959:return Ae(t,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return Ae(Ae(t,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+t+t;case 4095:case 3583:case 4068:case 2532:return Ae(t,/(.+)-inline(.+)/,Pe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zr(t)-1-e>6)switch(Ht(t,e+1)){case 109:if(Ht(t,e+4)!==45)break;case 102:return Ae(t,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+Kp+(Ht(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~cw(t,"stretch")?KO(Ae(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ht(t,e+1)!==115)break;case 6444:switch(Ht(t,zr(t)-3-(~cw(t,"!important")&&10))){case 107:return Ae(t,":",":"+Pe)+t;case 101:return Ae(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(Ht(t,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+sn+"$2box$3")+t}break;case 5936:switch(Ht(t,e+11)){case 114:return Pe+t+sn+Ae(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pe+t+sn+Ae(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pe+t+sn+Ae(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pe+t+sn+t+t}return t}var MB=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case kI:e.return=KO(e.value,e.length);break;case BO:return yu([Jl(e,{value:Ae(e.value,"@","@"+Pe)})],i);case CI:if(e.length)return _B(e.props,function(s){switch(vB(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yu([Jl(e,{props:[Ae(s,/:(read-\w+)/,":"+Kp+"$1")]})],i);case"::placeholder":return yu([Jl(e,{props:[Ae(s,/:(plac\w+)/,":"+Pe+"input-$1")]}),Jl(e,{props:[Ae(s,/:(plac\w+)/,":"+Kp+"$1")]}),Jl(e,{props:[Ae(s,/:(plac\w+)/,sn+"input-$1")]})],i)}return""})}},VB=[MB],GO=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var S=v.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||VB,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var S=v.getAttribute("data-emotion").split(" "),I=1;I<S.length;I++)s[S[I]]=!0;a.push(v)});var u,l=[DB,LB];{var d,h=[RB,kB(function(v){d.insert(v)})],f=CB(l.concat(i,h)),m=function(S){return yu(PB(S),f)};u=function(S,I,_,w){d=_,m(S?S+"{"+I.styles+"}":I.styles),w&&(y.inserted[I.name]=!0)}}var y={key:n,sheet:new hB({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return y.sheet.hydrate(a),y},QO={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,xI=$t?Symbol.for("react.element"):60103,NI=$t?Symbol.for("react.portal"):60106,ag=$t?Symbol.for("react.fragment"):60107,ug=$t?Symbol.for("react.strict_mode"):60108,lg=$t?Symbol.for("react.profiler"):60114,cg=$t?Symbol.for("react.provider"):60109,dg=$t?Symbol.for("react.context"):60110,DI=$t?Symbol.for("react.async_mode"):60111,hg=$t?Symbol.for("react.concurrent_mode"):60111,fg=$t?Symbol.for("react.forward_ref"):60112,pg=$t?Symbol.for("react.suspense"):60113,FB=$t?Symbol.for("react.suspense_list"):60120,mg=$t?Symbol.for("react.memo"):60115,gg=$t?Symbol.for("react.lazy"):60116,UB=$t?Symbol.for("react.block"):60121,$B=$t?Symbol.for("react.fundamental"):60117,jB=$t?Symbol.for("react.responder"):60118,BB=$t?Symbol.for("react.scope"):60119;function tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xI:switch(t=t.type,t){case DI:case hg:case ag:case lg:case ug:case pg:return t;default:switch(t=t&&t.$$typeof,t){case dg:case fg:case gg:case mg:case cg:return t;default:return e}}case NI:return e}}}function JO(t){return tr(t)===hg}xe.AsyncMode=DI;xe.ConcurrentMode=hg;xe.ContextConsumer=dg;xe.ContextProvider=cg;xe.Element=xI;xe.ForwardRef=fg;xe.Fragment=ag;xe.Lazy=gg;xe.Memo=mg;xe.Portal=NI;xe.Profiler=lg;xe.StrictMode=ug;xe.Suspense=pg;xe.isAsyncMode=function(t){return JO(t)||tr(t)===DI};xe.isConcurrentMode=JO;xe.isContextConsumer=function(t){return tr(t)===dg};xe.isContextProvider=function(t){return tr(t)===cg};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xI};xe.isForwardRef=function(t){return tr(t)===fg};xe.isFragment=function(t){return tr(t)===ag};xe.isLazy=function(t){return tr(t)===gg};xe.isMemo=function(t){return tr(t)===mg};xe.isPortal=function(t){return tr(t)===NI};xe.isProfiler=function(t){return tr(t)===lg};xe.isStrictMode=function(t){return tr(t)===ug};xe.isSuspense=function(t){return tr(t)===pg};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ag||t===hg||t===lg||t===ug||t===pg||t===FB||typeof t=="object"&&t!==null&&(t.$$typeof===gg||t.$$typeof===mg||t.$$typeof===cg||t.$$typeof===dg||t.$$typeof===fg||t.$$typeof===$B||t.$$typeof===jB||t.$$typeof===BB||t.$$typeof===UB)};xe.typeOf=tr;QO.exports=xe;var zB=QO.exports,YO=zB,qB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},WB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XO={};XO[YO.ForwardRef]=qB;XO[YO.Memo]=WB;var HB=!0;function KB(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var ZO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||HB===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ex=function(e,n,r){ZO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function GB(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var QB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JB=/[A-Z]|^ms/g,YB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tx=function(e){return e.charCodeAt(1)===45},I1=function(e){return e!=null&&typeof e!="boolean"},Sv=$O(function(t){return tx(t)?t:t.replace(JB,"-$&").toLowerCase()}),E1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(YB,function(r,i,s){return qr={name:i,styles:s,next:qr},i})}return QB[e]!==1&&!tx(e)&&typeof n=="number"&&n!==0?n+"px":n};function vd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return qr={name:n.name,styles:n.styles,next:qr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)qr={name:r.name,styles:r.styles,next:qr},r=r.next;var i=n.styles+";";return i}return XB(t,e,n)}case"function":{if(t!==void 0){var s=qr,o=n(t);return qr=s,vd(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function XB(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=vd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":I1(o)&&(r+=Sv(s)+":"+E1(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)I1(o[a])&&(r+=Sv(s)+":"+E1(s,o[a])+";");else{var u=vd(t,e,o);switch(s){case"animation":case"animationName":{r+=Sv(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var T1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,qr,LI=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";qr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=vd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=vd(r,n,e[a]),i&&(s+=o[a]);T1.lastIndex=0;for(var u="",l;(l=T1.exec(s))!==null;)u+="-"+l[1];var d=GB(s)+u;return{name:d,styles:s,next:qr}},ZB=function(e){return e()},nx=mp.useInsertionEffect?mp.useInsertionEffect:!1,e5=nx||ZB,S1=nx||F.useLayoutEffect,rx=F.createContext(typeof HTMLElement<"u"?GO({key:"css"}):null),t5=rx.Provider,ix=function(e){return F.forwardRef(function(n,r){var i=F.useContext(rx);return e(n,i,r)})},yg=F.createContext({}),bv={exports:{}},b1;function sx(){return b1||(b1=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(bv)),bv.exports}sx();var n5=ix(function(t,e){var n=t.styles,r=LI([n],void 0,F.useContext(yg)),i=F.useRef();return S1(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),S1(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&ex(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ox(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return LI(e)}var r5=function(){var e=ox.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},i5=lB,s5=function(e){return e!=="theme"},P1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?i5:s5},A1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},o5=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ZO(n,r,i),e5(function(){return ex(n,r,i)}),null},a5=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=A1(e,n,r),u=a||P1(i),l=!u("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],d[0][m])}var y=ix(function(v,S,I){var _=l&&v.as||i,w="",x=[],k=v;if(v.theme==null){k={};for(var D in v)k[D]=v[D];k.theme=F.useContext(yg)}typeof v.className=="string"?w=KB(S.registered,x,v.className):v.className!=null&&(w=v.className+" ");var T=LI(h.concat(x),S.registered,k);w+=S.key+"-"+T.name,o!==void 0&&(w+=" "+o);var E=l&&a===void 0?P1(_):u,P={};for(var A in v)l&&A==="as"||E(A)&&(P[A]=v[A]);return P.className=w,P.ref=I,F.createElement(F.Fragment,null,F.createElement(o5,{cache:S,serialized:T,isStringTag:typeof _=="string"}),F.createElement(_,P))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=h,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(v,S){return t(v,ce({},n,S,{shouldForwardProp:A1(y,S,!0)})).apply(void 0,h)},y}},u5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hw=a5.bind();u5.forEach(function(t){hw[t]=hw(t)});let fw;typeof document=="object"&&(fw=GO({key:"css",prepend:!0}));function l5(t){const{injectFirst:e,children:n}=t;return e&&fw?R.jsx(t5,{value:fw,children:n}):n}function c5(t){return t==null||Object.keys(t).length===0}function d5(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(c5(i)?n:i):e;return R.jsx(n5,{styles:r})}function h5(t,e){return hw(t,e)}const f5=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},p5=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:d5,StyledEngineProvider:l5,ThemeContext:yg,css:ox,default:h5,internal_processStyles:f5,keyframes:r5},Symbol.toStringTag,{value:"Module"}));function vs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ax(t){if(!vs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=ax(t[n])}),e}function si(t,e,n={clone:!0}){const r=n.clone?ce({},t):t;return vs(t)&&vs(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(vs(e[i])&&i in t&&vs(t[i])?r[i]=si(t[i],e[i],n):n.clone?r[i]=vs(e[i])?ax(e[i]):e[i]:r[i]=e[i])}),r}const m5=Object.freeze(Object.defineProperty({__proto__:null,default:si,isPlainObject:vs},Symbol.toStringTag,{value:"Module"})),g5=["values","unit","step"],y5=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ce({},n,{[r.key]:r.val}),{})};function ux(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=hi(t,g5),s=y5(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function u(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function l(f,m){const y=o.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:m)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?l(f,o[o.indexOf(f)+1]):a(f)}function h(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?u(o[m]):l(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return ce({keys:o,values:s,up:a,down:u,between:l,only:d,not:h,unit:n},i)}const v5={borderRadius:4};function Dc(t,e){return e?si(t,e,{clone:!1}):t}const MI={xs:0,sm:600,md:900,lg:1200,xl:1536},R1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${MI[t]}px)`};function Ui(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||R1;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||R1;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||MI).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function _5(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function w5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function $i(t){if(typeof t!="string")throw new Error(md(7));return t.charAt(0).toUpperCase()+t.slice(1)}const I5=Object.freeze(Object.defineProperty({__proto__:null,default:$i},Symbol.toStringTag,{value:"Module"}));function vg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Gp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=vg(t,n)||r,e&&(i=e(i,r,t)),i}function vt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,l=vg(u,r)||{};return Ui(o,a,h=>{let f=Gp(l,i,h);return h===f&&typeof h=="string"&&(f=Gp(l,i,`${e}${h==="default"?"":$i(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function E5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const T5={m:"margin",p:"padding"},S5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},C1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},b5=E5(t=>{if(t.length>2)if(C1[t])t=C1[t];else return[t];const[e,n]=t.split(""),r=T5[e],i=S5[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),VI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],FI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VI,...FI];function eh(t,e,n,r){var i;const s=(i=vg(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function lx(t){return eh(t,"spacing",8)}function th(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function P5(t,e){return n=>t.reduce((r,i)=>(r[i]=th(e,n),r),{})}function A5(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=b5(n),s=P5(i,r),o=t[n];return Ui(t,o,s)}function cx(t,e){const n=lx(t.theme);return Object.keys(t).map(r=>A5(t,e,r,n)).reduce(Dc,{})}function ot(t){return cx(t,VI)}ot.propTypes={};ot.filterProps=VI;function at(t){return cx(t,FI)}at.propTypes={};at.filterProps=FI;function R5(t=8){if(t.mui)return t;const e=lx({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function _g(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Dc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ur(t){return typeof t!="number"?t:`${t}px solid`}function _r(t,e){return vt({prop:t,themeKey:"borders",transform:e})}const C5=_r("border",ur),k5=_r("borderTop",ur),O5=_r("borderRight",ur),x5=_r("borderBottom",ur),N5=_r("borderLeft",ur),D5=_r("borderColor"),L5=_r("borderTopColor"),M5=_r("borderRightColor"),V5=_r("borderBottomColor"),F5=_r("borderLeftColor"),U5=_r("outline",ur),$5=_r("outlineColor"),wg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=eh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:th(e,r)});return Ui(t,t.borderRadius,n)}return null};wg.propTypes={};wg.filterProps=["borderRadius"];_g(C5,k5,O5,x5,N5,D5,L5,M5,V5,F5,wg,U5,$5);const Ig=t=>{if(t.gap!==void 0&&t.gap!==null){const e=eh(t.theme,"spacing",8),n=r=>({gap:th(e,r)});return Ui(t,t.gap,n)}return null};Ig.propTypes={};Ig.filterProps=["gap"];const Eg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=eh(t.theme,"spacing",8),n=r=>({columnGap:th(e,r)});return Ui(t,t.columnGap,n)}return null};Eg.propTypes={};Eg.filterProps=["columnGap"];const Tg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=eh(t.theme,"spacing",8),n=r=>({rowGap:th(e,r)});return Ui(t,t.rowGap,n)}return null};Tg.propTypes={};Tg.filterProps=["rowGap"];const j5=vt({prop:"gridColumn"}),B5=vt({prop:"gridRow"}),z5=vt({prop:"gridAutoFlow"}),q5=vt({prop:"gridAutoColumns"}),W5=vt({prop:"gridAutoRows"}),H5=vt({prop:"gridTemplateColumns"}),K5=vt({prop:"gridTemplateRows"}),G5=vt({prop:"gridTemplateAreas"}),Q5=vt({prop:"gridArea"});_g(Ig,Eg,Tg,j5,B5,z5,q5,W5,H5,K5,G5,Q5);function vu(t,e){return e==="grey"?e:t}const J5=vt({prop:"color",themeKey:"palette",transform:vu}),Y5=vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vu}),X5=vt({prop:"backgroundColor",themeKey:"palette",transform:vu});_g(J5,Y5,X5);function Wn(t){return t<=1&&t!==0?`${t*100}%`:t}const Z5=vt({prop:"width",transform:Wn}),UI=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||MI[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Wn(n)}};return Ui(t,t.maxWidth,e)}return null};UI.filterProps=["maxWidth"];const ez=vt({prop:"minWidth",transform:Wn}),tz=vt({prop:"height",transform:Wn}),nz=vt({prop:"maxHeight",transform:Wn}),rz=vt({prop:"minHeight",transform:Wn});vt({prop:"size",cssProperty:"width",transform:Wn});vt({prop:"size",cssProperty:"height",transform:Wn});const iz=vt({prop:"boxSizing"});_g(Z5,UI,ez,tz,nz,rz,iz);const nh={border:{themeKey:"borders",transform:ur},borderTop:{themeKey:"borders",transform:ur},borderRight:{themeKey:"borders",transform:ur},borderBottom:{themeKey:"borders",transform:ur},borderLeft:{themeKey:"borders",transform:ur},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ur},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wg},color:{themeKey:"palette",transform:vu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vu},backgroundColor:{themeKey:"palette",transform:vu},p:{style:at},pt:{style:at},pr:{style:at},pb:{style:at},pl:{style:at},px:{style:at},py:{style:at},padding:{style:at},paddingTop:{style:at},paddingRight:{style:at},paddingBottom:{style:at},paddingLeft:{style:at},paddingX:{style:at},paddingY:{style:at},paddingInline:{style:at},paddingInlineStart:{style:at},paddingInlineEnd:{style:at},paddingBlock:{style:at},paddingBlockStart:{style:at},paddingBlockEnd:{style:at},m:{style:ot},mt:{style:ot},mr:{style:ot},mb:{style:ot},ml:{style:ot},mx:{style:ot},my:{style:ot},margin:{style:ot},marginTop:{style:ot},marginRight:{style:ot},marginBottom:{style:ot},marginLeft:{style:ot},marginX:{style:ot},marginY:{style:ot},marginInline:{style:ot},marginInlineStart:{style:ot},marginInlineEnd:{style:ot},marginBlock:{style:ot},marginBlockStart:{style:ot},marginBlockEnd:{style:ot},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ig},rowGap:{style:Tg},columnGap:{style:Eg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wn},maxWidth:{style:UI},minWidth:{transform:Wn},height:{transform:Wn},maxHeight:{transform:Wn},minHeight:{transform:Wn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function sz(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function oz(t,e){return typeof t=="function"?t(e):t}function dx(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:l,transform:d,style:h}=a;if(r==null)return null;if(l==="typography"&&r==="inherit")return{[n]:r};const f=vg(i,l)||{};return h?h(o):Ui(o,r,y=>{let v=Gp(f,d,y);return y===v&&typeof y=="string"&&(v=Gp(f,d,`${n}${y==="default"?"":$i(y)}`,y)),u===!1?v:{[u]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:nh;function a(u){let l=u;if(typeof u=="function")l=u(s);else if(typeof u!="object")return u;if(!l)return null;const d=_5(s.breakpoints),h=Object.keys(d);let f=d;return Object.keys(l).forEach(m=>{const y=oz(l[m],s);if(y!=null)if(typeof y=="object")if(o[m])f=Dc(f,t(m,y,s,o));else{const v=Ui({theme:s},y,S=>({[m]:S}));sz(v,y)?f[m]=e({sx:y,theme:s}):f=Dc(f,v)}else f=Dc(f,t(m,y,s,o))}),w5(h,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const Sg=dx();Sg.filterProps=["sx"];function hx(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const az=["breakpoints","palette","spacing","shape"];function $I(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=hi(t,az),a=ux(n),u=R5(i);let l=si({breakpoints:a,direction:"ltr",components:{},palette:ce({mode:"light"},r),spacing:u,shape:ce({},v5,s)},o);return l.applyStyles=hx,l=e.reduce((d,h)=>si(d,h),l),l.unstable_sxConfig=ce({},nh,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(h){return Sg({sx:h,theme:this})},l}const uz=Object.freeze(Object.defineProperty({__proto__:null,default:$I,private_createBreakpoints:ux,unstable_applyStyles:hx},Symbol.toStringTag,{value:"Module"}));function lz(t){return Object.keys(t).length===0}function cz(t=null){const e=F.useContext(yg);return!e||lz(e)?t:e}const dz=$I();function hz(t=dz){return cz(t)}const fz=["sx"],pz=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:nh;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function mz(t){const{sx:e}=t,n=hi(t,fz),{systemProps:r,otherProps:i}=pz(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return vs(a)?ce({},r,a):r}:s=ce({},r,e),ce({},i,{sx:s})}const gz=Object.freeze(Object.defineProperty({__proto__:null,default:Sg,extendSxProp:mz,unstable_createStyleFunctionSx:dx,unstable_defaultSxConfig:nh},Symbol.toStringTag,{value:"Module"})),k1=t=>t,yz=()=>{let t=k1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=k1}}},vz=yz();function fx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fx(t))&&(r&&(r+=" "),r+=e);return r}const _z={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jI(t,e,n="Mui"){const r=_z[e];return r?`${n}-${r}`:`${vz.generate(t)}-${e}`}function px(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=jI(t,i,n)}),r}var mx={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=Symbol.for("react.element"),zI=Symbol.for("react.portal"),bg=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),wz=Symbol.for("react.server_context"),kg=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),xg=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),Dg=Symbol.for("react.lazy"),Iz=Symbol.for("react.offscreen"),gx;gx=Symbol.for("react.module.reference");function wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case BI:switch(t=t.type,t){case bg:case Ag:case Pg:case Og:case xg:return t;default:switch(t=t&&t.$$typeof,t){case wz:case Cg:case kg:case Dg:case Ng:case Rg:return t;default:return e}}case zI:return e}}}Ne.ContextConsumer=Cg;Ne.ContextProvider=Rg;Ne.Element=BI;Ne.ForwardRef=kg;Ne.Fragment=bg;Ne.Lazy=Dg;Ne.Memo=Ng;Ne.Portal=zI;Ne.Profiler=Ag;Ne.StrictMode=Pg;Ne.Suspense=Og;Ne.SuspenseList=xg;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return wr(t)===Cg};Ne.isContextProvider=function(t){return wr(t)===Rg};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===BI};Ne.isForwardRef=function(t){return wr(t)===kg};Ne.isFragment=function(t){return wr(t)===bg};Ne.isLazy=function(t){return wr(t)===Dg};Ne.isMemo=function(t){return wr(t)===Ng};Ne.isPortal=function(t){return wr(t)===zI};Ne.isProfiler=function(t){return wr(t)===Ag};Ne.isStrictMode=function(t){return wr(t)===Pg};Ne.isSuspense=function(t){return wr(t)===Og};Ne.isSuspenseList=function(t){return wr(t)===xg};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bg||t===Ag||t===Pg||t===Og||t===xg||t===Iz||typeof t=="object"&&t!==null&&(t.$$typeof===Dg||t.$$typeof===Ng||t.$$typeof===Rg||t.$$typeof===Cg||t.$$typeof===kg||t.$$typeof===gx||t.getModuleId!==void 0)};Ne.typeOf=wr;mx.exports=Ne;var O1=mx.exports;const Ez=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function yx(t){const e=`${t}`.match(Ez);return e&&e[1]||""}function vx(t,e=""){return t.displayName||t.name||yx(t)||e}function x1(t,e,n){const r=vx(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function Tz(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return vx(t,"Component");if(typeof t=="object")switch(t.$$typeof){case O1.ForwardRef:return x1(t,t.render,"ForwardRef");case O1.Memo:return x1(t,t.type,"memo");default:return}}}const Sz=Object.freeze(Object.defineProperty({__proto__:null,default:Tz,getFunctionName:yx},Symbol.toStringTag,{value:"Module"}));function _x(t,e){const n=ce({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ce({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=ce({},s),Object.keys(i).forEach(o=>{n[r][o]=_x(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function bz(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:_x(e.components[n].defaultProps,r)}function Pz({props:t,name:e,defaultTheme:n,themeId:r}){let i=hz(n);return r&&(i=i[r]||i),bz({theme:i,name:e,props:t})}function wx(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Az=Object.freeze(Object.defineProperty({__proto__:null,default:wx},Symbol.toStringTag,{value:"Module"}));function Rz(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let N1=0;function Cz(t){const[e,n]=F.useState(t),r=t||e;return F.useEffect(()=>{e==null&&(N1+=1,n(`mui-${N1}`))},[e]),r}const D1=mp.useId;function Ix(t){if(D1!==void 0){const e=D1();return t??e}return Cz(t)}function kz({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=F.useRef(t!==void 0),[s,o]=F.useState(e),a=i?t:s,u=F.useCallback(l=>{i||o(l)},[]);return[a,u]}function Oz(...t){return F.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Rz(n,e)})},t)}class qI{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new qI}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let Lg=!0,pw=!1;const xz=new qI,Nz={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Dz(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&Nz[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Lz(t){t.metaKey||t.altKey||t.ctrlKey||(Lg=!0)}function Pv(){Lg=!1}function Mz(){this.visibilityState==="hidden"&&pw&&(Lg=!0)}function Vz(t){t.addEventListener("keydown",Lz,!0),t.addEventListener("mousedown",Pv,!0),t.addEventListener("pointerdown",Pv,!0),t.addEventListener("touchstart",Pv,!0),t.addEventListener("visibilitychange",Mz,!0)}function Fz(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Lg||Dz(e)}function Uz(){const t=F.useCallback(i=>{i!=null&&Vz(i.ownerDocument)},[]),e=F.useRef(!1);function n(){return e.current?(pw=!0,xz.start(100,()=>{pw=!1}),e.current=!1,!0):!1}function r(i){return Fz(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}const $z={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ex(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const jz=F.createContext(),Bz=()=>{const t=F.useContext(jz);return t??!1};function zz(t,e){return ce({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var _t={},Tx={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Tx);var Sx=Tx.exports;const qz=Js(aB),Wz=Js(Az);var bx=Sx;Object.defineProperty(_t,"__esModule",{value:!0});_t.alpha=Cx;_t.blend=i6;_t.colorChannel=void 0;var Hz=_t.darken=HI;_t.decomposeColor=vr;_t.emphasize=kx;var Kz=_t.getContrastRatio=Zz;_t.getLuminance=Qp;_t.hexToRgb=Px;_t.hslToRgb=Rx;var Gz=_t.lighten=KI;_t.private_safeAlpha=e6;_t.private_safeColorChannel=void 0;_t.private_safeDarken=t6;_t.private_safeEmphasize=r6;_t.private_safeLighten=n6;_t.recomposeColor=ul;_t.rgbToHex=Xz;var L1=bx(qz),Qz=bx(Wz);function WI(t,e=0,n=1){return(0,Qz.default)(t,e,n)}function Px(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Jz(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function vr(t){if(t.type)return t;if(t.charAt(0)==="#")return vr(Px(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,L1.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,L1.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Ax=t=>{const e=vr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};_t.colorChannel=Ax;const Yz=(t,e)=>{try{return Ax(t)}catch{return t}};_t.private_safeColorChannel=Yz;function ul(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Xz(t){if(t.indexOf("#")===0)return t;const{values:e}=vr(t);return`#${e.map((n,r)=>Jz(r===3?Math.round(255*n):n)).join("")}`}function Rx(t){t=vr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(l,d=(l+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),ul({type:a,values:u})}function Qp(t){t=vr(t);let e=t.type==="hsl"||t.type==="hsla"?vr(Rx(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Zz(t,e){const n=Qp(t),r=Qp(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Cx(t,e){return t=vr(t),e=WI(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ul(t)}function e6(t,e,n){try{return Cx(t,e)}catch{return t}}function HI(t,e){if(t=vr(t),e=WI(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return ul(t)}function t6(t,e,n){try{return HI(t,e)}catch{return t}}function KI(t,e){if(t=vr(t),e=WI(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return ul(t)}function n6(t,e,n){try{return KI(t,e)}catch{return t}}function kx(t,e=.15){return Qp(t)>.5?HI(t,e):KI(t,e)}function r6(t,e,n){try{return kx(t,e)}catch{return t}}function i6(t,e,n,r=1){const i=(u,l)=>Math.round((u**(1/r)*(1-n)+l**(1/r)*n)**r),s=vr(t),o=vr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return ul({type:"rgb",values:a})}const s6=["mode","contrastThreshold","tonalOffset"],M1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pd.white,default:pd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Av={text:{primary:pd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function V1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Gz(t.main,i):e==="dark"&&(t.dark=Hz(t.main,s)))}function o6(t="light"){return t==="dark"?{main:La[200],light:La[50],dark:La[400]}:{main:La[700],light:La[400],dark:La[800]}}function a6(t="light"){return t==="dark"?{main:Da[200],light:Da[50],dark:Da[400]}:{main:Da[500],light:Da[300],dark:Da[700]}}function u6(t="light"){return t==="dark"?{main:Na[500],light:Na[300],dark:Na[700]}:{main:Na[700],light:Na[400],dark:Na[800]}}function l6(t="light"){return t==="dark"?{main:Ma[400],light:Ma[300],dark:Ma[700]}:{main:Ma[700],light:Ma[500],dark:Ma[900]}}function c6(t="light"){return t==="dark"?{main:Va[400],light:Va[300],dark:Va[700]}:{main:Va[800],light:Va[500],dark:Va[900]}}function d6(t="light"){return t==="dark"?{main:Ql[400],light:Ql[300],dark:Ql[700]}:{main:"#ed6c02",light:Ql[500],dark:Ql[900]}}function h6(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=hi(t,s6),s=t.primary||o6(e),o=t.secondary||a6(e),a=t.error||u6(e),u=t.info||l6(e),l=t.success||c6(e),d=t.warning||d6(e);function h(v){return Kz(v,Av.text.primary)>=n?Av.text.primary:M1.text.primary}const f=({color:v,name:S,mainShade:I=500,lightShade:_=300,darkShade:w=700})=>{if(v=ce({},v),!v.main&&v[I]&&(v.main=v[I]),!v.hasOwnProperty("main"))throw new Error(md(11,S?` (${S})`:"",I));if(typeof v.main!="string")throw new Error(md(12,S?` (${S})`:"",JSON.stringify(v.main)));return V1(v,"light",_,r),V1(v,"dark",w,r),v.contrastText||(v.contrastText=h(v.main)),v},m={dark:Av,light:M1};return si(ce({common:ce({},pd),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:u,name:"info"}),success:f({color:l,name:"success"}),grey:oB,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},m[e]),i)}const f6=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function p6(t){return Math.round(t*1e5)/1e5}const F1={textTransform:"uppercase"},U1='"Roboto", "Helvetica", "Arial", sans-serif';function m6(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=U1,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:l=16,allVariants:d,pxToRem:h}=n,f=hi(n,f6),m=i/14,y=h||(I=>`${I/l*m}rem`),v=(I,_,w,x,k)=>ce({fontFamily:r,fontWeight:I,fontSize:y(_),lineHeight:w},r===U1?{letterSpacing:`${p6(x/_)}em`}:{},k,d),S={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,F1),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,F1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return si(ce({htmlFontSize:l,pxToRem:y,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},S),f,{clone:!1})}const g6=.2,y6=.14,v6=.12;function He(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${g6})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${y6})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${v6})`].join(",")}const _6=["none",He(0,2,1,-1,0,1,1,0,0,1,3,0),He(0,3,1,-2,0,2,2,0,0,1,5,0),He(0,3,3,-2,0,3,4,0,0,1,8,0),He(0,2,4,-1,0,4,5,0,0,1,10,0),He(0,3,5,-1,0,5,8,0,0,1,14,0),He(0,3,5,-1,0,6,10,0,0,1,18,0),He(0,4,5,-2,0,7,10,1,0,2,16,1),He(0,5,5,-3,0,8,10,1,0,3,14,2),He(0,5,6,-3,0,9,12,1,0,3,16,2),He(0,6,6,-3,0,10,14,1,0,4,18,3),He(0,6,7,-4,0,11,15,1,0,4,20,3),He(0,7,8,-4,0,12,17,2,0,5,22,4),He(0,7,8,-4,0,13,19,2,0,5,24,4),He(0,7,9,-4,0,14,21,2,0,5,26,4),He(0,8,9,-5,0,15,22,2,0,6,28,5),He(0,8,10,-5,0,16,24,2,0,6,30,5),He(0,8,11,-5,0,17,26,2,0,6,32,5),He(0,9,11,-5,0,18,28,2,0,7,34,6),He(0,9,12,-6,0,19,29,2,0,7,36,6),He(0,10,13,-6,0,20,31,3,0,8,38,7),He(0,10,13,-6,0,21,33,3,0,8,40,7),He(0,10,14,-6,0,22,35,3,0,8,42,7),He(0,11,14,-7,0,23,36,3,0,9,44,8),He(0,11,15,-7,0,24,38,3,0,9,46,8)],w6=["duration","easing","delay"],I6={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},E6={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $1(t){return`${Math.round(t)}ms`}function T6(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function S6(t){const e=ce({},I6,t.easing),n=ce({},E6,t.duration);return ce({getAutoHeightDuration:T6,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return hi(s,w6),(Array.isArray(i)?i:[i]).map(l=>`${l} ${typeof o=="string"?o:$1(o)} ${a} ${typeof u=="string"?u:$1(u)}`).join(",")}},t,{easing:e,duration:n})}const b6={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},P6=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function A6(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=hi(t,P6);if(t.vars)throw new Error(md(18));const a=h6(r),u=$I(t);let l=si(u,{mixins:zz(u.breakpoints,n),palette:a,shadows:_6.slice(),typography:m6(a,s),transitions:S6(i),zIndex:ce({},b6)});return l=si(l,o),l=e.reduce((d,h)=>si(d,h),l),l.unstable_sxConfig=ce({},nh,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(h){return Sg({sx:h,theme:this})},l}const Ox=A6();function xx({props:t,name:e}){return Pz({props:t,name:e,defaultTheme:Ox,themeId:UO})}var rh={},Rv={exports:{}},j1;function R6(){return j1||(j1=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Rv)),Rv.exports}const C6=Js(p5),k6=Js(m5),O6=Js(I5),x6=Js(Sz),N6=Js(uz),D6=Js(gz);var ll=Sx;Object.defineProperty(rh,"__esModule",{value:!0});var L6=rh.default=G6;rh.shouldForwardProp=Wf;rh.systemDefaultTheme=void 0;var sr=ll(sx()),mw=ll(R6()),B1=B6(C6),M6=k6;ll(O6);ll(x6);var V6=ll(N6),F6=ll(D6);const U6=["ownerState"],$6=["variants"],j6=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Nx(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Nx=function(r){return r?n:e})(t)}function B6(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Nx(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function z6(t){return Object.keys(t).length===0}function q6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Wf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const W6=rh.systemDefaultTheme=(0,V6.default)(),H6=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function mf({defaultTheme:t,theme:e,themeId:n}){return z6(e)?t:e[n]||e}function K6(t){return t?(e,n)=>n[t]:null}function Hf(t,e){let{ownerState:n}=e,r=(0,mw.default)(e,U6);const i=typeof t=="function"?t((0,sr.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Hf(s,(0,sr.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,mw.default)(i,$6);return s.forEach(u=>{let l=!0;typeof u.props=="function"?l=u.props((0,sr.default)({ownerState:n},r,n)):Object.keys(u.props).forEach(d=>{(n==null?void 0:n[d])!==u.props[d]&&r[d]!==u.props[d]&&(l=!1)}),l&&(Array.isArray(a)||(a=[a]),a.push(typeof u.style=="function"?u.style((0,sr.default)({ownerState:n},r,n)):u.style))}),a}return i}function G6(t={}){const{themeId:e,defaultTheme:n=W6,rootShouldForwardProp:r=Wf,slotShouldForwardProp:i=Wf}=t,s=o=>(0,F6.default)((0,sr.default)({},o,{theme:mf((0,sr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,B1.internal_processStyles)(o,k=>k.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:u,slot:l,skipVariantsResolver:d,skipSx:h,overridesResolver:f=K6(H6(l))}=a,m=(0,mw.default)(a,j6),y=d!==void 0?d:l&&l!=="Root"&&l!=="root"||!1,v=h||!1;let S,I=Wf;l==="Root"||l==="root"?I=r:l?I=i:q6(o)&&(I=void 0);const _=(0,B1.default)(o,(0,sr.default)({shouldForwardProp:I,label:S},m)),w=k=>typeof k=="function"&&k.__emotion_real!==k||(0,M6.isPlainObject)(k)?D=>Hf(k,(0,sr.default)({},D,{theme:mf({theme:D.theme,defaultTheme:n,themeId:e})})):k,x=(k,...D)=>{let T=w(k);const E=D?D.map(w):[];u&&f&&E.push(O=>{const N=mf((0,sr.default)({},O,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[u]||!N.components[u].styleOverrides)return null;const C=N.components[u].styleOverrides,De={};return Object.entries(C).forEach(([Re,Yt])=>{De[Re]=Hf(Yt,(0,sr.default)({},O,{theme:N}))}),f(O,De)}),u&&!y&&E.push(O=>{var N;const C=mf((0,sr.default)({},O,{defaultTheme:n,themeId:e})),De=C==null||(N=C.components)==null||(N=N[u])==null?void 0:N.variants;return Hf({variants:De},(0,sr.default)({},O,{theme:C}))}),v||E.push(s);const P=E.length-D.length;if(Array.isArray(k)&&P>0){const O=new Array(P).fill("");T=[...k,...O],T.raw=[...k.raw,...O]}const A=_(T,...E);return o.muiName&&(A.muiName=o.muiName),A};return _.withConfig&&(x.withConfig=_.withConfig),x}}function Dx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Q6=t=>Dx(t)&&t!=="classes",ih=L6({themeId:UO,defaultTheme:Ox,rootShouldForwardProp:Q6});function J6(t){return jI("MuiSvgIcon",t)}px("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Y6=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],X6=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${$i(e)}`,`fontSize${$i(n)}`]};return Ex(i,J6,r)},Z6=ih("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${$i(n.color)}`],e[`fontSize${$i(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,l,d,h,f,m,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.disabled,inherit:void 0}[e.color]}}),gw=F.forwardRef(function(e,n){const r=xx({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:l,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,m=hi(r,Y6),y=F.isValidElement(i)&&i.type==="svg",v=ce({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:y}),S={};d||(S.viewBox=f);const I=X6(v);return R.jsxs(Z6,ce({as:a,className:Lc(I.root,s),focusable:"false",color:l,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},S,m,y&&i.props,{ownerState:v,children:[y?i.props.children:i,h?R.jsx("title",{children:h}):null]}))});gw.muiName="SvgIcon";function Lx(t,e){function n(r,i){return R.jsx(gw,ce({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=gw.muiName,F.memo(F.forwardRef(n))}const e9=Lx(R.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),t9=Lx(R.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function n9(t){return jI("MuiRating",t)}const Yl=px("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),r9=["value"],i9=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function s9(t){const e=t.toString().split(".")[1];return e?e.length:0}function Cv(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(s9(e)))}const o9=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${$i(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ex(a,n9,e)},a9=ih("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Yl.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${$i(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>ce({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Yl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Yl.focusVisible} .${Yl.iconActive}`]:{outline:"1px solid #999"},[`& .${Yl.visuallyHidden}`]:$z},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),Mx=ih("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>ce({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),u9=ih("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>ce({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),l9=ih("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Dx(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>ce({position:"relative"},t&&{transform:"scale(1.2)"}));function c9(t){const e=hi(t,r9);return R.jsx("span",ce({},e))}function z1(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:u,IconContainerComponent:l,isActive:d,itemValue:h,labelProps:f,name:m,onBlur:y,onChange:v,onClick:S,onFocus:I,readOnly:_,ownerState:w,ratingValue:x,ratingValueRounded:k}=t,D=o?h===x:h<=x,T=h<=a,E=h<=i,P=h===k,A=Ix(),O=R.jsx(u9,{as:l,value:h,className:Lc(e.icon,D?e.iconFilled:e.iconEmpty,T&&e.iconHover,E&&e.iconFocus,d&&e.iconActive),ownerState:ce({},w,{iconEmpty:!D,iconFilled:D,iconHover:T,iconFocus:E,iconActive:d}),children:r&&!D?r:u});return _?R.jsx("span",ce({},f,{children:O})):R.jsxs(F.Fragment,{children:[R.jsxs(Mx,ce({ownerState:ce({},w,{emptyValueFocused:void 0}),htmlFor:A},f,{children:[O,R.jsx("span",{className:e.visuallyHidden,children:s(h)})]})),R.jsx("input",{className:e.visuallyHidden,onFocus:I,onBlur:y,onChange:v,onClick:S,disabled:n,value:h,id:A,type:"radio",name:m,checked:P})]})}const d9=R.jsx(e9,{fontSize:"inherit"}),h9=R.jsx(t9,{fontSize:"inherit"});function f9(t){return`${t} Star${t!==1?"s":""}`}const p9=F.forwardRef(function(e,n){const r=xx({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=h9,emptyLabelText:u="Empty",getLabelText:l=f9,highlightSelectedOnly:d=!1,icon:h=d9,IconContainerComponent:f=c9,max:m=5,name:y,onChange:v,onChangeActive:S,onMouseLeave:I,onMouseMove:_,precision:w=1,readOnly:x=!1,size:k="medium",value:D}=r,T=hi(r,i9),E=Ix(y),[P,A]=kz({controlled:D,default:s,name:"Rating"}),O=Cv(P,w),N=Bz(),[{hover:C,focus:De},Re]=F.useState({hover:-1,focus:-1});let Yt=O;C!==-1&&(Yt=C),De!==-1&&(Yt=De);const{isFocusVisibleRef:pt,onBlur:Q,onFocus:ne,ref:oe}=Uz(),[ge,be]=F.useState(!1),We=F.useRef(),Ir=Oz(oe,We,n),Er=Ve=>{_&&_(Ve);const bt=We.current,{right:Fn,left:Aa,width:mi}=bt.getBoundingClientRect();let $r;N?$r=(Fn-Ve.clientX)/mi:$r=(Ve.clientX-Aa)/mi;let ir=Cv(m*$r+w/2,w);ir=wx(ir,w,m),Re(gi=>gi.hover===ir&&gi.focus===ir?gi:{hover:ir,focus:ir}),be(!1),S&&C!==ir&&S(Ve,ir)},Tr=Ve=>{I&&I(Ve);const bt=-1;Re({hover:bt,focus:bt}),S&&C!==bt&&S(Ve,bt)},nr=Ve=>{let bt=Ve.target.value===""?null:parseFloat(Ve.target.value);C!==-1&&(bt=C),A(bt),v&&v(Ve,bt)},Ay=Ve=>{Ve.clientX===0&&Ve.clientY===0||(Re({hover:-1,focus:-1}),A(null),v&&parseFloat(Ve.target.value)===O&&v(Ve,null))},Ry=Ve=>{ne(Ve),pt.current===!0&&be(!0);const bt=parseFloat(Ve.target.value);Re(Fn=>({hover:Fn.hover,focus:bt}))},Sa=Ve=>{if(C!==-1)return;Q(Ve),pt.current===!1&&be(!1);const bt=-1;Re(Fn=>({hover:Fn.hover,focus:bt}))},[ba,Pa]=F.useState(!1),pi=ce({},r,{defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:u,emptyValueFocused:ba,focusVisible:ge,getLabelText:l,icon:h,IconContainerComponent:f,max:m,precision:w,readOnly:x,size:k}),rr=o9(pi);return R.jsxs(a9,ce({ref:Ir,onMouseMove:Er,onMouseLeave:Tr,className:Lc(rr.root,i,x&&"MuiRating-readOnly"),ownerState:pi,role:x?"img":null,"aria-label":x?l(Yt):null},T,{children:[Array.from(new Array(m)).map((Ve,bt)=>{const Fn=bt+1,Aa={classes:rr,disabled:o,emptyIcon:a,focus:De,getLabelText:l,highlightSelectedOnly:d,hover:C,icon:h,IconContainerComponent:f,name:E,onBlur:Sa,onChange:nr,onClick:Ay,onFocus:Ry,ratingValue:Yt,ratingValueRounded:O,readOnly:x,ownerState:pi},mi=Fn===Math.ceil(Yt)&&(C!==-1||De!==-1);if(w<1){const $r=Array.from(new Array(1/w));return R.jsx(l9,{className:Lc(rr.decimal,mi&&rr.iconActive),ownerState:pi,iconActive:mi,children:$r.map((ir,gi)=>{const lo=Cv(Fn-1+(gi+1)*w,w);return R.jsx(z1,ce({},Aa,{isActive:!1,itemValue:lo,labelProps:{style:$r.length-1===gi?{}:{width:lo===Yt?`${(gi+1)*w*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),lo)})},Fn)}return R.jsx(z1,ce({},Aa,{isActive:mi,itemValue:Fn}),Fn)}),!x&&!o&&R.jsxs(Mx,{className:Lc(rr.label,rr.labelEmptyValue),ownerState:pi,children:[R.jsx("input",{className:rr.visuallyHidden,value:"",id:`${E}-empty`,type:"radio",name:E,checked:O==null,onFocus:()=>Pa(!0),onBlur:()=>Pa(!1),onChange:nr}),R.jsx("span",{className:rr.visuallyHidden,children:u})]})]}))});var Vx={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(T0,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function u(l,d){this._input=l,this._value=d}return e=function(l){var d,h,f,m;if(e.isNumeral(l))d=l.value();else if(l===0||typeof l>"u")d=0;else if(l===null||n.isNaN(l))d=null;else if(typeof l=="string")if(a.zeroFormat&&l===a.zeroFormat)d=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)d=null;else{for(h in i)if(m=typeof i[h].regexps.unformat=="function"?i[h].regexps.unformat():i[h].regexps.unformat,m&&l.match(m)){f=i[h].unformat;break}f=f||e._.stringToNumber,d=f(l)}else d=Number(l)||null;return new u(l,d)},e.version=r,e.isNumeral=function(l){return l instanceof u},e._=n={numberToFormat:function(l,d,h){var f=s[e.options.currentLocale],m=!1,y=!1,v=0,S="",I=1e12,_=1e9,w=1e6,x=1e3,k="",D=!1,T,E,P,A,O,N,C;if(l=l||0,E=Math.abs(l),e._.includes(d,"(")?(m=!0,d=d.replace(/[\(|\)]/g,"")):(e._.includes(d,"+")||e._.includes(d,"-"))&&(O=e._.includes(d,"+")?d.indexOf("+"):l<0?d.indexOf("-"):-1,d=d.replace(/[\+|\-]/g,"")),e._.includes(d,"a")&&(T=d.match(/a(k|m|b|t)?/),T=T?T[1]:!1,e._.includes(d," a")&&(S=" "),d=d.replace(new RegExp(S+"a[kmbt]?"),""),E>=I&&!T||T==="t"?(S+=f.abbreviations.trillion,l=l/I):E<I&&E>=_&&!T||T==="b"?(S+=f.abbreviations.billion,l=l/_):E<_&&E>=w&&!T||T==="m"?(S+=f.abbreviations.million,l=l/w):(E<w&&E>=x&&!T||T==="k")&&(S+=f.abbreviations.thousand,l=l/x)),e._.includes(d,"[.]")&&(y=!0,d=d.replace("[.]",".")),P=l.toString().split(".")[0],A=d.split(".")[1],N=d.indexOf(","),v=(d.split(".")[0].split(",")[0].match(/0/g)||[]).length,A?(e._.includes(A,"[")?(A=A.replace("]",""),A=A.split("["),k=e._.toFixed(l,A[0].length+A[1].length,h,A[1].length)):k=e._.toFixed(l,A.length,h),P=k.split(".")[0],e._.includes(k,".")?k=f.delimiters.decimal+k.split(".")[1]:k="",y&&Number(k.slice(1))===0&&(k="")):P=e._.toFixed(l,0,h),S&&!T&&Number(P)>=1e3&&S!==f.abbreviations.trillion)switch(P=String(Number(P)/1e3),S){case f.abbreviations.thousand:S=f.abbreviations.million;break;case f.abbreviations.million:S=f.abbreviations.billion;break;case f.abbreviations.billion:S=f.abbreviations.trillion;break}if(e._.includes(P,"-")&&(P=P.slice(1),D=!0),P.length<v)for(var De=v-P.length;De>0;De--)P="0"+P;return N>-1&&(P=P.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),d.indexOf(".")===0&&(P=""),C=P+k+(S||""),m?C=(m&&D?"(":"")+C+(m&&D?")":""):O>=0?C=O===0?(D?"-":"+")+C:C+(D?"-":"+"):D&&(C="-"+C),C},stringToNumber:function(l){var d=s[a.currentLocale],h=l,f={thousand:3,million:6,billion:9,trillion:12},m,y,v;if(a.zeroFormat&&l===a.zeroFormat)y=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)y=null;else{y=1,d.delimiters.decimal!=="."&&(l=l.replace(/\./g,"").replace(d.delimiters.decimal,"."));for(m in f)if(v=new RegExp("[^a-zA-Z]"+d.abbreviations[m]+"(?:\\)|(\\"+d.currency.symbol+")?(?:\\))?)?$"),h.match(v)){y*=Math.pow(10,f[m]);break}y*=(l.split("-").length+Math.min(l.split("(").length-1,l.split(")").length-1))%2?1:-1,l=l.replace(/[^0-9\.]+/g,""),y*=Number(l)}return y},isNaN:function(l){return typeof l=="number"&&isNaN(l)},includes:function(l,d){return l.indexOf(d)!==-1},insert:function(l,d,h){return l.slice(0,h)+d+l.slice(h)},reduce:function(l,d){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof d!="function")throw new TypeError(d+" is not a function");var h=Object(l),f=h.length>>>0,m=0,y;if(arguments.length===3)y=arguments[2];else{for(;m<f&&!(m in h);)m++;if(m>=f)throw new TypeError("Reduce of empty array with no initial value");y=h[m++]}for(;m<f;m++)m in h&&(y=d(y,h[m],m,h));return y},multiplier:function(l){var d=l.toString().split(".");return d.length<2?1:Math.pow(10,d[1].length)},correctionFactor:function(){var l=Array.prototype.slice.call(arguments);return l.reduce(function(d,h){var f=n.multiplier(h);return d>f?d:f},1)},toFixed:function(l,d,h,f){var m=l.toString().split("."),y=d-(f||0),v,S,I,_;return m.length===2?v=Math.min(Math.max(m[1].length,y),d):v=y,I=Math.pow(10,v),_=(h(l+"e+"+v)/I).toFixed(v),f>d-v&&(S=new RegExp("\\.?0{1,"+(f-(d-v))+"}$"),_=_.replace(S,"")),_}},e.options=a,e.formats=i,e.locales=s,e.locale=function(l){return l&&(a.currentLocale=l.toLowerCase()),a.currentLocale},e.localeData=function(l){if(!l)return s[a.currentLocale];if(l=l.toLowerCase(),!s[l])throw new Error("Unknown locale : "+l);return s[l]},e.reset=function(){for(var l in o)a[l]=o[l]},e.zeroFormat=function(l){a.zeroFormat=typeof l=="string"?l:null},e.nullFormat=function(l){a.nullFormat=typeof l=="string"?l:null},e.defaultFormat=function(l){a.defaultFormat=typeof l=="string"?l:"0.0"},e.register=function(l,d,h){if(d=d.toLowerCase(),this[l+"s"][d])throw new TypeError(d+" "+l+" already registered.");return this[l+"s"][d]=h,h},e.validate=function(l,d){var h,f,m,y,v,S,I,_;if(typeof l!="string"&&(l+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",l)),l=l.trim(),l.match(/^\d+$/))return!0;if(l==="")return!1;try{I=e.localeData(d)}catch{I=e.localeData(e.locale())}return m=I.currency.symbol,v=I.abbreviations,h=I.delimiters.decimal,I.delimiters.thousands==="."?f="\\.":f=I.delimiters.thousands,_=l.match(/^[^\d]+/),_!==null&&(l=l.substr(1),_[0]!==m)||(_=l.match(/[^\d]+$/),_!==null&&(l=l.slice(0,-1),_[0]!==v.thousand&&_[0]!==v.million&&_[0]!==v.billion&&_[0]!==v.trillion))?!1:(S=new RegExp(f+"{2}"),l.match(/[^\d.,]/g)?!1:(y=l.split(h),y.length>2?!1:y.length<2?!!y[0].match(/^\d+.*\d$/)&&!y[0].match(S):y[0].length===1?!!y[0].match(/^\d+$/)&&!y[0].match(S)&&!!y[1].match(/^\d+$/):!!y[0].match(/^\d+.*\d$/)&&!y[0].match(S)&&!!y[1].match(/^\d+$/)))},e.fn=u.prototype={clone:function(){return e(this)},format:function(l,d){var h=this._value,f=l||a.defaultFormat,m,y,v;if(d=d||Math.round,h===0&&a.zeroFormat!==null)y=a.zeroFormat;else if(h===null&&a.nullFormat!==null)y=a.nullFormat;else{for(m in i)if(f.match(i[m].regexps.format)){v=i[m].format;break}v=v||e._.numberToFormat,y=v(h,f,d)}return y},value:function(){return this._value},input:function(){return this._input},set:function(l){return this._value=Number(l),this},add:function(l){var d=n.correctionFactor.call(null,this._value,l);function h(f,m,y,v){return f+Math.round(d*m)}return this._value=n.reduce([this._value,l],h,0)/d,this},subtract:function(l){var d=n.correctionFactor.call(null,this._value,l);function h(f,m,y,v){return f-Math.round(d*m)}return this._value=n.reduce([l],h,Math.round(this._value*d))/d,this},multiply:function(l){function d(h,f,m,y){var v=n.correctionFactor(h,f);return Math.round(h*v)*Math.round(f*v)/Math.round(v*v)}return this._value=n.reduce([this._value,l],d,1),this},divide:function(l){function d(h,f,m,y){var v=n.correctionFactor(h,f);return Math.round(h*v)/Math.round(f*v)}return this._value=n.reduce([this._value,l],d),this},difference:function(l){return Math.abs(e(this._value).subtract(l).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(l){var d=l%10;return~~(l%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(l,d,h){var f=e._.includes(d," BPS")?" ":"",m;return l=l*1e4,d=d.replace(/\s?BPS/,""),m=e._.numberToFormat(l,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"BPS"),m=m.join("")):m=m+f+"BPS",m},unformat:function(l){return+(e._.stringToNumber(l)*1e-4).toFixed(15)}})}(),function(){var l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},d={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=l.suffixes.concat(d.suffixes.filter(function(m){return l.suffixes.indexOf(m)<0})),f=h.join("|");f="("+f.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(m,y,v){var S,I=e._.includes(y,"ib")?d:l,_=e._.includes(y," b")||e._.includes(y," ib")?" ":"",w,x,k;for(y=y.replace(/\s?i?b/,""),w=0;w<=I.suffixes.length;w++)if(x=Math.pow(I.base,w),k=Math.pow(I.base,w+1),m===null||m===0||m>=x&&m<k){_+=I.suffixes[w],x>0&&(m=m/x);break}return S=e._.numberToFormat(m,y,v),S+_},unformat:function(m){var y=e._.stringToNumber(m),v,S;if(y){for(v=l.suffixes.length-1;v>=0;v--){if(e._.includes(m,l.suffixes[v])){S=Math.pow(l.base,v);break}if(e._.includes(m,d.suffixes[v])){S=Math.pow(d.base,v);break}}y*=S||1}return y}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(l,d,h){var f=e.locales[e.options.currentLocale],m={before:d.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:d.match(/([\+|\-|\)|\s|\$]*)$/)[0]},y,v,S;for(d=d.replace(/\s?\$\s?/,""),y=e._.numberToFormat(l,d,h),l>=0?(m.before=m.before.replace(/[\-\(]/,""),m.after=m.after.replace(/[\-\)]/,"")):l<0&&!e._.includes(m.before,"-")&&!e._.includes(m.before,"(")&&(m.before="-"+m.before),S=0;S<m.before.length;S++)switch(v=m.before[S],v){case"$":y=e._.insert(y,f.currency.symbol,S);break;case" ":y=e._.insert(y," ",S+f.currency.symbol.length-1);break}for(S=m.after.length-1;S>=0;S--)switch(v=m.after[S],v){case"$":y=S===m.after.length-1?y+f.currency.symbol:e._.insert(y,f.currency.symbol,-(m.after.length-(1+S)));break;case" ":y=S===m.after.length-1?y+" ":e._.insert(y," ",-(m.after.length-(1+S)+f.currency.symbol.length-1));break}return y}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(l,d,h){var f,m=typeof l=="number"&&!e._.isNaN(l)?l.toExponential():"0e+0",y=m.split("e");return d=d.replace(/e[\+|\-]{1}0/,""),f=e._.numberToFormat(Number(y[0]),d,h),f+"e"+y[1]},unformat:function(l){var d=e._.includes(l,"e+")?l.split("e+"):l.split("e-"),h=Number(d[0]),f=Number(d[1]);f=e._.includes(l,"e-")?f*=-1:f;function m(y,v,S,I){var _=e._.correctionFactor(y,v),w=y*_*(v*_)/(_*_);return w}return e._.reduce([h,Math.pow(10,f)],m,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(l,d,h){var f=e.locales[e.options.currentLocale],m,y=e._.includes(d," o")?" ":"";return d=d.replace(/\s?o/,""),y+=f.ordinal(l),m=e._.numberToFormat(l,d,h),m+y}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(l,d,h){var f=e._.includes(d," %")?" ":"",m;return e.options.scalePercentBy100&&(l=l*100),d=d.replace(/\s?\%/,""),m=e._.numberToFormat(l,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"%"),m=m.join("")):m=m+f+"%",m},unformat:function(l){var d=e._.stringToNumber(l);return e.options.scalePercentBy100?d*.01:d}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(l,d,h){var f=Math.floor(l/60/60),m=Math.floor((l-f*60*60)/60),y=Math.round(l-f*60*60-m*60);return f+":"+(m<10?"0"+m:m)+":"+(y<10?"0"+y:y)},unformat:function(l){var d=l.split(":"),h=0;return d.length===3?(h=h+Number(d[0])*60*60,h=h+Number(d[1])*60,h=h+Number(d[2])):d.length===2&&(h=h+Number(d[0])*60,h=h+Number(d[1])),Number(h)}})}(),e})})(Vx);var m9=Vx.exports;const g9=S0(m9),GI=({amount:t})=>{const e=g9(t).format("$0,0.00");return R.jsx("div",{children:e})},y9="_card__container_1gepy_1",v9="_button_1gepy_19",_9="_rating_1gepy_79",w9="_products_container_1gepy_91",I9="_product__flexed_1gepy_115",fc={card__container:y9,button:v9,rating:_9,products_container:w9,product__flexed:I9},cr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},E9={basket:[],user:null},T9=(t,e)=>{switch(e.type){case cr.ADD_TO_BASKET:if(t.basket.find(s=>s.id===e.item.id)){const s=t.basket.map(o=>o.id===e.item.id?{...o,amount:o.amount+1}:o);return{...t,basket:s}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case cr.REMOVE_FROM_BASKET:const r=t.basket.findIndex(s=>s.id===e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case cr.EMPTY_BASKET:return{...t,basket:[]};case cr.SET_USER:return{...t,user:e.user};default:return t}},Gi=F.createContext(),S9=({children:t,reducer:e,initialState:n})=>R.jsx(Gi.Provider,{value:F.useReducer(e,n),children:t});function cl({product:t,flex:e,renderDesc:n,renderAdd:r}){const{image:i,title:s,id:o,rating:a,price:u,description:l}=t,[d,h]=F.useContext(Gi),f=()=>{h({type:cr.ADD_TO_BASKET,item:{image:i,title:s,id:o,rating:a,price:u,description:l}})};return R.jsxs("div",{className:`${fc.card__container} ${e?fc.product__flexed:""}`,children:[R.jsx(Oo,{to:`/products/${o}`,children:R.jsx("img",{src:i,alt:""})}),R.jsxs("div",{children:[R.jsx("h3",{children:s}),n&&R.jsx("div",{style:{maxWidth:"750px"},children:l}),R.jsxs("div",{className:fc.rating,children:[R.jsx(p9,{value:a==null?void 0:a.rate,precision:.1}),R.jsx("small",{children:a==null?void 0:a.count})]}),R.jsx("div",{children:R.jsx(GI,{amount:u})}),r&&R.jsx("button",{className:fc.button,onClick:f,children:"add to cart"})]})]})}var b9={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function P9(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return b9[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function cu(t){var e=P9(t);return"".concat(e.value).concat(e.unit)}var Fx=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},Jp=function(){return Jp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jp.apply(this,arguments)},A9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},R9=Fx("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function yw(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,u=a===void 0?{}:a,l=t.size,d=l===void 0?35:l,h=A9(t,["loading","color","speedMultiplier","cssOverride","size"]),f=Jp({background:"transparent !important",width:cu(d),height:cu(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(R9," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},u);return n?F.createElement("span",Jp({style:f},h)):null}var Yp=function(){return Yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yp.apply(this,arguments)},C9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},k9=Fx("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function O9(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,u=a===void 0?{}:a,l=t.height,d=l===void 0?35:l,h=t.width,f=h===void 0?4:h,m=t.radius,y=m===void 0?2:m,v=t.margin,S=v===void 0?2:v,I=C9(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),_=Yp({display:"inherit"},u),w=function(x){return{backgroundColor:i,width:cu(f),height:cu(d),margin:cu(S),borderRadius:cu(y),display:"inline-block",animation:"".concat(k9," ").concat(1/o,"s ").concat(x*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?F.createElement("span",Yp({style:_},I),F.createElement("span",{style:w(1)}),F.createElement("span",{style:w(2)}),F.createElement("span",{style:w(3)}),F.createElement("span",{style:w(4)}),F.createElement("span",{style:w(5)})):null}function QI(){return R.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:R.jsx(O9,{color:"#36d7b7"})})}function x9(){const[t,e]=F.useState(),[n,r]=F.useState(!1);return F.useEffect(()=>{r(!0),it.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),R.jsx(R.Fragment,{children:n?R.jsx(QI,{}):R.jsx("div",{className:fc.products_container,children:t==null?void 0:t.map(i=>R.jsx(cl,{product:i,renderAdd:!0},i.id))})})}const N9="_fixed_16s95_11",D9="_header_container_16s95_23",L9="_header_image_16s95_47",M9="_header_delivery_add_16s95_57",V9="_bold_text_16s95_71",F9="_header_search_16s95_79",U9="_user_info_16s95_149",$9="_user_cart_16s95_185",j9="_user_language_16s95_223",B9="_user_account_16s95_225",z9="_user_order_16s95_227",$n={fixed:N9,header_container:D9,header_image:L9,header_delivery_add:M9,bold_text:V9,header_search:F9,user_info:U9,user_cart:$9,user_language:j9,user_account:B9,user_order:z9},Ux="/amazon-clone/assets/amazon_logo-Ctl_Wk8Z.png";var $x={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},q1=ve.createContext&&ve.createContext($x),q9=["attr","size","title"];function W9(t,e){if(t==null)return{};var n=H9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){K9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K9(t,e,n){return e=G9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G9(t){var e=Q9(t,"string");return typeof e=="symbol"?e:e+""}function Q9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jx(t){return t&&t.map((e,n)=>ve.createElement(e.tag,Zp({key:n},e.attr),jx(e.child)))}function dl(t){return e=>ve.createElement(J9,Xp({attr:Zp({},t.attr)},e),jx(t.child))}function J9(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=W9(t,q9),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),ve.createElement("svg",Xp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Zp(Zp({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ve.createElement("title",null,s),t.children)};return q1!==void 0?ve.createElement(q1.Consumer,null,n=>e(n)):e($x)}function Y9(t){return dl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(t)}function X9(t){return dl({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(t)}function Z9(t){return dl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}const eq="_LHeader_container_8hs80_11",tq="_left_container_8hs80_37",nq="_middle_container_8hs80_51",rq="_right_container_8hs80_105",gf={LHeader_container:eq,left_container:tq,middle_container:nq,right_container:rq};function iq(t){return dl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function sq(){return R.jsx(R.Fragment,{children:R.jsxs("div",{className:gf.LHeader_container,children:[R.jsxs("div",{className:gf.left_container,children:[R.jsx(iq,{}),R.jsx("p",{children:"All"})]}),R.jsx("div",{className:gf.middle_container,children:R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx("select",{children:R.jsx("option",{value:"All",children:"Medical Care"})})}),R.jsx("li",{children:R.jsx("select",{children:R.jsx("option",{value:"All",children:"Groceries"})})}),R.jsx("li",{children:"Best Sellers"}),R.jsx("li",{children:"Amazon Basics"}),R.jsx("li",{children:"New Releases"}),R.jsx("li",{children:R.jsx("select",{children:R.jsx("option",{value:"All",children:"Prime"})})}),R.jsx("li",{children:"Music"}),R.jsx("li",{children:"Customer Service"}),R.jsx("li",{children:"Today's Deals"}),R.jsx("li",{children:"Amazon Home"}),R.jsx("li",{children:"Registry"}),R.jsx("li",{children:"Books"})]})}),R.jsx("div",{className:`${gf.right_container}`,children:R.jsx("p",{children:"Celebrate National Small Business Month"})})]})})}var H1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;u||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new aq;const f=s<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),h!==64){const y=l<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uq=function(t){const e=Bx(t);return zx.encodeByteArray(e,!0)},em=function(t){return uq(t).replace(/\./g,"")},Mg=function(t){try{return zx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lq(n)||(t[n]=tm(t[n],e[n]));return t}function lq(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=()=>cq().__FIREBASE_DEFAULTS__,hq=()=>{if(typeof process>"u"||typeof H1>"u")return;const t=H1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mg(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return dq()||hq()||fq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pq=t=>{var e,n;return(n=(e=Vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qx=()=>{var t;return(t=Vg())===null||t===void 0?void 0:t.config},JI=t=>{var e;return(e=Vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[em(JSON.stringify(n)),em(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function XI(){var t;const e=(t=Vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wx(){return typeof self=="object"&&self.self===self}function sh(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fg(){const t=ie();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hx(){return!XI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Du(){try{return typeof indexedDB=="object"}catch{return!1}}function Kx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function yq(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq="FirebaseError";class tt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vq,Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}}class Tn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_q(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tt(i,a,r)}}function _q(t,e){return t.replace(wq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wq=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(G1(s)&&G1(o)){if(!Go(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Or(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ug(t,e){const n=new Iq(t,e);return n.subscribe.bind(n)}class Iq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Eq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kv),i.error===void 0&&(i.error=kv),i.complete===void 0&&(i.complete=kv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=1e3,Sq=2,bq=4*60*60*1e3,Pq=.5;function Q1(t,e=Tq,n=Sq){const r=e*Math.pow(n,t),i=Math.round(Pq*r*(Math.random()-.5)*2);return Math.min(bq,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t){return t&&t._delegate?t._delegate:t}class Ut{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cq(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rq(t){return t===wo?void 0:t}function Cq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Aq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=[];var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const Jx={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},kq=de.INFO,Oq={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},xq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Oq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pa{constructor(e){this.name=e,this._logLevel=kq,this._logHandler=xq,this._userLogHandler=null,ZI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}function Nq(t){ZI.forEach(e=>{e.setLogLevel(t)})}function Dq(t,e){for(const n of ZI){let r=null;e&&e.level&&(r=Jx[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:de[s].toLowerCase(),message:a,args:o,type:i.name})}}}const Lq=(t,e)=>e.some(n=>t instanceof n);let J1,Y1;function Mq(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vq(){return Y1||(Y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yx=new WeakMap,vw=new WeakMap,Xx=new WeakMap,Ov=new WeakMap,eE=new WeakMap;function Fq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ms(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yx.set(n,t)}).catch(()=>{}),eE.set(e,t),e}function Uq(t){if(vw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vw.set(t,e)}let _w={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $q(t){_w=t(_w)}function jq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xv(this),e,...n);return Xx.set(r,e.sort?e.sort():[e]),Ms(r)}:Vq().includes(t)?function(...e){return t.apply(xv(this),e),Ms(Yx.get(this))}:function(...e){return Ms(t.apply(xv(this),e))}}function Bq(t){return typeof t=="function"?jq(t):(t instanceof IDBTransaction&&Uq(t),Lq(t,Mq())?new Proxy(t,_w):t)}function Ms(t){if(t instanceof IDBRequest)return Fq(t);if(Ov.has(t))return Ov.get(t);const e=Bq(t);return e!==t&&(Ov.set(t,e),eE.set(e,t)),e}const xv=t=>eE.get(t);function Zx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ms(o.result),u.oldVersion,u.newVersion,Ms(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const zq=["get","getKey","getAll","getAllKeys","count"],qq=["put","add","delete","clear"],Nv=new Map;function X1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zq.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Nv.set(e,s),s}$q(t=>({...t,get:(e,n,r)=>X1(e,n)||t.get(e,n,r),has:(e,n)=>!!X1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Hq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",ww="0.10.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new pa("@firebase/app"),Kq="@firebase/app-compat",Gq="@firebase/analytics-compat",Qq="@firebase/analytics",Jq="@firebase/app-check-compat",Yq="@firebase/app-check",Xq="@firebase/auth",Zq="@firebase/auth-compat",eW="@firebase/database",tW="@firebase/database-compat",nW="@firebase/functions",rW="@firebase/functions-compat",iW="@firebase/installations",sW="@firebase/installations-compat",oW="@firebase/messaging",aW="@firebase/messaging-compat",uW="@firebase/performance",lW="@firebase/performance-compat",cW="@firebase/remote-config",dW="@firebase/remote-config-compat",hW="@firebase/storage",fW="@firebase/storage-compat",pW="@firebase/firestore",mW="@firebase/vertexai-preview",gW="@firebase/firestore-compat",yW="firebase",vW="10.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]",_W={[nm]:"fire-core",[Kq]:"fire-core-compat",[Qq]:"fire-analytics",[Gq]:"fire-analytics-compat",[Yq]:"fire-app-check",[Jq]:"fire-app-check-compat",[Xq]:"fire-auth",[Zq]:"fire-auth-compat",[eW]:"fire-rtdb",[tW]:"fire-rtdb-compat",[nW]:"fire-fn",[rW]:"fire-fn-compat",[iW]:"fire-iid",[sW]:"fire-iid-compat",[oW]:"fire-fcm",[aW]:"fire-fcm-compat",[uW]:"fire-perf",[lW]:"fire-perf-compat",[cW]:"fire-rc",[dW]:"fire-rc-compat",[hW]:"fire-gcs",[fW]:"fire-gcs-compat",[pW]:"fire-fst",[gW]:"fire-fst-compat",[mW]:"fire-vertex","fire-js":"fire-js",[yW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Map,Lu=new Map,Mu=new Map;function _d(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eN(t,e){t.container.addOrOverwriteComponent(e)}function ln(t){const e=t.name;if(Mu.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;Mu.set(e,t);for(const n of js.values())_d(n,t);for(const n of Lu.values())_d(n,t);return!0}function to(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wW(t,e,n=$s){to(t,e).clearInstance(n)}function tN(t){return t.options!==void 0}function pe(t){return t.settings!==void 0}function IW(){Mu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Tn("app","Firebase",EW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nN=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW extends nN{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Rt(nm,ww,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){rE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw pr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=vW;function tE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$s,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=qx()),!n)throw pr.create("no-options");const s=js.get(i);if(s){if(Go(n,s.options)&&Go(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}const o=new Qx(i);for(const u of Mu.values())o.addComponent(u);const a=new nN(n,r,o);return js.set(i,a),a}function SW(t,e){if(Wx())throw pr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;tN(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=l=>[...l].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw pr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=Lu.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new Qx(s);for(const l of Mu.values())a.addComponent(l);const u=new TW(n,e,s,a);return Lu.set(s,u),u}function nE(t=$s){const e=js.get(t);if(!e&&t===$s&&qx())return tE();if(!e)throw pr.create("no-app",{appName:t});return e}function bW(){return Array.from(js.values())}async function rE(t){let e=!1;const n=t.name;js.has(n)?(e=!0,js.delete(n)):Lu.has(n)&&t.decRefCount()<=0&&(Lu.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Rt(t,e,n){var r;let i=(r=_W[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}ln(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function rN(t,e){if(t!==null&&typeof t!="function")throw pr.create("invalid-log-argument");Dq(t,e)}function iN(t){Nq(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW="firebase-heartbeat-database",AW=1,wd="firebase-heartbeat-store";let Dv=null;function sN(){return Dv||(Dv=Zx(PW,AW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Dv}async function RW(t){try{const n=(await sN()).transaction(wd),r=await n.objectStore(wd).get(oN(t));return await n.done,r}catch(e){if(e instanceof tt)Qo.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}async function Z1(t,e){try{const r=(await sN()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,oN(t)),await r.done}catch(n){if(n instanceof tt)Qo.warn(n.message);else{const r=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(r.message)}}}function oN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=1024,kW=30*24*60*60*1e3;class OW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eP();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eP(),{heartbeatsToSend:r,unsentEntries:i}=xW(this._heartbeatsCache.heartbeats),s=em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function eP(){return new Date().toISOString().substring(0,10)}function xW(t,e=CW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Du()?Kx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tP(t){return em(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t){ln(new Ut("platform-logger",e=>new Wq(e),"PRIVATE")),ln(new Ut("heartbeat",e=>new OW(e),"PRIVATE")),Rt(nm,ww,t),Rt(nm,ww,"esm2017"),Rt("fire-js","")}DW("");const LW=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:tt,SDK_VERSION:cn,_DEFAULT_ENTRY_NAME:$s,_addComponent:_d,_addOrOverwriteComponent:eN,_apps:js,_clearComponents:IW,_components:Mu,_getProvider:to,_isFirebaseApp:tN,_isFirebaseServerApp:pe,_registerComponent:ln,_removeServiceInstance:wW,_serverApps:Lu,deleteApp:rE,getApp:nE,getApps:bW,initializeApp:tE,initializeServerApp:SW,onLog:rN,registerVersion:Rt,setLogLevel:iN},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n){this._delegate=e,this.firebase=n,_d(e,new Ut("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),rE(this._delegate)))}_getService(e,n=$s){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=$s){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){_d(this._delegate,e)}_addOrOverwriteComponent(e){eN(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},nP=new Tn("app-compat","Firebase",VW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Rt,setLogLevel:iN,onLog:rN,apps:null,SDK_VERSION:cn,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:LW}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||$s,!K1(e,l))throw nP.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,d={}){const h=tE(l,d);if(K1(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const d=l.name,h=d.replace("-compat","");if(ln(l)&&l.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw nP.create("invalid-app-argument",{appName:d});return m[h]()};l.serviceProps!==void 0&&tm(f,l.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,l.multipleInstances?m:[])}}return l.type==="PUBLIC"?n[h]:null}function u(l,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){const t=FW(MW);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:aN,extendNamespace:e,createSubscribe:Ug,ErrorFactory:Tn,deepExtend:tm});function e(n){tm(t,n)}return t}const UW=aN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new pa("@firebase/app-compat"),$W="@firebase/app-compat",jW="0.2.34";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t){Rt($W,jW,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Wx()&&self.firebase!==void 0){rP.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&rP.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const hl=UW;BW();var zW="firebase",qW="10.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hl.registerVersion(zW,qW,"app-compat");const uN="@firebase/installations",iE="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1e4,cN=`w:${iE}`,dN="FIS_v2",WW="https://firebaseinstallations.googleapis.com/v1",HW=60*60*1e3,KW="installations",GW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jo=new Tn(KW,GW,QW);function hN(t){return t instanceof tt&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN({projectId:t}){return`${WW}/projects/${t}/installations`}function pN(t){return{token:t.token,requestStatus:2,expiresIn:YW(t.expiresIn),creationTime:Date.now()}}async function mN(t,e){const r=(await e.json()).error;return Jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function JW(t,{refreshToken:e}){const n=gN(t);return n.append("Authorization",XW(e)),n}async function yN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function YW(t){return Number(t.replace("s","000"))}function XW(t){return`${dN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=fN(t),i=gN(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:dN,appId:t.appId,sdkVersion:cN},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await yN(()=>fetch(r,a));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:pN(l.authToken)}}else throw await mN("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=/^[cdef][\w-]{21}$/,Iw="";function nH(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=rH(t);return tH.test(n)?n:Iw}catch{return Iw}}function rH(t){return eH(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Map;function wN(t,e){const n=$g(t);IN(n,e),iH(n,e)}function IN(t,e){const n=_N.get(t);if(n)for(const r of n)r(e)}function iH(t,e){const n=sH();n&&n.postMessage({key:t,fid:e}),oH()}let xo=null;function sH(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=t=>{IN(t.data.key,t.data.fid)}),xo}function oH(){_N.size===0&&xo&&(xo.close(),xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="firebase-installations-database",uH=1,Yo="firebase-installations-store";let Lv=null;function sE(){return Lv||(Lv=Zx(aH,uH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yo)}}})),Lv}async function rm(t,e){const n=$g(t),i=(await sE()).transaction(Yo,"readwrite"),s=i.objectStore(Yo),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&wN(t,e.fid),e}async function EN(t){const e=$g(t),r=(await sE()).transaction(Yo,"readwrite");await r.objectStore(Yo).delete(e),await r.done}async function jg(t,e){const n=$g(t),i=(await sE()).transaction(Yo,"readwrite"),s=i.objectStore(Yo),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&wN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oE(t){let e;const n=await jg(t.appConfig,r=>{const i=lH(r),s=cH(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Iw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lH(t){const e=t||{fid:nH(),registrationStatus:0};return TN(e)}function cH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Jo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=dH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hH(t)}:{installationEntry:e}}async function dH(t,e){try{const n=await ZW(t,e);return rm(t.appConfig,n)}catch(n){throw hN(n)&&n.customData.serverCode===409?await EN(t.appConfig):await rm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function hH(t){let e=await iP(t.appConfig);for(;e.registrationStatus===1;)await vN(100),e=await iP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await oE(t);return r||n}return e}function iP(t){return jg(t,e=>{if(!e)throw Jo.create("installation-not-found");return TN(e)})}function TN(t){return fH(t)?{fid:t.fid,registrationStatus:0}:t}function fH(t){return t.registrationStatus===1&&t.registrationTime+lN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH({appConfig:t,heartbeatServiceProvider:e},n){const r=mH(t,n),i=JW(t,n),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:cN,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await yN(()=>fetch(r,a));if(u.ok){const l=await u.json();return pN(l)}else throw await mN("Generate Auth Token",u)}function mH(t,{fid:e}){return`${fN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(t,e=!1){let n;const r=await jg(t.appConfig,s=>{if(!SN(s))throw Jo.create("not-registered");const o=s.authToken;if(!e&&vH(o))return s;if(o.requestStatus===1)return n=gH(t,e),s;{if(!navigator.onLine)throw Jo.create("app-offline");const a=wH(s);return n=yH(t,a),a}});return n?await n:r.authToken}async function gH(t,e){let n=await sP(t.appConfig);for(;n.authToken.requestStatus===1;)await vN(100),n=await sP(t.appConfig);const r=n.authToken;return r.requestStatus===0?aE(t,e):r}function sP(t){return jg(t,e=>{if(!SN(e))throw Jo.create("not-registered");const n=e.authToken;return IH(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function yH(t,e){try{const n=await pH(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await rm(t.appConfig,r),n}catch(n){if(hN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await rm(t.appConfig,r)}throw n}}function SN(t){return t!==void 0&&t.registrationStatus===2}function vH(t){return t.requestStatus===2&&!_H(t)}function _H(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+HW}function wH(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function IH(t){return t.requestStatus===1&&t.requestTime+lN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(t){const e=t,{installationEntry:n,registrationPromise:r}=await oE(e);return r?r.catch(console.error):aE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TH(t,e=!1){const n=t;return await SH(n),(await aE(n,e)).token}async function SH(t){const{registrationPromise:e}=await oE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(t){if(!t||!t.options)throw Mv("App Configuration");if(!t.name)throw Mv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Mv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Mv(t){return Jo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="installations",PH="installations-internal",AH=t=>{const e=t.getProvider("app").getImmediate(),n=bH(e),r=to(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},RH=t=>{const e=t.getProvider("app").getImmediate(),n=to(e,bN).getImmediate();return{getId:()=>EH(n),getToken:i=>TH(n,i)}};function CH(){ln(new Ut(bN,AH,"PUBLIC")),ln(new Ut(PH,RH,"PRIVATE"))}CH();Rt(uN,iE);Rt(uN,iE,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="analytics",kH="firebase_id",OH="origin",xH=60*1e3,NH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new pa("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new Tn("analytics","Analytics",DH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t){if(!t.startsWith(uE)){const e=Jn.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function PN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function MH(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function VH(t,e){const n=MH("firebase-js-sdk-policy",{createScriptURL:LH}),r=document.createElement("script"),i=`${uE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function FH(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function UH(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await PN(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(a){Ln.error(a)}t("config",i,s)}async function $H(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await PN(n);for(const u of o){const l=a.find(h=>h.measurementId===u),d=l&&e[l.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ln.error(s)}}function jH(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await $H(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await UH(t,e,n,r,a,u)}else if(s==="consent"){const[a,u]=o;t("consent",a,u)}else if(s==="get"){const[a,u,l]=o;t("get",a,u,l)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ln.error(a)}}return i}function BH(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=jH(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function zH(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(uE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=30,WH=1e3;class HH{constructor(e={},n=WH){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AN=new HH;function KH(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function GH(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:KH(r)},s=NH.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function QH(t,e=AN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new XH;return setTimeout(async()=>{a.abort()},xH),RN({appId:r,apiKey:i,measurementId:s},o,a,e)}async function RN(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=AN){var s;const{appId:o,measurementId:a}=t;try{await JH(r,e)}catch(u){if(a)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await GH(t);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!YH(l)){if(i.deleteThrottleMetadata(o),a)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw u}const d=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?Q1(n,i.intervalMillis,qH):Q1(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),Ln.debug(`Calling attemptFetch again in ${d} millis`),RN(t,h,r,i)}}function JH(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YH(t){if(!(t instanceof tt)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class XH{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ZH(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(){if(Du())try{await Kx()}catch(t){return Ln.warn(Jn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ln.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t8(t,e,n,r,i,s,o){var a;const u=QH(t);u.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Ln.error(m)),e.push(u);const l=e8().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([u,l]);zH(s)||VH(s,d.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[OH]="firebase",f.update=!0,h!=null&&(f[kH]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.app=e}_delete(){return delete Mc[this.app.options.appId],Promise.resolve()}}let Mc={},oP=[];const aP={};let Vv="dataLayer",r8="gtag",uP,CN,lP=!1;function i8(){const t=[];if(sh()&&t.push("This is a browser extension environment."),yq()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jn.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function s8(t,e,n){i8();const r=t.options.appId;if(!r)throw Jn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(Mc[r]!=null)throw Jn.create("already-exists",{id:r});if(!lP){FH(Vv);const{wrappedGtag:s,gtagCore:o}=BH(Mc,oP,aP,Vv,r8);CN=s,uP=o,lP=!0}return Mc[r]=t8(t,oP,aP,e,uP,Vv,n),new n8(t)}function o8(t=nE()){t=Z(t);const e=to(t,im);return e.isInitialized()?e.getImmediate():a8(t)}function a8(t,e={}){const n=to(t,im);if(n.isInitialized()){const i=n.getImmediate();if(Go(e,n.getOptions()))return i;throw Jn.create("already-initialized")}return n.initialize({options:e})}function u8(t,e,n,r){t=Z(t),ZH(CN,Mc[t.app.options.appId],e,n,r).catch(i=>Ln.error(i))}const cP="@firebase/analytics",dP="0.10.4";function l8(){ln(new Ut(im,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return s8(r,i,n)},"PUBLIC")),ln(new Ut("analytics-internal",t,"PRIVATE")),Rt(cP,dP),Rt(cP,dP,"esm2017");function t(e){try{const n=e.getProvider(im).getImmediate();return{logEvent:(r,i,s)=>u8(n,r,i,s)}}catch(n){throw Jn.create("interop-component-reg-failed",{reason:n})}}}l8();var Ew=function(t,e){return Ew=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ew(t,e)};function Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ew(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Be=function(){return Be=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Be.apply(this,arguments)};function Qi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function q(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(h){o(h)}}function u(d){try{l(r.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function W(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return u([l,d])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(d){l=[6,d],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function mr(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function kN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c8=kN,ON=new Tn("auth","Firebase",kN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new pa("@firebase/auth");function d8(t,...e){sm.logLevel<=de.WARN&&sm.warn(`Auth (${cn}): ${t}`,...e)}function Kf(t,...e){sm.logLevel<=de.ERROR&&sm.error(`Auth (${cn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw lE(t,...e)}function oi(t,...e){return lE(t,...e)}function xN(t,e,n){const r=Object.assign(Object.assign({},c8()),{[e]:n});return new Tn("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return xN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ON.create(t,...e)}function se(t,e,...n){if(!t)throw lE(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function ji(t,e){t||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h8(){return hP()==="http:"||hP()==="https:"}function hP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h8()||sh()||"connection"in navigator)?navigator.onLine:!0}function p8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=YI()||oh()}get(){return f8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NN=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new ah(3e4,6e4);function no(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ro(t,e,n,r,i={}){return DN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vn(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),NN.fetch()(LN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function DN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m8),e);try{const i=new v8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw yf(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw yf(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xN(t,d,l);Mr(t,d)}}catch(i){if(i instanceof tt)throw i;Mr(t,"network-request-failed",{message:String(i)})}}async function uh(t,e,n,r,i={}){const s=await ro(t,e,n,r,i);return"mfaPendingCredential"in s&&Mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function LN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cE(t.config,i):`${t.config.apiScheme}://${i}`}function y8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let v8=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),g8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function yf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oi(t,e,r);return i.customData._tokenResponse=n,i}function fP(t){return t!==void 0&&t.enterprise!==void 0}let _8=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function w8(t,e){return ro(t,"GET","/v2/recaptchaConfig",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,e){return ro(t,"POST","/v1/accounts:delete",e)}async function MN(t,e){return ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E8(t,e=!1){const n=Z(t),r=await n.getIdToken(e),i=dE(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vc(Fv(i.auth_time)),issuedAtTime:Vc(Fv(i.iat)),expirationTime:Vc(Fv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fv(t){return Number(t)*1e3}function dE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mg(n);return i?JSON.parse(i):(Kf("Failed to decode base64 JWT payload"),null)}catch(i){return Kf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pP(t){const e=dE(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tt&&T8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S8=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Id(t,MN(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VN(s.providerUserInfo):[],a=P8(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sw(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function b8(t){const e=Z(t);await om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VN(t){return t.map(e=>{var{providerId:n}=e,r=Qi(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e){const n=await DN(t,{},async()=>{const r=Vn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=LN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R8(t,e){return ro(t,"POST","/v2/accounts:revokeToken",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uv=class bw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=pP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await A8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bw;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bw,this.toJSON())}_performRefresh(){return bi("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let am=class pc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Id(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E8(this,e)}reload(){return b8(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await om(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pe(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await Id(this,I8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:x,isAnonymous:k,providerData:D,stsTokenManager:T}=n;se(w&&T,e,"internal-error");const E=Uv.fromJSON(this.name,T);se(typeof w=="string",e,"internal-error"),as(h,e.name),as(f,e.name),se(typeof x=="boolean",e,"internal-error"),se(typeof k=="boolean",e,"internal-error"),as(m,e.name),as(y,e.name),as(v,e.name),as(S,e.name),as(I,e.name),as(_,e.name);const P=new pc({uid:w,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:E,createdAt:I,lastLoginAt:_});return D&&Array.isArray(D)&&(P.providerData=D.map(A=>Object.assign({},A))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Uv;i.updateFromServerResponse(n);const s=new pc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await om(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?VN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Uv;a.updateFromIdToken(r);const u=new pc({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,l),u}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Map;function Pi(t){ji(t instanceof Function,"Expected a class definition");let e=mP.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FN=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};FN.type="NONE";const gP=FN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e,n){return`firebase:${t}:${e}:${n}`}let yP=class Qf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?am._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qf(Pi(gP),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Pi(gP);const o=Gf(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const d=await l._get(o);if(d){const h=am._fromJSON(e,d);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Qf(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Qf(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zN(e))return"Blackberry";if(qN(e))return"Webos";if(hE(e))return"Safari";if((e.includes("chrome/")||$N(e))&&!e.includes("edge/"))return"Chrome";if(BN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UN(t=ie()){return/firefox\//i.test(t)}function hE(t=ie()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $N(t=ie()){return/crios\//i.test(t)}function jN(t=ie()){return/iemobile/i.test(t)}function BN(t=ie()){return/android/i.test(t)}function zN(t=ie()){return/blackberry/i.test(t)}function qN(t=ie()){return/webos/i.test(t)}function Bg(t=ie()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C8(t=ie()){var e;return Bg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k8(){return Fg()&&document.documentMode===10}function WN(t=ie()){return Bg(t)||BN(t)||qN(t)||zN(t)||/windows phone/i.test(t)||jN(t)}function O8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e=[]){let n;switch(t){case"Browser":n=vP(ie());break;case"Worker":n=`${vP(ie())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x8=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e={}){return ro(t,"GET","/v2/passwordPolicy",no(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=6;let L8=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:D8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M8=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _P(this),this.idTokenSubscription=new _P(this),this.beforeStateQueue=new x8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ON,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yP.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await MN(this,{idToken:e}),r=await am._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await om(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pe(this.app))return Promise.reject(xi(this));const n=e?Z(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pe(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pe(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N8(this),n=new L8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await yP.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&d8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ma(t){return Z(t)}let _P=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ug(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V8(t){zg=t}function KN(t){return zg.loadJS(t)}function F8(){return zg.recaptchaEnterpriseScript}function U8(){return zg.gapiScript}function $8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const j8="recaptcha-enterprise",B8="NO_RECAPTCHA";let z8=class{constructor(e){this.type=j8,this.auth=ma(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{w8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new _8(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;fP(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(B8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&fP(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=F8();u.length!==0&&(u+=a),KN(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}};async function wP(t,e,n,r=!1){const i=new z8(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Pw(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await wP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t,e){const n=to(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Go(s,e??{}))return i;Mr(i,"already-initialized")}return n.initialize({options:e})}function W8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H8(t,e,n){const r=ma(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=GN(e),{host:o,port:a}=K8(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),G8()}function GN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K8(t){const e=GN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:IP(o)}}}function IP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fE=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}};async function Q8(t,e){return ro(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){return uh(t,"POST","/v1/accounts:signInWithPassword",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(t,e){return uh(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}async function X8(t,e){return uh(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EP=class Aw extends fE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Aw(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Aw(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pw(e,n,"signInWithPassword",J8);case"emailLink":return Y8(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pw(e,r,"signUpPassword",Q8);case"emailLink":return X8(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e){return uh(t,"POST","/v1/accounts:signInWithIdp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="http://localhost";let qg=class Rw extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qi(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rw(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _u(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_u(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_u(e,n)}buildRequest(){const e={requestUri:Z8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vn(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tK(t){const e=Or(Xr(t)).link,n=e?Or(Xr(e)).deep_link_id:null,r=Or(Xr(t)).deep_link_id;return(r?Or(Xr(r)).link:null)||r||n||e||t}let nK=class QN{constructor(e){var n,r,i,s,o,a;const u=Or(Xr(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,h=eK((i=u.mode)!==null&&i!==void 0?i:null);se(l&&d&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=tK(e);try{return new QN(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg=class JN{constructor(){this.providerId=JN.PROVIDER_ID}static credential(e,n){return EP._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nK.parseLink(n);return se(r,"argument-error"),EP._fromEmailAndCode(e,r.code,r.tenantId)}};Wg.PROVIDER_ID="password";Wg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YN=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=class extends YN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XN=class za extends lh{constructor(){super("facebook.com")}static credential(e){return qg._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}};XN.FACEBOOK_SIGN_IN_METHOD="facebook.com";XN.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZN=class qa extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qg._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qa.credential(n,r)}catch{return null}}};ZN.GOOGLE_SIGN_IN_METHOD="google.com";ZN.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eD=class Wa extends lh{constructor(){super("github.com")}static credential(e){return qg._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}};eD.GITHUB_SIGN_IN_METHOD="github.com";eD.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tD=class Ha extends lh{constructor(){super("twitter.com")}static credential(e,n){return qg._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ha.credential(n,r)}catch{return null}}};tD.TWITTER_SIGN_IN_METHOD="twitter.com";tD.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(t,e){return uh(t,"POST","/v1/accounts:signUp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg=class Cw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await am._fromIdTokenResponse(e,r,i),o=TP(r);return new Cw({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TP(r);return new Cw({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function TP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iK=class kw extends tt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kw(e,n,r,i)}};function nD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?iK._fromErrorAndOperation(t,s,e,r):s})}async function sK(t,e,n=!1){const r=await Id(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hg._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oK(t,e,n=!1){const{auth:r}=t;if(pe(r.app))return Promise.reject(xi(r));const i="reauthenticate";try{const s=await Id(t,nD(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=dE(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Hg._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e,n=!1){if(pe(t.app))return Promise.reject(xi(t));const r="signIn",i=await nD(t,r,e),s=await Hg._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aK(t,e){return rD(ma(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t){const e=ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uK(t,e,n){if(pe(t.app))return Promise.reject(xi(t));const r=ma(t),o=await Pw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rK).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&iD(t),u}),a=await Hg._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function lK(t,e,n){return pe(t.app)?Promise.reject(xi(t)):aK(Z(t),Wg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iD(t),r})}function cK(t,e,n,r){return Z(t).onIdTokenChanged(e,n,r)}function dK(t,e,n){return Z(t).beforeAuthStateChanged(e,n)}const um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sD=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(){const t=ie();return hE(t)||Bg(t)}const fK=1e3,pK=10;let oD=class extends sD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hK()&&O8(),this.fallbackToPolling=WN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);k8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pK):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};oD.type="LOCAL";const mK=oD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aD=class extends sD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};aD.type="SESSION";const uD=aD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lD=class cD{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cD(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await gK(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};lD.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yK=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=pE("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function vK(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function _K(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IK(){return dD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="firebaseLocalStorageDb",EK=1,lm="firebaseLocalStorage",fD="fbase_key";let ch=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Kg(t,e){return t.transaction([lm],e?"readwrite":"readonly").objectStore(lm)}function TK(){const t=indexedDB.deleteDatabase(hD);return new ch(t).toPromise()}function Ow(){const t=indexedDB.open(hD,EK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lm,{keyPath:fD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lm)?e(r):(r.close(),await TK(),e(await Ow()))})})}async function SP(t,e,n){const r=Kg(t,!0).put({[fD]:e,value:n});return new ch(r).toPromise()}async function SK(t,e){const n=Kg(t,!1).get(e),r=await new ch(n).toPromise();return r===void 0?null:r.value}function bP(t,e){const n=Kg(t,!0).delete(e);return new ch(n).toPromise()}const bK=800,PK=3;let pD=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ow(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lD._getInstance(IK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _K(),!this.activeServiceWorker)return;this.sender=new yK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ow();return await SP(e,um,"1"),await bP(e,um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kg(i,!1).getAll();return new ch(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};pD.type="LOCAL";const AK=pD;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t,e){return e?Pi(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mE=class extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _u(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _u(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _u(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function CK(t){return rD(t.auth,new mE(t),t.bypassAuthState)}function kK(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),oK(n,new mE(t),t.bypassAuthState)}async function OK(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),sK(n,new mE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mD=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CK;case"linkViaPopup":case"linkViaRedirect":return OK;case"reauthViaPopup":case"reauthViaRedirect":return kK;default:Mr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=new ah(2e3,1e4);let NK=class mc extends mD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mc.currentPopupAction&&mc.currentPopupAction.cancel(),mc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=pE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xK.get())};e()}};NK.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK="pendingRedirect",Jf=new Map;let LK=class extends mD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const r=await MK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function MK(t,e){const n=UK(e),r=FK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VK(t,e){Jf.set(t._key(),e)}function FK(t){return Pi(t._redirectPersistence)}function UK(t){return Gf(DK,t.config.apiKey,t.name)}async function $K(t,e,n=!1){if(pe(t.app))return Promise.reject(xi(t));const r=ma(t),i=RK(r,e),o=await new LK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=10*60*1e3;let BK=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jK&&this.cachedEventUids.clear(),this.cachedEventUids.has(PP(e))}saveEventToCache(e){this.cachedEventUids.add(PP(e)),this.lastProcessedEventTime=Date.now()}};function PP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qK(t,e={}){return ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HK=/^https?/;async function KK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qK(t);for(const n of e)try{if(GK(n))return}catch{}Mr(t,"unauthorized-domain")}function GK(t){const e=Tw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HK.test(n))return!1;if(WK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK=new ah(3e4,6e4);function AP(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JK(t){return new Promise((e,n)=>{var r,i,s;function o(){AP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AP(),n(oi(t,"network-request-failed"))},timeout:QK.get()})}if(!((i=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ai().gapi)===null||s===void 0)&&s.load)o();else{const a=$8("iframefcb");return ai()[a]=()=>{gapi.load?o():n(oi(t,"network-request-failed"))},KN(`${U8()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function YK(t){return Yf=Yf||JK(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=new ah(5e3,15e3),ZK="__/auth/iframe",eG="emulator/auth/iframe",tG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rG(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cE(e,eG):`https://${t.config.authDomain}/${ZK}`,r={apiKey:e.apiKey,appName:t.name,v:cn},i=nG.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vn(r).slice(1)}`}async function iG(t){const e=await YK(t),n=ai().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:rG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=oi(t,"network-request-failed"),a=ai().setTimeout(()=>{s(o)},XK.get());function u(){ai().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oG=500,aG=600,uG="_blank",lG="http://localhost";let RP=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cG(t,e,n,r=oG,i=aG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},sG),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ie().toLowerCase();n&&(a=$N(l)?uG:n),UN(l)&&(e=e||lG,u.scrollbars="yes");const d=Object.entries(u).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(C8(l)&&a!=="_self")return dG(e||"",a),new RP(null);const h=window.open(e||"",a,d);se(h,t,"popup-blocked");try{h.focus()}catch{}return new RP(h)}function dG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG="__/auth/handler",fG="emulator/auth/handler",pG=encodeURIComponent("fac");async function CP(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cn,eventId:i};if(e instanceof YN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof lh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),l=u?`#${pG}=${encodeURIComponent(u)}`:"";return`${mG(t)}?${Vn(a).slice(1)}${l}`}function mG({config:t}){return t.emulator?cE(t,fG):`https://${t.authDomain}/${hG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="webStorageSupport";let gG=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uD,this._completeRedirectFn=$K,this._overrideRedirectResult=VK}async _openPopup(e,n,r,i){var s;ji((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await CP(e,n,r,Tw(),i);return cG(e,o,pE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await CP(e,n,r,Tw(),i);return vK(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ji(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iG(e),r=new BK(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($v,{type:$v},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$v];o!==void 0&&n(!!o),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WN()||hE()||Bg()}};const yG=gG;var kP="@firebase/auth",OP="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vG=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wG(t){ln(new Ut("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HN(t)},l=new M8(r,i,s,u);return W8(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ln(new Ut("auth-internal",e=>{const n=ma(e.getProvider("auth").getImmediate());return(r=>new vG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(kP,OP,_G(t)),Rt(kP,OP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=5*60,EG=JI("authIdTokenMaxAge")||IG;let xP=null;const TG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EG)return;const i=n==null?void 0:n.token;xP!==i&&(xP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SG(t=nE()){const e=to(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q8(t,{popupRedirectResolver:yG,persistence:[AK,mK,uD]}),r=JI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=TG(s.toString());dK(n,o,()=>o(n.currentUser)),cK(n,a=>o(a))}}const i=pq("auth");return i&&H8(n,`http://${i}`),n}function bG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=oi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wG("Browser");var NP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uo,yD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function P(){}P.prototype=E.prototype,T.D=E.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(A,O,N){for(var C=Array(arguments.length-2),De=2;De<arguments.length;De++)C[De-2]=arguments[De];return E.prototype[O].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,P){P||(P=0);var A=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)A[O]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(O=0;16>O;++O)A[O]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=T.g[0],P=T.g[1],O=T.g[2];var N=T.g[3],C=E+(N^P&(O^N))+A[0]+3614090360&4294967295;E=P+(C<<7&4294967295|C>>>25),C=N+(O^E&(P^O))+A[1]+3905402710&4294967295,N=E+(C<<12&4294967295|C>>>20),C=O+(P^N&(E^P))+A[2]+606105819&4294967295,O=N+(C<<17&4294967295|C>>>15),C=P+(E^O&(N^E))+A[3]+3250441966&4294967295,P=O+(C<<22&4294967295|C>>>10),C=E+(N^P&(O^N))+A[4]+4118548399&4294967295,E=P+(C<<7&4294967295|C>>>25),C=N+(O^E&(P^O))+A[5]+1200080426&4294967295,N=E+(C<<12&4294967295|C>>>20),C=O+(P^N&(E^P))+A[6]+2821735955&4294967295,O=N+(C<<17&4294967295|C>>>15),C=P+(E^O&(N^E))+A[7]+4249261313&4294967295,P=O+(C<<22&4294967295|C>>>10),C=E+(N^P&(O^N))+A[8]+1770035416&4294967295,E=P+(C<<7&4294967295|C>>>25),C=N+(O^E&(P^O))+A[9]+2336552879&4294967295,N=E+(C<<12&4294967295|C>>>20),C=O+(P^N&(E^P))+A[10]+4294925233&4294967295,O=N+(C<<17&4294967295|C>>>15),C=P+(E^O&(N^E))+A[11]+2304563134&4294967295,P=O+(C<<22&4294967295|C>>>10),C=E+(N^P&(O^N))+A[12]+1804603682&4294967295,E=P+(C<<7&4294967295|C>>>25),C=N+(O^E&(P^O))+A[13]+4254626195&4294967295,N=E+(C<<12&4294967295|C>>>20),C=O+(P^N&(E^P))+A[14]+2792965006&4294967295,O=N+(C<<17&4294967295|C>>>15),C=P+(E^O&(N^E))+A[15]+1236535329&4294967295,P=O+(C<<22&4294967295|C>>>10),C=E+(O^N&(P^O))+A[1]+4129170786&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^O&(E^P))+A[6]+3225465664&4294967295,N=E+(C<<9&4294967295|C>>>23),C=O+(E^P&(N^E))+A[11]+643717713&4294967295,O=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(O^N))+A[0]+3921069994&4294967295,P=O+(C<<20&4294967295|C>>>12),C=E+(O^N&(P^O))+A[5]+3593408605&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^O&(E^P))+A[10]+38016083&4294967295,N=E+(C<<9&4294967295|C>>>23),C=O+(E^P&(N^E))+A[15]+3634488961&4294967295,O=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(O^N))+A[4]+3889429448&4294967295,P=O+(C<<20&4294967295|C>>>12),C=E+(O^N&(P^O))+A[9]+568446438&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^O&(E^P))+A[14]+3275163606&4294967295,N=E+(C<<9&4294967295|C>>>23),C=O+(E^P&(N^E))+A[3]+4107603335&4294967295,O=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(O^N))+A[8]+1163531501&4294967295,P=O+(C<<20&4294967295|C>>>12),C=E+(O^N&(P^O))+A[13]+2850285829&4294967295,E=P+(C<<5&4294967295|C>>>27),C=N+(P^O&(E^P))+A[2]+4243563512&4294967295,N=E+(C<<9&4294967295|C>>>23),C=O+(E^P&(N^E))+A[7]+1735328473&4294967295,O=N+(C<<14&4294967295|C>>>18),C=P+(N^E&(O^N))+A[12]+2368359562&4294967295,P=O+(C<<20&4294967295|C>>>12),C=E+(P^O^N)+A[5]+4294588738&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^O)+A[8]+2272392833&4294967295,N=E+(C<<11&4294967295|C>>>21),C=O+(N^E^P)+A[11]+1839030562&4294967295,O=N+(C<<16&4294967295|C>>>16),C=P+(O^N^E)+A[14]+4259657740&4294967295,P=O+(C<<23&4294967295|C>>>9),C=E+(P^O^N)+A[1]+2763975236&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^O)+A[4]+1272893353&4294967295,N=E+(C<<11&4294967295|C>>>21),C=O+(N^E^P)+A[7]+4139469664&4294967295,O=N+(C<<16&4294967295|C>>>16),C=P+(O^N^E)+A[10]+3200236656&4294967295,P=O+(C<<23&4294967295|C>>>9),C=E+(P^O^N)+A[13]+681279174&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^O)+A[0]+3936430074&4294967295,N=E+(C<<11&4294967295|C>>>21),C=O+(N^E^P)+A[3]+3572445317&4294967295,O=N+(C<<16&4294967295|C>>>16),C=P+(O^N^E)+A[6]+76029189&4294967295,P=O+(C<<23&4294967295|C>>>9),C=E+(P^O^N)+A[9]+3654602809&4294967295,E=P+(C<<4&4294967295|C>>>28),C=N+(E^P^O)+A[12]+3873151461&4294967295,N=E+(C<<11&4294967295|C>>>21),C=O+(N^E^P)+A[15]+530742520&4294967295,O=N+(C<<16&4294967295|C>>>16),C=P+(O^N^E)+A[2]+3299628645&4294967295,P=O+(C<<23&4294967295|C>>>9),C=E+(O^(P|~N))+A[0]+4096336452&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~O))+A[7]+1126891415&4294967295,N=E+(C<<10&4294967295|C>>>22),C=O+(E^(N|~P))+A[14]+2878612391&4294967295,O=N+(C<<15&4294967295|C>>>17),C=P+(N^(O|~E))+A[5]+4237533241&4294967295,P=O+(C<<21&4294967295|C>>>11),C=E+(O^(P|~N))+A[12]+1700485571&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~O))+A[3]+2399980690&4294967295,N=E+(C<<10&4294967295|C>>>22),C=O+(E^(N|~P))+A[10]+4293915773&4294967295,O=N+(C<<15&4294967295|C>>>17),C=P+(N^(O|~E))+A[1]+2240044497&4294967295,P=O+(C<<21&4294967295|C>>>11),C=E+(O^(P|~N))+A[8]+1873313359&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~O))+A[15]+4264355552&4294967295,N=E+(C<<10&4294967295|C>>>22),C=O+(E^(N|~P))+A[6]+2734768916&4294967295,O=N+(C<<15&4294967295|C>>>17),C=P+(N^(O|~E))+A[13]+1309151649&4294967295,P=O+(C<<21&4294967295|C>>>11),C=E+(O^(P|~N))+A[4]+4149444226&4294967295,E=P+(C<<6&4294967295|C>>>26),C=N+(P^(E|~O))+A[11]+3174756917&4294967295,N=E+(C<<10&4294967295|C>>>22),C=O+(E^(N|~P))+A[2]+718787259&4294967295,O=N+(C<<15&4294967295|C>>>17),C=P+(N^(O|~E))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var P=E-this.blockSize,A=this.B,O=this.h,N=0;N<E;){if(O==0)for(;N<=P;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<E;)if(A[O++]=T.charCodeAt(N++),O==this.blockSize){i(this,A),O=0;break}}else for(;N<E;)if(A[O++]=T[N++],O==this.blockSize){i(this,A),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var P=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=P&255,P/=256;for(this.u(T),T=Array(16),E=P=0;4>E;++E)for(var A=0;32>A;A+=8)T[P++]=this.g[E]>>>A&255;return T};function s(T,E){var P=a;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=E(T)}function o(T,E){this.h=E;for(var P=[],A=!0,O=T.length-1;0<=O;O--){var N=T[O]|0;A&&N==E||(P[O]=N,A=!1)}this.g=P}var a={};function u(T){return-128<=T&&128>T?s(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return S(l(-T));for(var E=[],P=1,A=0;T>=P;A++)E[A]=T/P|0,P*=4294967296;return new o(E,0)}function d(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return S(d(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=l(Math.pow(E,8)),A=h,O=0;O<T.length;O+=8){var N=Math.min(8,T.length-O),C=parseInt(T.substring(O,O+N),E);8>N?(N=l(Math.pow(E,N)),A=A.j(N).add(l(C))):(A=A.j(P),A=A.add(l(C)))}return A}var h=u(0),f=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(v(this))return-S(this).m();for(var T=0,E=1,P=0;P<this.g.length;P++){var A=this.i(P);T+=(0<=A?A:4294967296+A)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(v(this))return"-"+S(this).toString(T);for(var E=l(Math.pow(T,6)),P=this,A="";;){var O=x(P,E).g;P=I(P,O.j(E));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=O,y(P))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=I(this,T),v(T)?-1:y(T)?0:1};function S(T){for(var E=T.g.length,P=[],A=0;A<E;A++)P[A]=~T.g[A];return new o(P,~T.h).add(f)}t.abs=function(){return v(this)?S(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],A=0,O=0;O<=E;O++){var N=A+(this.i(O)&65535)+(T.i(O)&65535),C=(N>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);A=C>>>16,N&=65535,C&=65535,P[O]=C<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function I(T,E){return T.add(S(E))}t.j=function(T){if(y(this)||y(T))return h;if(v(this))return v(T)?S(this).j(S(T)):S(S(this).j(T));if(v(T))return S(this.j(S(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var E=this.g.length+T.g.length,P=[],A=0;A<2*E;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var O=0;O<T.g.length;O++){var N=this.i(A)>>>16,C=this.i(A)&65535,De=T.i(O)>>>16,Re=T.i(O)&65535;P[2*A+2*O]+=C*Re,_(P,2*A+2*O),P[2*A+2*O+1]+=N*Re,_(P,2*A+2*O+1),P[2*A+2*O+1]+=C*De,_(P,2*A+2*O+1),P[2*A+2*O+2]+=N*De,_(P,2*A+2*O+2)}for(A=0;A<E;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=E;A<2*E;A++)P[A]=0;return new o(P,0)};function _(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function w(T,E){this.g=T,this.h=E}function x(T,E){if(y(E))throw Error("division by zero");if(y(T))return new w(h,h);if(v(T))return E=x(S(T),E),new w(S(E.g),S(E.h));if(v(E))return E=x(T,S(E)),new w(S(E.g),E.h);if(30<T.g.length){if(v(T)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var P=f,A=E;0>=A.l(T);)P=k(P),A=k(A);var O=D(P,1),N=D(A,1);for(A=D(A,2),P=D(P,2);!y(A);){var C=N.add(A);0>=C.l(T)&&(O=O.add(P),N=C),A=D(A,1),P=D(P,1)}return E=I(T,O.j(E)),new w(O,E)}for(O=h;0<=T.l(E);){for(P=Math.max(1,Math.floor(T.m()/E.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=l(P),C=N.j(E);v(C)||0<C.l(T);)P-=A,N=l(P),C=N.j(E);y(N)&&(N=f),O=O.add(N),T=I(T,C)}return new w(O,T)}t.A=function(T){return x(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],A=0;A<E;A++)P[A]=this.i(A)&T.i(A);return new o(P,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],A=0;A<E;A++)P[A]=this.i(A)|T.i(A);return new o(P,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],A=0;A<E;A++)P[A]=this.i(A)^T.i(A);return new o(P,this.h^T.h)};function k(T){for(var E=T.g.length+1,P=[],A=0;A<E;A++)P[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(P,T.h)}function D(T,E){var P=E>>5;E%=32;for(var A=T.g.length-P,O=[],N=0;N<A;N++)O[N]=0<E?T.i(N+P)>>>E|T.i(N+P+1)<<32-E:T.i(N+P);return new o(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,Uo=o}).apply(typeof NP<"u"?NP:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vD,_D,gc,wD,Xf,xw,ID,ED,TD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in g))break e;g=g[L]}c=c[c.length-1],b=g[c],p=p(b),p!=b&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,b=!1,L={next:function(){if(!b&&g<c.length){var U=g++;return{value:p(U,c[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function l(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function h(c,p,g){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function f(c,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function y(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(b,L,U){for(var K=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)K[Me-2]=arguments[Me];return p.prototype[L].apply(b,K)}}function v(c){const p=c.length;if(0<p){const g=Array(p);for(let b=0;b<p;b++)g[b]=c[b];return g}return[]}function S(c,p){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(u(b)){const L=c.length||0,U=b.length||0;c.length=L+U;for(let K=0;K<U;K++)c[L+K]=b[K]}else c.push(b)}}class I{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function x(c){return x[" "](c),c}x[" "]=function(){};var k=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function D(c,p,g){for(const b in c)p.call(g,c[b],b,c)}function T(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function E(c){const p={};for(const g in c)p[g]=c[g];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,p){let g,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(g in b)c[g]=b[g];for(let U=0;U<P.length;U++)g=P[U],Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g])}}function O(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function N(c){a.setTimeout(()=>{throw c},0)}function C(){var c=ne;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class De{constructor(){this.h=this.g=null}add(p,g){const b=Re.get();b.set(p,g),this.h?this.h.next=b:this.g=b,this.h=b}}var Re=new I(()=>new Yt,c=>c.reset());class Yt{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,Q=!1,ne=new De,oe=()=>{const c=a.Promise.resolve(void 0);pt=()=>{c.then(ge)}};var ge=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(g){N(g)}var p=Re;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}Q=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var Ir=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function Er(c,p){if(We.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(k){e:{try{x(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Er.aa.h.call(this)}}y(Er,We);var Tr={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nr="closure_listenable_"+(1e6*Math.random()|0),Ay=0;function Ry(c,p,g,b,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!b,this.ha=L,this.key=++Ay,this.da=this.fa=!1}function Sa(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ba(c){this.src=c,this.g={},this.h=0}ba.prototype.add=function(c,p,g,b,L){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var K=pi(c,p,b,L);return-1<K?(p=c[K],g||(p.fa=!1)):(p=new Ry(p,this.src,U,!!b,L),p.fa=g,c.push(p)),p};function Pa(c,p){var g=p.type;if(g in c.g){var b=c.g[g],L=Array.prototype.indexOf.call(b,p,void 0),U;(U=0<=L)&&Array.prototype.splice.call(b,L,1),U&&(Sa(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function pi(c,p,g,b){for(var L=0;L<c.length;++L){var U=c[L];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==b)return L}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),Ve={};function bt(c,p,g,b,L){if(Array.isArray(p)){for(var U=0;U<p.length;U++)bt(c,p[U],g,b,L);return null}return g=zT(g),c&&c[nr]?c.K(p,g,l(b)?!!b.capture:!!b,L):Fn(c,p,g,!1,b,L)}function Fn(c,p,g,b,L,U){if(!p)throw Error("Invalid event type");var K=l(L)?!!L.capture:!!L,Me=lo(c);if(Me||(c[rr]=Me=new ba(c)),g=Me.add(p,g,b,K,U),g.proxy)return g;if(b=Aa(),g.proxy=b,b.src=c,b.listener=g,c.addEventListener)Ir||(L=K),L===void 0&&(L=!1),c.addEventListener(p.toString(),b,L);else if(c.attachEvent)c.attachEvent(ir(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Aa(){function c(g){return p.call(c.src,c.listener,g)}const p=gi;return c}function mi(c,p,g,b,L){if(Array.isArray(p))for(var U=0;U<p.length;U++)mi(c,p[U],g,b,L);else b=l(b)?!!b.capture:!!b,g=zT(g),c&&c[nr]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],g=pi(U,g,b,L),-1<g&&(Sa(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=lo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=pi(p,g,b,L)),(g=-1<c?p[c]:null)&&$r(g))}function $r(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[nr])Pa(p.i,c);else{var g=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(g,b,c.capture):p.detachEvent?p.detachEvent(ir(g),b):p.addListener&&p.removeListener&&p.removeListener(b),(g=lo(p))?(Pa(g,c),g.h==0&&(g.src=null,p[rr]=null)):Sa(c)}}}function ir(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function gi(c,p){if(c.da)c=!0;else{p=new Er(p,this);var g=c.listener,b=c.ha||c.src;c.fa&&$r(c),c=g.call(b,p)}return c}function lo(c){return c=c[rr],c instanceof ba?c:null}var Cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function zT(c){return typeof c=="function"?c:(c[Cy]||(c[Cy]=function(p){return c.handleEvent(p)}),c[Cy])}function Xt(){be.call(this),this.i=new ba(this),this.M=this,this.F=null}y(Xt,be),Xt.prototype[nr]=!0,Xt.prototype.removeEventListener=function(c,p,g,b){mi(this,c,p,g,b)};function dn(c,p){var g,b=c.F;if(b)for(g=[];b;b=b.F)g.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new We(p,c);else if(p instanceof We)p.target=p.target||c;else{var L=p;p=new We(b,c),A(p,L)}if(L=!0,g)for(var U=g.length-1;0<=U;U--){var K=p.g=g[U];L=xh(K,b,!0,p)&&L}if(K=p.g=c,L=xh(K,b,!0,p)&&L,L=xh(K,b,!1,p)&&L,g)for(U=0;U<g.length;U++)K=p.g=g[U],L=xh(K,b,!1,p)&&L}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],b=0;b<g.length;b++)Sa(g[b]);delete c.g[p],c.h--}}this.F=null},Xt.prototype.K=function(c,p,g,b){return this.i.add(String(c),p,!1,g,b)},Xt.prototype.L=function(c,p,g,b){return this.i.add(String(c),p,!0,g,b)};function xh(c,p,g,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,U=0;U<p.length;++U){var K=p[U];if(K&&!K.da&&K.capture==g){var Me=K.listener,zt=K.ha||K.src;K.fa&&Pa(c.i,K),L=Me.call(zt,b)!==!1&&L}}return L&&!b.defaultPrevented}function qT(c,p,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function WT(c){c.g=qT(()=>{c.g=null,c.i&&(c.i=!1,WT(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class TV extends be{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:WT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pl(c){be.call(this),this.h=c,this.g={}}y(Pl,be);var HT=[];function KT(c){D(c.g,function(p,g){this.g.hasOwnProperty(g)&&$r(p)},c),c.g={}}Pl.prototype.N=function(){Pl.aa.N.call(this),KT(this)},Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ky=a.JSON.stringify,SV=a.JSON.parse,bV=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Oy(){}Oy.prototype.h=null;function GT(c){return c.h||(c.h=c.i())}function QT(){}var Al={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xy(){We.call(this,"d")}y(xy,We);function Ny(){We.call(this,"c")}y(Ny,We);var co={},JT=null;function Nh(){return JT=JT||new Xt}co.La="serverreachability";function YT(c){We.call(this,co.La,c)}y(YT,We);function Rl(c){const p=Nh();dn(p,new YT(p))}co.STAT_EVENT="statevent";function XT(c,p){We.call(this,co.STAT_EVENT,c),this.stat=p}y(XT,We);function hn(c){const p=Nh();dn(p,new XT(p,c))}co.Ma="timingevent";function ZT(c,p){We.call(this,co.Ma,c),this.size=p}y(ZT,We);function Cl(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function kl(){this.g=!0}kl.prototype.xa=function(){this.g=!1};function PV(c,p,g,b,L,U){c.info(function(){if(c.g)if(U)for(var K="",Me=U.split("&"),zt=0;zt<Me.length;zt++){var Se=Me[zt].split("=");if(1<Se.length){var Zt=Se[0];Se=Se[1];var en=Zt.split("_");K=2<=en.length&&en[1]=="type"?K+(Zt+"="+Se+"&"):K+(Zt+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+p+`
`+g+`
`+K})}function AV(c,p,g,b,L,U,K){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+p+`
`+g+`
`+U+" "+K})}function Ra(c,p,g,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+CV(c,g)+(b?" "+b:"")})}function RV(c,p){c.info(function(){return"TIMEOUT: "+p})}kl.prototype.info=function(){};function CV(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var b=g[c];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return ky(g)}catch{return p}}var Dh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dy;function Lh(){}y(Lh,Oy),Lh.prototype.g=function(){return new XMLHttpRequest},Lh.prototype.i=function(){return{}},Dy=new Lh;function ts(c,p,g,b){this.j=c,this.i=p,this.l=g,this.R=b||1,this.U=new Pl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tS}function tS(){this.i=null,this.g="",this.h=!1}var nS={},Ly={};function My(c,p,g){c.L=1,c.v=Uh(yi(p)),c.m=g,c.P=!0,rS(c,null)}function rS(c,p){c.F=Date.now(),Mh(c),c.A=yi(c.v);var g=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),yS(g.i,"t",b),c.C=0,g=c.j.J,c.h=new tS,c.g=LS(c.j,g?p:null,!c.m),0<c.O&&(c.M=new TV(f(c.Y,c,c.g),c.O)),p=c.U,g=c.g,b=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(HT[0]=L.toString()),L=HT);for(var U=0;U<L.length;U++){var K=bt(g,L[U],b||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Rl(),PV(c.i,c.u,c.A,c.l,c.R,c.m)}ts.prototype.ca=function(c){c=c.target;const p=this.M;p&&vi(c)==3?p.j():this.Y(c)},ts.prototype.Y=function(c){try{if(c==this.g)e:{const en=vi(this.g);var p=this.g.Ba();const Oa=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||SS(this.g)))){this.J||en!=4||p==7||(p==8||0>=Oa?Rl(3):Rl(2)),Vy(this);var g=this.g.Z();this.X=g;t:if(iS(this)){var b=SS(this.g);c="";var L=b.length,U=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),Ol(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(U&&p==L-1)});b.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,AV(this.i,this.u,this.A,this.l,this.R,en,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,zt=this.g;if((Me=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Me)){var Se=Me;break t}}Se=null}if(g=Se)Ra(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fy(this,g);else{this.o=!1,this.s=3,hn(12),ho(this),Ol(this);break e}}if(this.P){g=!0;let Sr;for(;!this.J&&this.C<K.length;)if(Sr=kV(this,K),Sr==Ly){en==4&&(this.s=4,hn(14),g=!1),Ra(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==nS){this.s=4,hn(15),Ra(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else Ra(this.i,this.l,Sr,null),Fy(this,Sr);if(iS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||K.length!=0||this.h.h||(this.s=1,hn(16),g=!1),this.o=this.o&&g,!g)Ra(this.i,this.l,K,"[Invalid Chunked Response]"),ho(this),Ol(this);else if(0<K.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),qy(Zt),Zt.M=!0,hn(11))}}else Ra(this.i,this.l,K,null),Fy(this,K);en==4&&ho(this),this.o&&!this.J&&(en==4?OS(this.j,this):(this.o=!1,Mh(this)))}else KV(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),ho(this),Ol(this)}}}catch{}finally{}};function iS(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kV(c,p){var g=c.C,b=p.indexOf(`
`,g);return b==-1?Ly:(g=Number(p.substring(g,b)),isNaN(g)?nS:(b+=1,b+g>p.length?Ly:(p=p.slice(b,b+g),c.C=b+g,p)))}ts.prototype.cancel=function(){this.J=!0,ho(this)};function Mh(c){c.S=Date.now()+c.I,sS(c,c.I)}function sS(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cl(f(c.ba,c),p)}function Vy(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ts.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(RV(this.i,this.A),this.L!=2&&(Rl(),hn(17)),ho(this),this.s=2,Ol(this)):sS(this,this.S-c)};function Ol(c){c.j.G==0||c.J||OS(c.j,c)}function ho(c){Vy(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,KT(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Fy(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||Uy(g.h,c))){if(!c.K&&Uy(g.h,c)&&g.G==3){try{var b=g.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)qh(g),Bh(g);else break e;zy(g),hn(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Cl(f(g.Za,g),6e3));if(1>=uS(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else po(g,11)}else if((c.K||g.g==c)&&qh(g),!_(p))for(L=g.Da.g.parse(p),p=0;p<L.length;p++){let Se=L[p];if(g.T=Se[0],Se=Se[1],g.G==2)if(Se[0]=="c"){g.K=Se[1],g.ia=Se[2];const Zt=Se[3];Zt!=null&&(g.la=Zt,g.j.info("VER="+g.la));const en=Se[4];en!=null&&(g.Aa=en,g.j.info("SVER="+g.Aa));const Oa=Se[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(b=1.5*Oa,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Sr=c.g;if(Sr){const Hh=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hh){var U=b.h;U.g||Hh.indexOf("spdy")==-1&&Hh.indexOf("quic")==-1&&Hh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&($y(U,U.h),U.h=null))}if(b.D){const Wy=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wy&&(b.ya=Wy,$e(b.I,b.D,Wy))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var K=c;if(b.qa=DS(b,b.J?b.ia:null,b.W),K.K){lS(b.h,K);var Me=K,zt=b.L;zt&&(Me.I=zt),Me.B&&(Vy(Me),Mh(Me)),b.g=K}else CS(b);0<g.i.length&&zh(g)}else Se[0]!="stop"&&Se[0]!="close"||po(g,7);else g.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?po(g,7):By(g):Se[0]!="noop"&&g.l&&g.l.ta(Se),g.v=0)}}Rl(4)}catch{}}var OV=class{constructor(c,p){this.g=c,this.map=p}};function oS(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aS(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uS(c){return c.h?1:c.g?c.g.size:0}function Uy(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function $y(c,p){c.g?c.g.add(p):c.h=p}function lS(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}oS.prototype.cancel=function(){if(this.i=cS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cS(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return v(c.i)}function xV(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var p=[],g=c.length,b=0;b<g;b++)p.push(c[b]);return p}p=[],g=0;for(b in c)p[g++]=c[b];return p}function NV(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const b in c)p[g++]=b;return p}}}function dS(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=NV(c),b=xV(c),L=b.length,U=0;U<L;U++)p.call(void 0,b[U],g&&g[U],c)}var hS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DV(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var b=c[g].indexOf("="),L=null;if(0<=b){var U=c[g].substring(0,b);L=c[g].substring(b+1)}else U=c[g];p(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fo){this.h=c.h,Vh(this,c.j),this.o=c.o,this.g=c.g,Fh(this,c.s),this.l=c.l;var p=c.i,g=new Dl;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),fS(this,g),this.m=c.m}else c&&(p=String(c).match(hS))?(this.h=!1,Vh(this,p[1]||"",!0),this.o=xl(p[2]||""),this.g=xl(p[3]||"",!0),Fh(this,p[4]),this.l=xl(p[5]||"",!0),fS(this,p[6]||"",!0),this.m=xl(p[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}fo.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Nl(p,pS,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Nl(p,pS,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Nl(g,g.charAt(0)=="/"?VV:MV,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Nl(g,UV)),c.join("")};function yi(c){return new fo(c)}function Vh(c,p,g){c.j=g?xl(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Fh(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function fS(c,p,g){p instanceof Dl?(c.i=p,$V(c.i,c.h)):(g||(p=Nl(p,FV)),c.i=new Dl(p,c.h))}function $e(c,p,g){c.i.set(p,g)}function Uh(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xl(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nl(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,LV),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function LV(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pS=/[#\/\?@]/g,MV=/[#\?:]/g,VV=/[#\?]/g,FV=/[#\?@]/g,UV=/#/g;function Dl(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ns(c){c.g||(c.g=new Map,c.h=0,c.i&&DV(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Dl.prototype,t.add=function(c,p){ns(this),this.i=null,c=Ca(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function mS(c,p){ns(c),p=Ca(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function gS(c,p){return ns(c),p=Ca(c,p),c.g.has(p)}t.forEach=function(c,p){ns(this),this.g.forEach(function(g,b){g.forEach(function(L){c.call(p,L,b,this)},this)},this)},t.na=function(){ns(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let b=0;b<p.length;b++){const L=c[b];for(let U=0;U<L.length;U++)g.push(p[b])}return g},t.V=function(c){ns(this);let p=[];if(typeof c=="string")gS(this,c)&&(p=p.concat(this.g.get(Ca(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return ns(this),this.i=null,c=Ca(this,c),gS(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function yS(c,p,g){mS(c,p),0<g.length&&(c.i=null,c.g.set(Ca(c,p),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var b=p[g];const U=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var L=U;K[b]!==""&&(L+="="+encodeURIComponent(String(K[b]))),c.push(L)}}return this.i=c.join("&")};function Ca(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function $V(c,p){p&&!c.j&&(ns(c),c.i=null,c.g.forEach(function(g,b){var L=b.toLowerCase();b!=L&&(mS(this,b),yS(this,L,g))},c)),c.j=p}function jV(c,p){const g=new kl;if(a.Image){const b=new Image;b.onload=m(rs,g,"TestLoadImage: loaded",!0,p,b),b.onerror=m(rs,g,"TestLoadImage: error",!1,p,b),b.onabort=m(rs,g,"TestLoadImage: abort",!1,p,b),b.ontimeout=m(rs,g,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function BV(c,p){const g=new kl,b=new AbortController,L=setTimeout(()=>{b.abort(),rs(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(U=>{clearTimeout(L),U.ok?rs(g,"TestPingServer: ok",!0,p):rs(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),rs(g,"TestPingServer: error",!1,p)})}function rs(c,p,g,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(g)}catch{}}function zV(){this.g=new bV}function qV(c,p,g){const b=g||"";try{dS(c,function(L,U){let K=L;l(L)&&(K=ky(L)),p.push(b+U+"="+encodeURIComponent(K))})}catch(L){throw p.push(b+"type="+encodeURIComponent("_badmap")),L}}function Ll(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Ll,Oy),Ll.prototype.g=function(){return new $h(this.l,this.j)},Ll.prototype.i=function(c){return function(){return c}}({});function $h(c,p){Xt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y($h,Xt),t=$h.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Vl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vS(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vS(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ml(this):Vl(this),this.readyState==3&&vS(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ml(this))},t.Qa=function(c){this.g&&(this.response=c,Ml(this))},t.ga=function(){this.g&&Ml(this)};function Ml(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Vl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function Vl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _S(c){let p="";return D(c,function(g,b){p+=b,p+=":",p+=g,p+=`\r
`}),p}function jy(c,p,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=_S(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):$e(c,p,g))}function st(c){Xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(st,Xt);var WV=/^https?$/i,HV=["POST","PUT"];t=st.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dy.g(),this.v=this.o?GT(this.o):GT(Dy),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){wS(this,U);return}if(c=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)g.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const U of b.keys())g.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HV,p,void 0))||b||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of g)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{TS(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){wS(this,U)}};function wS(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,IS(c),jh(c)}function IS(c){c.A||(c.A=!0,dn(c,"complete"),dn(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dn(this,"complete"),dn(this,"abort"),jh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jh(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ES(this):this.bb())},t.bb=function(){ES(this)};function ES(c){if(c.h&&typeof o<"u"&&(!c.v[1]||vi(c)!=4||c.Z()!=2)){if(c.u&&vi(c)==4)qT(c.Ea,0,c);else if(dn(c,"readystatechange"),vi(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var b;if(b=K===0){var L=String(c.D).match(hS)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),b=!WV.test(L?L.toLowerCase():"")}g=b}if(g)dn(c,"complete"),dn(c,"success");else{c.m=6;try{var U=2<vi(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",IS(c)}}finally{jh(c)}}}}function jh(c,p){if(c.g){TS(c);const g=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||dn(c,"ready");try{g.onreadystatechange=b}catch{}}}function TS(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function vi(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),SV(p)}};function SS(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function KV(c){const p={};c=(c.g&&2<=vi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(_(c[b]))continue;var g=O(c[b]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[L]||[];p[L]=U,U.push(g)}T(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function bS(c){this.Aa=0,this.i=[],this.j=new kl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fl("baseRetryDelayMs",5e3,c),this.cb=Fl("retryDelaySeedMs",1e4,c),this.Wa=Fl("forwardChannelMaxRetries",2,c),this.wa=Fl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new oS(c&&c.concurrentRequestLimit),this.Da=new zV,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bS.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,b){hn(0),this.W=c,this.H=p||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=DS(this,null,this.W),zh(this)};function By(c){if(PS(c),c.G==3){var p=c.U++,g=yi(c.I);if($e(g,"SID",c.K),$e(g,"RID",p),$e(g,"TYPE","terminate"),Ul(c,g),p=new ts(c,c.j,p),p.L=2,p.v=Uh(yi(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=LS(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Mh(p)}NS(c)}function Bh(c){c.g&&(qy(c),c.g.cancel(),c.g=null)}function PS(c){Bh(c),c.u&&(a.clearTimeout(c.u),c.u=null),qh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zh(c){if(!aS(c.h)&&!c.s){c.s=!0;var p=c.Ga;pt||oe(),Q||(pt(),Q=!0),ne.add(p,c),c.B=0}}function GV(c,p){return uS(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cl(f(c.Ga,c,p),xS(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ts(this,this.j,c);let U=this.o;if(this.S&&(U?(U=E(U),A(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=RS(this,L,p),g=yi(this.I),$e(g,"RID",c),$e(g,"CVER",22),this.D&&$e(g,"X-HTTP-Session-Id",this.D),Ul(this,g),U&&(this.O?p="headers="+encodeURIComponent(String(_S(U)))+"&"+p:this.m&&jy(g,this.m,U)),$y(this.h,L),this.Ua&&$e(g,"TYPE","init"),this.P?($e(g,"$req",p),$e(g,"SID","null"),L.T=!0,My(L,g,null)):My(L,g,p),this.G=2}}else this.G==3&&(c?AS(this,c):this.i.length==0||aS(this.h)||AS(this))};function AS(c,p){var g;p?g=p.l:g=c.U++;const b=yi(c.I);$e(b,"SID",c.K),$e(b,"RID",g),$e(b,"AID",c.T),Ul(c,b),c.m&&c.o&&jy(b,c.m,c.o),g=new ts(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=RS(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$y(c.h,g),My(g,b,p)}function Ul(c,p){c.H&&D(c.H,function(g,b){$e(p,b,g)}),c.l&&dS({},function(g,b){$e(p,b,g)})}function RS(c,p,g){g=Math.min(c.i.length,g);var b=c.l?f(c.l.Na,c.l,c):null;e:{var L=c.i;let U=-1;for(;;){const K=["count="+g];U==-1?0<g?(U=L[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let Me=!0;for(let zt=0;zt<g;zt++){let Se=L[zt].g;const Zt=L[zt].map;if(Se-=U,0>Se)U=Math.max(0,L[zt].g-100),Me=!1;else try{qV(Zt,K,"req"+Se+"_")}catch{b&&b(Zt)}}if(Me){b=K.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,b}function CS(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;pt||oe(),Q||(pt(),Q=!0),ne.add(p,c),c.v=0}}function zy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cl(f(c.Fa,c),xS(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,kS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cl(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Bh(this),kS(this))};function qy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function kS(c){c.g=new ts(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=yi(c.qa);$e(p,"RID","rpc"),$e(p,"SID",c.K),$e(p,"AID",c.T),$e(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(p,"TO",c.ja),$e(p,"TYPE","xmlhttp"),Ul(c,p),c.m&&c.o&&jy(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Uh(yi(p)),g.m=null,g.P=!0,rS(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Bh(this),zy(this),hn(19))};function qh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function OS(c,p){var g=null;if(c.g==p){qh(c),qy(c),c.g=null;var b=2}else if(Uy(c.h,p))g=p.D,lS(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;b=Nh(),dn(b,new ZT(b,g)),zh(c)}else CS(c);else if(L=p.s,L==3||L==0&&0<p.X||!(b==1&&GV(c,p)||b==2&&zy(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),L){case 1:po(c,5);break;case 4:po(c,10);break;case 3:po(c,6);break;default:po(c,2)}}}function xS(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function po(c,p){if(c.j.info("Error code "+p),p==2){var g=f(c.fb,c),b=c.Xa;const L=!b;b=new fo(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vh(b,"https"),Uh(b),L?jV(b.toString(),g):BV(b.toString(),g)}else hn(2);c.G=0,c.l&&c.l.sa(p),NS(c),PS(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function NS(c){if(c.G=0,c.ka=[],c.l){const p=cS(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function DS(c,p,g){var b=g instanceof fo?yi(g):new fo(g);if(b.g!="")p&&(b.g=p+"."+b.g),Fh(b,b.s);else{var L=a.location;b=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var U=new fo(null);b&&Vh(U,b),p&&(U.g=p),L&&Fh(U,L),g&&(U.l=g),b=U}return g=c.D,p=c.ya,g&&p&&$e(b,g,p),$e(b,"VER",c.la),Ul(c,b),b}function LS(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new st(new Ll({eb:g})):new st(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function MS(){}t=MS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wh(){}Wh.prototype.g=function(c,p){return new Un(c,p)};function Un(c,p){Xt.call(this),this.g=new bS(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ka(this)}y(Un,Xt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){By(this.g)},Un.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=ky(c),c=g);p.i.push(new OV(p.Ya++,c)),p.G==3&&zh(p)},Un.prototype.N=function(){this.g.l=null,delete this.j,By(this.g),delete this.g,Un.aa.N.call(this)};function VS(c){xy.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(VS,xy);function FS(){Ny.call(this),this.status=1}y(FS,Ny);function ka(c){this.g=c}y(ka,MS),ka.prototype.ua=function(){dn(this.g,"a")},ka.prototype.ta=function(c){dn(this.g,new VS(c))},ka.prototype.sa=function(c){dn(this.g,new FS)},ka.prototype.ra=function(){dn(this.g,"b")},Wh.prototype.createWebChannel=Wh.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,TD=function(){return new Wh},ED=function(){return Nh()},ID=co,xw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,Xf=Dh,eS.COMPLETE="complete",wD=eS,QT.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,gc=QT,_D=Ll,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,vD=st}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const DP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new pa("@firebase/firestore");function Ka(){return Bs.logLevel}function PG(t){Bs.setLogLevel(t)}function B(t,...e){if(Bs.logLevel<=de.DEBUG){const n=e.map(gE);Bs.debug(`Firestore (${fl}): ${t}`,...n)}}function gt(t,...e){if(Bs.logLevel<=de.ERROR){const n=e.map(gE);Bs.error(`Firestore (${fl}): ${t}`,...n)}}function Vr(t,...e){if(Bs.logLevel<=de.WARN){const n=e.map(gE);Bs.warn(`Firestore (${fl}): ${t}`,...n)}}function gE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function ee(t,e){t||Y()}function AG(t,e){t||Y()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends tt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class CG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kG{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new SD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new Lt(e)}}class OG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee(typeof n.token=="string"),this.R=n.token,new NG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Vu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function PD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new Je(0,0))}static max(){return new te(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ed.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ed?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Ed{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const MG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ed{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return MG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new j(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(_e.fromString(e))}static fromName(e){return new G(_e.fromString(e).popFirst(5))}static empty(){return new G(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new _e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Nw(t){return t.fields.find(e=>e.kind===2)}function Io(t){return t.fields.filter(e=>e.kind!==2)}cm.UNKNOWN_ID=-1;class Zf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Td{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Td(0,Xn.min())}}function AD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Xn(i,G.empty(),e)}function RD(t){return new Xn(t.readTime,t.key,-1)}class Xn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xn(te.min(),G.empty(),-1)}static max(){return new Xn(te.max(),G.empty(),-1)}}function yE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==CD)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Vt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Fc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=vE(r.target.error);this.V.reject(new Fc(e,i))}}static open(e,n,r,i){try{return new Gg(n,e.transaction(i,r))}catch(s){throw new Fc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new FG(n)}}class ui{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ui.S(ie())===12.2&&gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),To(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Du())return!1;if(ui.C())return!0;const e=ie(),n=ui.S(e),r=0<n&&n<10,i=OD(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new j(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new j(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Fc(e,o))},i.onupgradeneeded=s=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Gg.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),M.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(B("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function OD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class VG{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return To(this.B.delete())}}class Fc extends j{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function so(t){return t.name==="IndexedDbTransactionError"}class FG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(B("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),To(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),To(this.store.add(e))}get(e){return To(this.store.get(e)).next(n=>(n===void 0&&(n=null),B("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),To(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),To(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new M((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,u)=>{o.push(u)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){B("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{const o=vE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new VG(a),l=n(a.primaryKey,a.value,u);if(l instanceof M){const d=l.catch(h=>(u.done(),M.reject(h)));r.push(d)}u.isDone?i():u.K===null?a.continue():a.continue(u.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function To(t){return new M((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=vE(r.target.error);n(i)}})}let LP=!1;function vE(t){const e=ui.S(ie());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new j("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LP||(LP=!0,setTimeout(()=>{throw r},0)),r}}return t}class UG{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){B("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{B("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){so(n)?B("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await io(n)}await this.X(6e4)})}}class $G{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return B("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(B("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=RD(s);yE(o,r)>0&&(r=o)}),new Xn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rn.oe=-1;function dh(t){return t==null}function Sd(t){return t===0&&1/t==-1/0}function xD(t){return typeof t=="number"&&Number.isInteger(t)&&!Sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MP(e)),e=jG(t.get(n),e);return MP(e)}function jG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function MP(t){return t+""}function Zr(t){const e=t.length;if(ee(e>=2),e===2)return ee(t.charAt(0)===""&&t.charAt(1)===""),_e.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Y(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Y()}s=o+2}return new _e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e){return[t,vn(e)]}function ND(t,e,n){return[t,vn(e),n]}const BG={},zG=["prefixPath","collectionGroup","readTime","documentId"],qG=["prefixPath","collectionGroup","documentId"],WG=["collectionGroup","readTime","prefixPath","documentId"],HG=["canonicalId","targetId"],KG=["targetId","path"],GG=["path","targetId"],QG=["collectionId","parent"],JG=["indexId","uid"],YG=["uid","sequenceNumber"],XG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZG=["indexId","uid","orderedDocumentKey"],e7=["userId","collectionPath","documentId"],t7=["userId","collectionPath","largestBatchId"],n7=["userId","collectionGroup","largestBatchId"],DD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r7=[...DD,"documentOverlays"],LD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MD=LD,VD=[...MD,"indexConfiguration","indexState","indexEntries"],i7=VD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends kD{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function jt(t,e){const n=J(t);return ui.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UP(this.data.getIterator())}getIteratorFrom(e){return new UP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class UP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Le(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new UD("Invalid base64 string: "+s):s}}(e);return new kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const o7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(ee(!!t),typeof t=="string"){let e=0;const n=o7.exec(t);if(ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _E(t){const e=t.mapValue.fields.__previous_value__;return Qg(e)?_E(e):e}function bd(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tp={nullValue:"NULL_VALUE"};function Xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qg(t)?4:$D(t)?9007199254740991:10:Y()}function ci(t,e){if(t===e)return!0;const n=Xo(t);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bi(i.timestampValue),a=Bi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zs(i.bytesValue).isEqual(zs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?Sd(o)===Sd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vu(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(FP(o)!==FP(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ci(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function Pd(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function Ws(t,e){if(t===e)return 0;const n=Xo(t),r=Xo(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),u=lt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return $P(t.timestampValue,e.timestampValue);case 4:return $P(bd(t),bd(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zs(s),u=zs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const d=ae(a[l],u[l]);if(d!==0)return d}return ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(lt(s.latitude),lt(o.latitude));return a!==0?a:ae(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const d=Ws(a[l],u[l]);if(d)return d}return ae(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ss.mapValue&&o===Ss.mapValue)return 0;if(s===Ss.mapValue)return 1;if(o===Ss.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},d=Object.keys(l);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const f=ae(u[h],d[h]);if(f!==0)return f;const m=Ws(a[u[h]],l[d[h]]);if(m!==0)return m}return ae(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Y()}}function $P(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Bi(t),r=Bi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Fu(t){return Lw(t)}function Lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Lw(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function Zo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mw(t){return!!t&&"integerValue"in t}function Ad(t){return!!t&&"arrayValue"in t}function jP(t){return!!t&&"nullValue"in t}function BP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function np(t){return!!t&&"mapValue"in t}function Uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $D(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function u7(t){return"nullValue"in t?tp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Zo(qs.empty(),G.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Y()}function l7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Zo(qs.empty(),G.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ss:Y()}function zP(t,e){const n=Ws(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function qP(t,e){const n=Ws(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Uc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(Uc(this.value))}}function jD(t){const e=[];return ga(t.fields,(n,r)=>{const i=new Ge([n]);if(np(r)){const s=jD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ze(e,0,te.min(),te.min(),te.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new ze(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new ze(e,2,n,te.min(),te.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new ze(e,3,n,te.min(),te.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.position=e,this.inclusive=n}}function WP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Ws(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function HP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n="asc"){this.field=e,this.dir=n}}function c7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class we extends BD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d7(e,n,r):n==="array-contains"?new p7(e,r):n==="in"?new GD(e,r):n==="not-in"?new m7(e,r):n==="array-contains-any"?new g7(e,r):new we(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h7(e,r):new f7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ws(n,this.value)):n!==null&&Xo(this.value)===Xo(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ke extends BD{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ke(e,n)}matches(e){return Uu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Uu(t){return t.op==="and"}function Vw(t){return t.op==="or"}function wE(t){return zD(t)&&Uu(t)}function zD(t){for(const e of t.filters)if(e instanceof ke)return!1;return!0}function Fw(t){if(t instanceof we)return t.field.canonicalString()+t.op.toString()+Fu(t.value);if(wE(t))return t.filters.map(e=>Fw(e)).join(",");{const e=t.filters.map(n=>Fw(n)).join(",");return`${t.op}(${e})`}}function qD(t,e){return t instanceof we?function(r,i){return i instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&ci(r.value,i.value)}(t,e):t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&qD(o,i.filters[a]),!0):!1}(t,e):void Y()}function WD(t,e){const n=t.filters.concat(e);return ke.create(n,t.op)}function HD(t){return t instanceof we?function(n){return`${n.field.canonicalString()} ${n.op} ${Fu(n.value)}`}(t):t instanceof ke?function(n){return n.op.toString()+" {"+n.getFilters().map(HD).join(" ,")+"}"}(t):"Filter"}class d7 extends we{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class h7 extends we{constructor(e,n){super(e,"in",n),this.keys=KD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f7 extends we{constructor(e,n){super(e,"not-in",n),this.keys=KD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class p7 extends we{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ad(n)&&Pd(n.arrayValue,this.value)}}class GD extends we{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pd(this.value.arrayValue,n)}}class m7 extends we{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pd(this.value.arrayValue,n)}}class g7 extends we{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ad(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Uw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new y7(t,e,n,r,i,s,o)}function ea(t){const e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fu(r)).join(",")),e.ue=n}return e.ue}function hh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HP(t.startAt,e.startAt)&&HP(t.endAt,e.endAt)}function dm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function hm(t,e){return t.filters.filter(n=>n instanceof we&&n.field.isEqual(e))}function KP(t,e,n){let r=tp,i=!0;for(const s of hm(t,e)){let o=tp,a=!0;switch(s.op){case"<":case"<=":o=u7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=tp}zP({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];zP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function GP(t,e,n){let r=Ss,i=!0;for(const s of hm(t,e)){let o=Ss,a=!0;switch(s.op){case">=":case">":o=l7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ss}qP({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];qP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QD(t,e,n,r,i,s,o,a){return new Ji(t,e,n,r,i,s,o,a)}function pl(t){return new Ji(t)}function QP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IE(t){return t.collectionGroup!==null}function wu(t){const e=J(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Le(Ge.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Rd(s,r))}),n.has(Ge.keyField().canonicalString())||e.ce.push(new Rd(Ge.keyField(),r))}return e.ce}function _n(t){const e=J(t);return e.le||(e.le=v7(e,wu(t))),e.le}function v7(t,e){if(t.limitType==="F")return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Rd(i.field,s)});const n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $w(t,e){const n=t.filters.concat([e]);return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fm(t,e,n){return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return hh(_n(t),_n(e))&&t.limitType===e.limitType}function JD(t){return`${ea(_n(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HD(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fu(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=WP(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,wu(r),i)||r.endAt&&!function(o,a,u){const l=WP(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,wu(r),i))}(t,e)}function YD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XD(t){return(e,n)=>{let r=!1;for(const i of wu(t)){const s=_7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _7(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ws(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new Ue(G.comparator);function kn(){return w7}const ZD=new Ue(G.comparator);function yc(...t){let e=ZD;for(const n of t)e=e.insert(n.key,n);return e}function eL(t){let e=ZD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return $c()}function tL(){return $c()}function $c(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const I7=new Ue(G.comparator),E7=new Le(G.comparator);function le(...t){let e=E7;for(const n of t)e=e.add(n);return e}const T7=new Le(ae);function EE(){return T7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(e)?"-0":e}}function rL(t){return{integerValue:""+t}}function iL(t,e){return xD(e)?rL(e):nL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this._=void 0}}function S7(t,e,n){return t instanceof $u?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qg(s)&&(s=_E(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ta?oL(t,e):t instanceof na?aL(t,e):function(i,s){const o=sL(i,s),a=JP(o)+JP(i.Pe);return Mw(o)&&Mw(i.Pe)?rL(a):nL(i.serializer,a)}(t,e)}function b7(t,e,n){return t instanceof ta?oL(t,e):t instanceof na?aL(t,e):n}function sL(t,e){return t instanceof ju?function(r){return Mw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $u extends Jg{}class ta extends Jg{constructor(e){super(),this.elements=e}}function oL(t,e){const n=uL(e);for(const r of t.elements)n.some(i=>ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class na extends Jg{constructor(e){super(),this.elements=e}}function aL(t,e){let n=uL(e);for(const r of t.elements)n=n.filter(i=>!ci(i,r));return{arrayValue:{values:n}}}class ju extends Jg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function JP(t){return lt(t.integerValue||t.doubleValue)}function uL(t){return Ad(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.field=e,this.transform=n}}function P7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ta&&i instanceof ta||r instanceof na&&i instanceof na?Vu(r.elements,i.elements,ci):r instanceof ju&&i instanceof ju?ci(r.Pe,i.Pe):r instanceof $u&&i instanceof $u}(t.transform,e.transform)}class A7{constructor(e,n){this.version=e,this.transformResults=n}}class Qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qe}static exists(e){return new Qe(void 0,e)}static updateTime(e){return new Qe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yg{}function lL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gl(t.key,Qe.none()):new ml(t.key,t.data,Qe.none());{const n=t.data,r=Kt.empty();let i=new Le(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new Cn(i.toArray()),Qe.none())}}function R7(t,e,n){t instanceof ml?function(i,s,o){const a=i.value.clone(),u=XP(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,s,o){if(!rp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=XP(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(cL(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jc(t,e,n,r){return t instanceof ml?function(s,o,a,u){if(!rp(s.precondition,o))return a;const l=s.value.clone(),d=ZP(s.fieldTransforms,u,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(s,o,a,u){if(!rp(s.precondition,o))return a;const l=ZP(s.fieldTransforms,u,o),d=o.data;return d.setAll(cL(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return rp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function C7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sL(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function YP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vu(r,i,(s,o)=>P7(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends Yg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends Yg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XP(t,e,n){const r=new Map;ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,b7(o,a,n[i]))}return r}function ZP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,S7(s,o,e))}return r}class gl extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TE extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&R7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=lL(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Vu(this.mutations,e.mutations,(n,r)=>YP(n,r))&&Vu(this.baseMutations,e.baseMutations,(n,r)=>YP(n,r))}}class bE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ee(e.mutations.length===r.length);let i=function(){return I7}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ie;function dL(t){switch(t){default:return Y();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function hL(t){if(t===void 0)return gt("GRPC error has no .code"),V.UNKNOWN;switch(t){case wt.OK:return V.OK;case wt.CANCELLED:return V.CANCELLED;case wt.UNKNOWN:return V.UNKNOWN;case wt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case wt.INTERNAL:return V.INTERNAL;case wt.UNAVAILABLE:return V.UNAVAILABLE;case wt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case wt.NOT_FOUND:return V.NOT_FOUND;case wt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case wt.ABORTED:return V.ABORTED;case wt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case wt.DATA_LOSS:return V.DATA_LOSS;default:return Y()}}(Ie=wt||(wt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=new Uo([4294967295,4294967295],0);function eA(t){const e=fL().encode(t),n=new yD;return n.update(e),new Uint8Array(n.digest())}function tA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uo([n,r],0),new Uo([i,s],0)]}class AE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Uo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Uo.fromNumber(r)));return i.compare(O7)===1&&(i=new Uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=eA(e),[r,i]=tA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new AE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=eA(e),[r,i]=tA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gh(te.min(),i,new Ue(ae),kn(),le())}}class yh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yh(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class pL{constructor(e,n){this.targetId=e,this.me=n}}class mL{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nA{constructor(){this.fe=0,this.ge=iA(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new yh(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=iA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class x7{constructor(e){this.Le=e,this.Be=new Map,this.ke=kn(),this.qe=rA(),this.Qe=new Ue(ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(dm(s))if(r===0){const o=new G(s.path);this.Ue(n,o,ze.newNoDocument(o,te.min()))}else ee(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=zs(r).toUint8Array()}catch(u){if(u instanceof UD)return Vr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new AE(o,i,s)}catch(u){return Vr(u instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&dm(a.target)){const u=new G(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ze.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new gh(e,n,this.Qe,this.ke,r);return this.ke=kn(),this.qe=rA(),this.Qe=new Ue(ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Le(ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rA(){return new Ue(G.comparator)}function iA(){return new Ue(G.comparator)}const N7={asc:"ASCENDING",desc:"DESCENDING"},D7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L7={and:"AND",or:"OR"};class M7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jw(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function Bu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V7(t,e){return Bu(t,e.toTimestamp())}function yt(t){return ee(!!t),te.fromTimestamp(function(n){const r=Bi(n);return new Je(r.seconds,r.nanos)}(t))}function RE(t,e){return Bw(t,e).canonicalString()}function Bw(t,e){const n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yL(t){const e=_e.fromString(t);return ee(AL(e)),e}function Cd(t,e){return RE(t.databaseId,e.path)}function li(t,e){const n=yL(e);if(n.get(1)!==t.databaseId.projectId)throw new j(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(wL(n))}function vL(t,e){return RE(t.databaseId,e)}function _L(t){const e=yL(t);return e.length===4?_e.emptyPath():wL(e)}function zw(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wL(t){return ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sA(t,e,n){return{name:Cd(t,e),fields:n.value.mapValue.fields}}function IL(t,e,n){const r=li(t,e.name),i=yt(e.updateTime),s=e.createTime?yt(e.createTime):te.min(),o=new Kt({mapValue:{fields:e.fields}}),a=ze.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function F7(t,e){return"found"in e?function(r,i){ee(!!i.found),i.found.name,i.found.updateTime;const s=li(r,i.found.name),o=yt(i.found.updateTime),a=i.found.createTime?yt(i.found.createTime):te.min(),u=new Kt({mapValue:{fields:i.found.fields}});return ze.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){ee(!!i.missing),ee(!!i.readTime);const s=li(r,i.missing),o=yt(i.readTime);return ze.newNoDocument(s,o)}(t,e):Y()}function U7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(ee(d===void 0||typeof d=="string"),kt.fromBase64String(d||"")):(ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const d=l.code===void 0?V.UNKNOWN:hL(l.code);return new j(d,l.message||"")}(o);n=new mL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=li(t,r.document.name),s=yt(r.document.updateTime),o=r.document.createTime?yt(r.document.createTime):te.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=ze.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new ip(l,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=li(t,r.document),s=r.readTime?yt(r.readTime):te.min(),o=ze.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ip([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=li(t,r.document),s=r.removedTargetIds||[];n=new ip([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new k7(i,s),a=r.targetId;n=new pL(a,o)}}return n}function kd(t,e){let n;if(e instanceof ml)n={update:sA(t,e.key,e.value)};else if(e instanceof gl)n={delete:Cd(t,e.key)};else if(e instanceof Yi)n={update:sA(t,e.key,e.data),updateMask:W7(e.fieldMask)};else{if(!(e instanceof TE))return Y();n={verify:Cd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ta)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof na)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ju)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:V7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function qw(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Qe.updateTime(yt(s.updateTime)):s.exists!==void 0?Qe.exists(s.exists):Qe.none()}(e.currentDocument):Qe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME"),u=new $u;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];u=new ta(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];u=new na(d)}else"increment"in a?u=new ju(o,a.increment):Y();const l=Ge.fromServerFormat(a.fieldPath);return new mh(l,u)}(t,i)):[];if(e.update){e.update.name;const i=li(t,e.update.name),s=new Kt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(u){const l=u.fieldPaths||[];return new Cn(l.map(d=>Ge.fromServerFormat(d)))}(e.updateMask);return new Yi(i,s,o,n,r)}return new ml(i,s,n,r)}if(e.delete){const i=li(t,e.delete);return new gl(i,n)}if(e.verify){const i=li(t,e.verify);return new TE(i,n)}return Y()}function $7(t,e){return t&&t.length>0?(ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yt(i.updateTime):yt(s);return o.isEqual(te.min())&&(o=yt(s)),new A7(o,i.transformResults||[])}(n,e))):[]}function EL(t,e){return{documents:[vL(t,e.path)]}}function TL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vL(t,i);const s=function(l){if(l.length!==0)return PL(ke.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(d=>function(f){return{field:Qa(f.field),direction:B7(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function SL(t){let e=_L(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ee(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=bL(h);return f instanceof ke&&wE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Rd(Ja(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,dh(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(h){const f=!!h.before,m=h.values||[];return new Hs(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,m=h.values||[];return new Hs(m,f)}(n.endAt)),QD(e,i,o,s,a,"F",u,l)}function j7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ja(n.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ja(n.unaryFilter.field);return we.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ja(n.unaryFilter.field);return we.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return we.create(Ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ke.create(n.compositeFilter.filters.map(r=>bL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function B7(t){return N7[t]}function z7(t){return D7[t]}function q7(t){return L7[t]}function Qa(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Ge.fromServerFormat(t.fieldPath)}function PL(t){return t instanceof we?function(n){if(n.op==="=="){if(BP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(jP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(jP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:z7(n.op),value:n.value}}}(t):t instanceof ke?function(n){const r=n.getFilters().map(i=>PL(i));return r.length===1?r[0]:{compositeFilter:{op:q7(n.op),filters:r}}}(t):Y()}function W7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r,i,s=te.min(),o=te.min(),a=kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.ct=e}}function H7(t,e){let n;if(e.document)n=IL(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=G.fromSegments(e.noDocument.path),i=ia(e.noDocument.readTime);n=ze.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Y();{const r=G.fromSegments(e.unknownDocument.path),i=ia(e.unknownDocument.version);n=ze.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Je(i[0],i[1]);return te.fromTimestamp(s)}(e.readTime)),n}function oA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Cd(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Bu(s,o.version.toTimestamp()),createTime:Bu(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ra(e.version)};else{if(!e.isUnknownDocument())return Y();r.unknownDocument={path:n.path.toArray(),version:ra(e.version)}}return r}function pm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ra(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ia(t){const e=new Je(t.seconds,t.nanoseconds);return te.fromTimestamp(e)}function So(t,e){const n=(e.baseMutations||[]).map(s=>qw(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>qw(t.ct,s)),i=Je.fromMillis(e.localWriteTimeMs);return new SE(e.batchId,i,n,r)}function _c(t){const e=ia(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ia(t.lastLimboFreeSnapshotVersion):te.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ee(s.documents.length===1),_n(pl(_L(s.documents[0])))}(t.query):function(s){return _n(SL(s))}(t.query),new Ai(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,kt.fromBase64String(t.resumeToken))}function CL(t,e){const n=ra(e.snapshotVersion),r=ra(e.lastLimboFreeSnapshotVersion);let i;i=dm(e.target)?EL(t.ct,e.target):TL(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ea(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function CE(t){const e=SL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fm(e,e.limit,"L"):e}function jv(t,e){return new PE(e.largestBatchId,qw(t.ct,e.overlayMutation))}function aA(t,e){const n=e.path.lastSegment();return[t,vn(e.path.popLast()),n]}function uA(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ra(r.readTime),documentKey:vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{getBundleMetadata(e,n){return lA(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ia(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return lA(e).put(function(i){return{bundleId:i.id,createTime:ra(yt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return cA(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:CE(s.bundledQuery),readTime:ia(s.readTime)}}(r)})}saveNamedQuery(e,n){return cA(e).put(function(i){return{name:i.name,readTime:ra(yt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function lA(t){return jt(t,"bundles")}function cA(t){return jt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Xg(e,r)}getOverlay(e,n){return Xl(e).get(aA(this.userId,n)).next(r=>r?jv(this.serializer,r):null)}getOverlays(e,n){const r=ei();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new PE(n,o);i.push(this.ht(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(vn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Xl(e).j("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ei(),s=vn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Xl(e).U("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=jv(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ei();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xl(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{const h=jv(this.serializer,l);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Xl(e).put(function(i,s,o){const[a,u,l]=aA(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:kd(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Xl(t){return jt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Sd(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Bi(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(zs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?$D(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Y()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),G.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}bo.bt=new bo;function G7(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function dA(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=G7(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Q7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=dA(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=dA(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class J7{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Y7{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Zl{constructor(){this.Gt=new Q7,this.zt=new J7(this.Gt),this.jt=new Y7(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Po(this.indexId,this.documentKey,this.arrayValue,r)}}function us(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=hA(t.arrayValue,e.arrayValue),n!==0?n:(n=hA(t.directionalValue,e.directionalValue),n!==0?n:G.comparator(t.documentKey,e.documentKey)))}function hA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.Yt=new Le((n,r)=>Ge.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ee(e.collectionGroup===this.collectionId),this.en)return!1;const n=Nw(e);if(n!==void 0&&!this.nn(n))return!1;const r=Io(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.rn(a,u)||!this.sn(this.Zt[o++],u))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Le(Ge.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Zf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Zf(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Zf(r.field,r.dir==="asc"?0:1)));return new cm(cm.UNKNOWN_ID,this.collectionId,n,Td.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){var e,n;if(ee(t instanceof we||t instanceof ke),t instanceof we){if(t instanceof GD){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>we.create(t.field,"==",s)))||[];return ke.create(i,"or")}return t}const r=t.filters.map(i=>kL(i));return ke.create(r,t.op)}function X7(t){if(t.getFilters().length===0)return[];const e=Kw(kL(t));return ee(OL(e)),Ww(e)||Hw(e)?[e]:e.getFilters()}function Ww(t){return t instanceof we}function Hw(t){return t instanceof ke&&wE(t)}function OL(t){return Ww(t)||Hw(t)||function(n){if(n instanceof ke&&Vw(n)){for(const r of n.getFilters())if(!Ww(r)&&!Hw(r))return!1;return!0}return!1}(t)}function Kw(t){if(ee(t instanceof we||t instanceof ke),t instanceof we)return t;if(t.filters.length===1)return Kw(t.filters[0]);const e=t.filters.map(r=>Kw(r));let n=ke.create(e,t.op);return n=mm(n),OL(n)?n:(ee(n instanceof ke),ee(Uu(n)),ee(n.filters.length>1),n.filters.reduce((r,i)=>kE(r,i)))}function kE(t,e){let n;return ee(t instanceof we||t instanceof ke),ee(e instanceof we||e instanceof ke),n=t instanceof we?e instanceof we?function(i,s){return ke.create([i,s],"and")}(t,e):pA(t,e):e instanceof we?pA(e,t):function(i,s){if(ee(i.filters.length>0&&s.filters.length>0),Uu(i)&&Uu(s))return WD(i,s.getFilters());const o=Vw(i)?i:s,a=Vw(i)?s:i,u=o.filters.map(l=>kE(l,a));return ke.create(u,"or")}(t,e),mm(n)}function pA(t,e){if(Uu(e))return WD(e,t.getFilters());{const n=e.filters.map(r=>kE(t,r));return ke.create(n,"or")}}function mm(t){if(ee(t instanceof we||t instanceof ke),t instanceof we)return t;const e=t.getFilters();if(e.length===1)return mm(e[0]);if(zD(t))return t;const n=e.map(i=>mm(i)),r=[];return n.forEach(i=>{i instanceof we?r.push(i):i instanceof ke&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ke.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this._n=new OE}addToCollectionParentIndex(e,n){return this._n.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Xn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class OE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Uint8Array(0);class eQ{constructor(e,n){this.databaseId=n,this.an=new OE,this.un=new oo(r=>ea(r),(r,i)=>hh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:vn(i)};return mA(e).put(s)}return M.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[PD(n),""],!1,!0);return mA(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Zr(o.parent))}return r})}addFieldIndex(e,n){const r=ec(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=$a(e);return s.next(a=>{o.put(uA(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=ec(e),i=$a(e),s=Ua(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ec(e),r=Ua(e),i=$a(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return M.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new fA(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Ua(e);let i=!0;const s=new Map;return M.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=le();const a=[];return M.forEach(s,(u,l)=>{B("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(u)} to execute ${ea(n)}`);const d=function(w,x){const k=Nw(x);if(k===void 0)return null;for(const D of hm(w,k.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(l,u),h=function(w,x){const k=new Map;for(const D of Io(x))for(const T of hm(w,D.fieldPath))switch(T.op){case"==":case"in":k.set(D.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return k.set(D.fieldPath.canonicalString(),T.value),Array.from(k.values())}return null}(l,u),f=function(w,x){const k=[];let D=!0;for(const T of Io(x)){const E=T.kind===0?KP(w,T.fieldPath,w.startAt):GP(w,T.fieldPath,w.startAt);k.push(E.value),D&&(D=E.inclusive)}return new Hs(k,D)}(l,u),m=function(w,x){const k=[];let D=!0;for(const T of Io(x)){const E=T.kind===0?GP(w,T.fieldPath,w.endAt):KP(w,T.fieldPath,w.endAt);k.push(E.value),D&&(D=E.inclusive)}return new Hs(k,D)}(l,u),y=this.hn(u,l,f),v=this.hn(u,l,m),S=this.Pn(u,l,h),I=this.In(u.indexId,d,y,f.inclusive,v,m.inclusive,S);return M.forEach(I,_=>r.G(_,n.limit).next(w=>{w.forEach(x=>{const k=G.fromSegments(x.documentKey);o.has(k)||(o=o.add(k),a.push(k))})}))}).next(()=>a)}return M.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=X7(ke.create(e.filters,"and")).map(r=>Uw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),d=[];for(let h=0;h<u;++h){const f=n?this.Tn(n[h/l]):wf,m=this.En(e,f,r[h%l],i),y=this.dn(e,f,s[h%l],o),v=a.map(S=>this.En(e,f,S,!0));d.push(...this.createRange(m,y,v))}return d}En(e,n,r,i){const s=new Po(e,G.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Po(e,G.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new fA(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return M.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new Le(Ge.comparator),d=!1;for(const h of u.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:l=l.add(f.field));for(const h of u.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Zl;for(const i of Io(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);bo.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new Zl;return bo.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Zl;return bo.bt.Pt(Zo(this.databaseId,n),r.Ht(function(s){const o=Io(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Zl);let s=0;for(const o of Io(e)){const a=r[s++];for(const u of i)if(this.Vn(n,o.fieldPath)&&Ad(a))i=this.mn(i,o,a);else{const l=u.Ht(o.kind);bo.bt.Pt(a,l)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Zl;u.seed(a.Wt()),bo.bt.Pt(o,u.Ht(n.kind)),s.push(u)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof we&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ec(e),i=$a(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(d,h){const f=h?new Td(h.sequenceNumber,new Xn(ia(h.readTime),new G(Zr(h.documentKey)),h.largestBatchId)):Td.empty(),m=d.fields.map(([y,v])=>new Zf(Ge.fromServerFormat(y),v));return new cm(d.indexId,d.collectionGroup,m,f)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ae(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=ec(e),s=$a(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,u=>s.put(uA(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return M.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,u=>this.pn(e,i,u).next(l=>{const d=this.yn(s,u);return l.isEqual(d)?M.resolve():this.wn(e,s,u,l,d)}))))})}Sn(e,n,r,i){return Ua(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Ua(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Ua(e);let s=new Le(us);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Po(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Le(us);const i=this.An(n,e);if(i==null)return r;const s=Nw(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Ad(o))for(const a of o.arrayValue.values||[])r=r.add(new Po(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Po(n.indexId,e.key,wf,i));return r}wn(e,n,r,i,s){B("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,d,h,f){const m=u.getIterator(),y=l.getIterator();let v=Fa(m),S=Fa(y);for(;v||S;){let I=!1,_=!1;if(v&&S){const w=d(v,S);w<0?_=!0:w>0&&(I=!0)}else v!=null?_=!0:I=!0;I?(h(S),S=Fa(y)):_?(f(v),v=Fa(m)):(v=Fa(m),S=Fa(y))}}(i,s,us,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),M.waitFor(o)}gn(e){let n=1;return $a(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>us(o,a)).filter((o,a,u)=>!a||us(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=us(o,e),u=us(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&u<0)i.push(o),i.push(o.Jt());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,wf,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,wf,[]];s.push(IDBKeyRange.bound(a,u))}return s}Dn(e,n){return us(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gA)}getMinOffset(e,n){return M.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Y())).next(gA)}}function mA(t){return jt(t,"collectionParents")}function Ua(t){return jt(t,"indexEntries")}function ec(t){return jt(t,"indexConfiguration")}function $a(t){return jt(t,"indexState")}function gA(t){ee(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;yE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Xn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(u.next(()=>{ee(a===1)}));const l=[];for(const d of n.mutations){const h=ND(e,d.key.path,n.batchId);s.push(i.delete(h)),l.push(d.key)}return M.waitFor(s).next(()=>l)}function gm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Y();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Zg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ee(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Zg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ya(e),o=ls(e);return o.add({}).next(a=>{ee(typeof a=="number");const u=new SE(a,n,r,i),l=function(m,y,v){const S=v.baseMutations.map(_=>kd(m.ct,_)),I=v.mutations.map(_=>kd(m.ct,_));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:S,mutations:I}}(this.serializer,this.userId,u),d=[];let h=new Le((f,m)=>ae(f.canonicalString(),m.canonicalString()));for(const f of i){const m=ND(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(l)),d.push(s.put(m,BG))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=u.keys()}),M.waitFor(d).next(()=>u)})}lookupMutationBatch(e,n){return ls(e).get(n).next(r=>r?(ee(r.userId===this.userId),So(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?M.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ls(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(ee(a.batchId>=r),s=So(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ls(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).U("userMutationsIndex",n).next(r=>r.map(i=>So(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ep(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ya(e).J({range:i},(o,a,u)=>{const[l,d,h]=o,f=Zr(d);if(l===this.userId&&n.path.isEqual(f))return ls(e).get(h).next(m=>{if(!m)throw Y();ee(m.userId===this.userId),s.push(So(this.serializer,m))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(ae);const i=[];return n.forEach(s=>{const o=ep(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Ya(e).J({range:a},(l,d,h)=>{const[f,m,y]=l,v=Zr(m);f===this.userId&&s.path.isEqual(v)?r=r.add(y):h.done()});i.push(u)}),M.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=ep(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Le(ae);return Ya(e).J({range:o},(u,l,d)=>{const[h,f,m]=u,y=Zr(f);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(m)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ls(e).get(s).next(o=>{if(o===null)throw Y();ee(o.userId===this.userId),r.push(So(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return xL(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ya(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Zr(s[1]);i.push(u)}else a.done()}).next(()=>{ee(i.length===0)})})}containsKey(e,n){return NL(e,this.userId,n)}xn(e){return DL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NL(t,e,n){const r=ep(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ya(t).J({range:s,H:!0},(a,u,l)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),l.done()}).next(()=>o)}function ls(t){return jt(t,"mutations")}function Ya(t){return jt(t,"documentMutations")}function DL(t){return jt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new sa(0)}static Ln(){return new sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new sa(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>te.fromTimestamp(new Je(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ja(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ee(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return ja(e).J((o,a)=>{const u=_c(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return ja(e).J((r,i)=>{const s=_c(i);n(s)})}Bn(e){return vA(e).get("targetGlobalKey").next(n=>(ee(n!==null),n))}kn(e,n){return vA(e).put("targetGlobalKey",n)}qn(e,n){return ja(e).put(CL(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ea(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ja(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=_c(a);hh(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=_s(e);return n.forEach(o=>{const a=vn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){const i=_s(e);return M.forEach(n,s=>{const o=vn(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=_s(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_s(e);let s=le();return i.J({range:r,H:!0},(o,a,u)=>{const l=Zr(o[1]),d=new G(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=vn(n.path),i=IDBKeyRange.bound([r],[PD(r)],!1,!0);let s=0;return _s(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return ja(e).get(n).next(r=>r?_c(r):null)}}function ja(t){return jt(t,"targets")}function vA(t){return jt(t,"targetGlobal")}function _s(t){return jt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class nQ{constructor(e){this.Kn=e,this.buffer=new Le(_A),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_A(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){B("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await io(n)}await this.zn(3e5)})}}class iQ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Rn.oe);const r=new nQ(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(yA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yA):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,u,l;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),Ka()<=de.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(l-u)+`ms
Total Duration: ${l-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function sQ(t,e){return new iQ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n){this.db=e,this.garbageCollector=sQ(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return If(e,r)}removeReference(e,n,r){return If(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return If(e,n)}er(e,n){return function(i,s){let o=!1;return DL(i).Y(a=>NL(i,a,s).next(u=>(u&&(o=!0),M.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const u=this.er(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,te.min()),_s(e).delete(function(h){return[0,vn(h.path)]}(o))))});i.push(u)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return If(e,n)}Xn(e,n){const r=_s(e);let i,s=Rn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==Rn.oe&&n(new G(Zr(i)),s),s=l,i=u):s=Rn.oe}).next(()=>{s!==Rn.oe&&n(new G(Zr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function If(t,e){return _s(t).put(function(r,i){return{targetId:0,path:vn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return go(e).put(r)}removeEntry(e,n,r){return go(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],pm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=ze.newInvalidDocument(n);return go(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tc(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:ze.newInvalidDocument(n)};return go(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tc(n))},(i,s)=>{r={document:this.nr(n,s),size:gm(s)}}).next(()=>r)}getEntries(e,n){let r=kn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=kn(),i=new Ue(G.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,gm(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return M.resolve();let i=new Le(EA);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(tc(i.first()),tc(i.last())),o=i.getIterator();let a=o.getNext();return go(e).J({index:"documentKeyIndex",range:s},(u,l,d)=>{const h=G.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&EA(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(tc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),pm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return go(e).U(IDBKeyRange.bound(a,u,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let d=kn();for(const h of l){const f=this.nr(G.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(ph(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=kn();const o=IA(n,r),a=IA(n,Xn.max());return go(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,d)=>{const h=this.nr(G.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new uQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return wA(e).get("remoteDocumentGlobalKey").next(n=>(ee(!!n),n))}tr(e,n){return wA(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=H7(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(te.min())))return r}return ze.newInvalidDocument(e)}}function ML(t){return new aQ(t)}class uQ extends LL{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new oo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Le((s,o)=>ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=oA(this.ar.serializer,o);i=i.add(s.path.popLast());const l=gm(u);r+=l-a.size,n.push(this.ar.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=oA(this.ar.serializer,o.convertToNoDocument(te.min()));n.push(this.ar.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function wA(t){return jt(t,"remoteDocumentGlobal")}function go(t){return jt(t,"remoteDocumentsV14")}function tc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IA(t,e){const n=e.documentKey.path.toArray();return[t,pm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function EA(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ae(n[s],r[s]),i)return i;return i=ae(n.length,r.length),i||(i=ae(n[n.length-2],r[r.length-2]),i||ae(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jc(r.mutation,i,Cn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=kn();const o=$c(),a=function(){return $c()}();return n.forEach((u,l)=>{const d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Yi)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),jc(d.mutation,l,d.mutation.getFieldMask(),Je.now())):o.set(l.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var h;return a.set(l,new lQ(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$c();let i=new Ue((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let d=r.get(u)||Cn.empty();d=a.applyToLocalView(l,d),r.set(u,d);const h=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,d=u.value,h=tL();d.forEach(f=>{if(!s.has(f)){const m=lL(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(ei());let a=-1,u=s;return o.next(l=>M.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{u=u.insert(d,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(d=>({batchId:a,changes:eL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yc();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,u=>{const l=function(h,f){return new Ji(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const d=l.getKey();o.get(d)===null&&(o=o.insert(d,ze.newInvalidDocument(d)))});let a=yc();return o.forEach((u,l)=>{const d=s.get(u);d!==void 0&&jc(d.mutation,l,Cn.empty(),Je.now()),ph(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return M.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:CE(i.bundledQuery),readTime:yt(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(){this.overlays=new Ue(G.comparator),this.hr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ei();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=ei(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((l,d)=>l-d);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=ei(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=ei(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PE(n,r));let s=this.hr.get(n);s===void 0&&(s=le(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.Pr=new Le(Nt.Ir),this.Tr=new Le(Nt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Nt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new G(new _e([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new G(new _e([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=le();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return G.comparator(e.key,n.key)||ae(e.pr,n.pr)}static Er(e,n){return ae(e.pr,n.pr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Le(Nt.Ir)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(ae);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),M.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new G(s),0);let a=new Le(ae);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),M.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ee(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return M.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.wr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e){this.vr=e,this.docs=function(){return new Ue(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ze.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=kn();const o=n.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:d}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||yE(RD(d),r)<=0||(i.has(d.key)||ph(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Fr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pQ(this)}getSize(e){return M.resolve(this.size)}}class pQ extends LL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.persistence=e,this.Mr=new oo(n=>ea(n),hh),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xE,this.targetCount=0,this.Lr=sa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),M.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.qn(n),M.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Rn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new mQ(this),this.indexManager=new Z7,this.remoteDocumentCache=function(i){return new fQ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new RL(n),this.$r=new cQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new hQ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new gQ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class gQ extends kD{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.zr=new xE,this.jr=null}static Hr(e){return new ey(e)}get Jr(){if(this.jr)return this.jr;throw Y()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),M.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Jr,r=>{const i=G.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return M.or([()=>M.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Gg("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VP,{unique:!0}),u.createObjectStore("documentMutations")}(e),TA(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),TA(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:te.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").U().next(d=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VP,{unique:!0});const h=l.store("mutations"),f=d.map(m=>h.put(m));return M.waitFor(f)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:e7});l.createIndex("collectionPathOverlayIndex",t7,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",n7,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:zG});l.createIndex("documentKeyIndex",qG),l.createIndex("collectionGroupIndex",WG)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:JG}).createIndex("sequenceNumberIndex",YG,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:XG}).createIndex("documentKeyIndex",ZG,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=gm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>M.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>M.forEach(a,u=>{ee(u.userId===s.userId);const l=So(this.serializer,u);return xL(e,s.userId,l).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const u=new _e(o),l=function(h){return[0,vn(h)]}(u);s.push(n.get(l).next(d=>d?M.resolve():(h=>n.put({targetId:0,path:vn(h),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>M.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:QG});const r=n.store("collectionParents"),i=new OE,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:vn(u)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const u=new _e(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,u],l)=>{const d=Zr(a);return s(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=_c(i),o=CL(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),u=function(h){return h.document?new G(_e.fromString(h.document.name).popFirst(5)):h.noDocument?G.fromSegments(h.noDocument.path):h.unknownDocument?G.fromSegments(h.unknownDocument.path):Y()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>M.waitFor(i))}si(e,n){const r=n.store("mutations"),i=ML(this.serializer),s=new FL(ey.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(u=>{var l;let d=(l=a.get(u.userId))!==null&&l!==void 0?l:le();So(this.serializer,u).keys().forEach(h=>d=d.add(h)),a.set(u.userId,d)}),M.forEach(a,(u,l)=>{const d=new Lt(l),h=Xg.lt(this.serializer,d),f=s.getIndexManager(d),m=Zg.lt(d,this.serializer,f,s.referenceDelegate);return new VL(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Dw(n,Rn.oe),u).next()})})}}function TA(t){t.createObjectStore("targetDocuments",{keyPath:KG}).createIndex("documentTargetsIndex",GG,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HG,{unique:!0}),t.createObjectStore("targetGlobal")}const Bv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NE{constructor(e,n,r,i,s,o,a,u,l,d,h=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=l,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!NE.D())throw new j(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oQ(this,i),this.Ti=n+"main",this.serializer=new RL(u),this.Ei=new ui(this.Ti,this.ui,new yQ(this.serializer)),this.Qr=new tQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ML(this.serializer),this.$r=new K7,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new j(V.FAILED_PRECONDITION,Bv);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Rn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ef(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(so(e))return B("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return B("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return nc(e).get("owner").next(n=>M.resolve(this.Si(n)))}bi(e){return Ef(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=jt(n,"clientMetadata");return r.U().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?M.resolve(!0):nc(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new j(V.FAILED_PRECONDITION,Bv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ef(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&B("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Dw(e,Rn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ef(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Zg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eQ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Xg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){B("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===16?i7:u===15?VD:u===14?MD:u===13?LD:u===12?r7:u===11?DD:void Y()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new Dw(a,this.kr?this.kr.next():Rn.oe),n==="readwrite-primary"?this.gi(o).next(u=>!!u||this.pi(o)).next(u=>{if(!u)throw gt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new j(V.FAILED_PRECONDITION,CD);return r(o)}).next(u=>this.wi(o).next(()=>u)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return nc(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new j(V.FAILED_PRECONDITION,Bv)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nc(e).put("owner",n)}static D(){return ui.D()}yi(e){const n=nc(e);return n.get("owner").next(r=>this.Si(r)?(B("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(gt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;Hx()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return B("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){gt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nc(t){return jt(t,"owner")}function Ef(t){return jt(t,"clientMetadata")}function DE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new LE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Hx()?8:OD(ie())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vQ;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ka()<=de.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),M.resolve()):(Ka()<=de.DEBUG&&B("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ka()<=de.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):M.resolve())}ji(e,n){if(QP(n))return M.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fm(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,fm(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return QP(n)||i.isEqual(te.min())?M.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?M.resolve(null):(Ka()<=de.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(n)),this.es(e,o,n,AD(i,-1)).next(a=>a))})}Zi(e,n){let r=new Le(XD(e));return n.forEach((i,s)=>{ph(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ka()<=de.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.zi.getDocumentsMatchingQuery(e,n,Xn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ue(ae),this.rs=new oo(s=>ea(s),hh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function $L(t,e,n,r){return new _Q(t,e,n,r)}async function jL(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=le();for(const l of i){o.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}for(const l of s){a.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function wQ(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,d){const h=l.batch,f=h.keys();let m=M.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(u,y)).next(v=>{const S=l.docVersions.get(y);ee(S!==null),v.version.compareTo(S)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BL(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function IQ(t,e){const n=J(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(kt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(v,S,I){return v.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,m,d)&&a.push(n.Qr.updateTargetData(s,m))});let u=kn(),l=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(zL(s,o,e.documentUpdates).next(d=>{u=d.cs,l=d.ls})),!r.isEqual(te.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function zL(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=kn();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function EQ(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zu(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function qu(t,e,n){const r=J(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!so(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function ym(t,e,n){const r=J(t);let i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,d){const h=J(u),f=h.rs.get(d);return f!==void 0?M.resolve(h.ns.get(f)):h.Qr.getTargetData(l,d)}(r,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:le())).next(a=>(HL(r,YD(e),a),{documents:a,hs:s})))}function qL(t,e){const n=J(t),r=J(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function WL(t,e){const n=J(t),r=n.ss.get(e)||te.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,AD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(HL(n,e,i),i))}function HL(t,e,n){let r=t.ss.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function TQ(t,e,n,r){const i=J(t);let s=le(),o=kn();for(const l of n){const d=e.Ps(l.metadata.name);l.document&&(s=s.add(d));const h=e.Is(l);h.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(d,h)}const a=i.os.newChangeBuffer({trackRemovals:!0}),u=await zu(i,function(d){return _n(pl(_e.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>zL(l,a,o).next(d=>(a.apply(l),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Qr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.cs,d.ls)).next(()=>d.cs)))}async function SQ(t,e,n=le()){const r=await zu(t,_n(CE(e.bundledQuery))),i=J(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=yt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(kt.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function SA(t,e){return`firestore_clients_${t}_${e}`}function bA(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function zv(t,e){return`firestore_targets_${t}_${e}`}class vm{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new j(i.error.code,i.error.message))),o?new vm(e,n,i.state,s):(gt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new j(r.error.code,r.error.message))),s?new Bc(e,r.state,i):(gt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _m{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=EE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=xD(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new _m(e,s):(gt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class ME{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new ME(n.clientId,n.onlineState):(gt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gw{constructor(){this.activeTargetIds=EE()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qv{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ue(ae),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=SA(this.persistenceKey,this.Vs),this.Ss=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Gw),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Fs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(SA(this.persistenceKey,r));if(i){const s=_m.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(zv(this.persistenceKey,e));if(r){const i=Bc.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zv(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return B("SharedClientState","READ",e,n),n}setItem(e,n){B("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){B("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(B("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=Rn.oe;if(s!=null)try{const a=JSON.parse(s);ee(typeof a=="number"),o=a}catch(a){gt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Rn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new vm(this.currentUser,e,n,r),s=bA(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=bA(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=zv(this.persistenceKey,e),s=new Bc(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return _m.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return vm.Es(new Lt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Bc.Es(i,n)}xs(e){return ME.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);B("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=EE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class KL{constructor(){this.no=new Gw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Gw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function Wv(){return Tf===null?Tf=function(){return 268435456+Math.round(2147483648*Math.random())}():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class RQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Wv(),u=this.vo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(d=>(B("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Vr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=PQ[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Wv();return new Promise((o,a)=>{const u=new vD;u.setWithCredentials(!0),u.listenOnce(wD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xf.NO_ERROR:const d=u.getResponseJson();B(rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Xf.TIMEOUT:B(rn,`RPC '${e}' ${s} timed out`),a(new j(V.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const h=u.getStatus();if(B(rn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(I)>=0?I:V.UNKNOWN}(m.status);a(new j(y,m.message))}else a(new j(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new j(V.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{B(rn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);B(rn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){const i=Wv(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TD(),a=ED(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new _D({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");B(rn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=o.createWebChannel(d,u);let f=!1,m=!1;const y=new AQ({lo:S=>{m?B(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(B(rn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),B(rn,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},ho:()=>h.close()}),v=(S,I,_)=>{S.listen(I,w=>{try{_(w)}catch(x){setTimeout(()=>{throw x},0)}})};return v(h,gc.EventType.OPEN,()=>{m||(B(rn,`RPC '${e}' stream ${i} transport opened.`),y.mo())}),v(h,gc.EventType.CLOSE,()=>{m||(m=!0,B(rn,`RPC '${e}' stream ${i} transport closed`),y.po())}),v(h,gc.EventType.ERROR,S=>{m||(m=!0,Vr(rn,`RPC '${e}' stream ${i} transport errored:`,S),y.po(new j(V.UNAVAILABLE,"The operation could not be completed")))}),v(h,gc.EventType.MESSAGE,S=>{var I;if(!m){const _=S.data[0];ee(!!_);const w=_,x=w.error||((I=w[0])===null||I===void 0?void 0:I.error);if(x){B(rn,`RPC '${e}' stream ${i} received error:`,x);const k=x.status;let D=function(P){const A=wt[P];if(A!==void 0)return hL(A)}(k),T=x.message;D===void 0&&(D=V.INTERNAL,T="Unknown error status: "+k+" with message "+x.message),m=!0,y.po(new j(D,T)),h.close()}else B(rn,`RPC '${e}' stream ${i} received:`,_),y.yo(_)}}),v(a,ID.STAT_EVENT,S=>{S.stat===xw.PROXY?B(rn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===xw.NOPROXY&&B(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(){return typeof window<"u"?window:null}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return new M7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new VE(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new j(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CQ extends QL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=U7(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?yt(o.readTime):te.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=zw(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=dm(u)?{documents:EL(s,u)}:{query:TL(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gL(s,o.resumeToken);const l=jw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Bu(s,o.snapshotVersion.toTimestamp());const l=jw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=j7(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=zw(this.serializer),n.removeTarget=e,this.i_(n)}}class kQ extends QL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=$7(e.writeResults,e.commitTime),r=yt(e.commitTime);return this.listener.A_(r,n)}return ee(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=zw(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kd(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new j(V.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Bw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(V.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Bw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(V.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class xQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(gt(n),this.y_=!1):B("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{ao(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=J(u);l.M_.add(4),await yl(l),l.N_.set("Unknown"),l.M_.delete(4),await _h(l)}(this))})}),this.N_=new xQ(r,i)}}async function _h(t){if(ao(t))for(const e of t.x_)await e(!0)}async function yl(t){for(const e of t.x_)await e(!1)}function ty(t,e){const n=J(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),$E(n)?UE(n):_l(n).Xo()&&FE(n,e))}function Wu(t,e){const n=J(t),r=_l(n);n.F_.delete(e),r.Xo()&&JL(n,e),n.F_.size===0&&(r.Xo()?r.n_():ao(n)&&n.N_.set("Unknown"))}function FE(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).P_(e)}function JL(t,e){t.L_.xe(e),_l(t).I_(e)}function UE(t){t.L_=new x7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.N_.w_()}function $E(t){return ao(t)&&!_l(t).Zo()&&t.F_.size>0}function ao(t){return J(t).M_.size===0}function YL(t){t.L_=void 0}async function DQ(t){t.N_.set("Online")}async function LQ(t){t.F_.forEach((e,n)=>{FE(t,e)})}async function MQ(t,e){YL(t),$E(t)?(t.N_.D_(e),UE(t)):t.N_.set("Unknown")}async function VQ(t,e,n){if(t.N_.set("Online"),e instanceof mL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wm(t,r)}else if(e instanceof ip?t.L_.Ke(e):e instanceof pL?t.L_.He(e):t.L_.We(e),!n.isEqual(te.min()))try{const r=await BL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),JL(s,u);const h=new Ai(d.target,u,l,d.sequenceNumber);FE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await wm(t,r)}}async function wm(t,e,n){if(!so(e))throw e;t.M_.add(1),await yl(t),t.N_.set("Offline"),n||(n=()=>BL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await _h(t)})}function XL(t,e){return e().catch(n=>wm(t,n,e))}async function vl(t){const e=J(t),n=Ks(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;FQ(e);)try{const i=await EQ(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,UQ(e,i)}catch(i){await wm(e,i)}ZL(e)&&e2(e)}function FQ(t){return ao(t)&&t.v_.length<10}function UQ(t,e){t.v_.push(e);const n=Ks(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function ZL(t){return ao(t)&&!Ks(t).Zo()&&t.v_.length>0}function e2(t){Ks(t).start()}async function $Q(t){Ks(t).V_()}async function jQ(t){const e=Ks(t);for(const n of t.v_)e.d_(n.mutations)}async function BQ(t,e,n){const r=t.v_.shift(),i=bE.from(r,e,n);await XL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vl(t)}async function zQ(t,e){e&&Ks(t).E_&&await async function(r,i){if(function(o){return dL(o)&&o!==V.ABORTED}(i.code)){const s=r.v_.shift();Ks(r).t_(),await XL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vl(r)}}(t,e),ZL(t)&&e2(t)}async function AA(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=ao(n);n.M_.add(3),await yl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await _h(n)}async function Qw(t,e){const n=J(t);e?(n.M_.delete(2),await _h(n)):e||(n.M_.add(2),await yl(n),n.N_.set("Unknown"))}function _l(t){return t.B_||(t.B_=function(n,r,i){const s=J(n);return s.f_(),new CQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:DQ.bind(null,t),To:LQ.bind(null,t),Ao:MQ.bind(null,t),h_:VQ.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),$E(t)?UE(t):t.N_.set("Unknown")):(await t.B_.stop(),YL(t))})),t.B_}function Ks(t){return t.k_||(t.k_=function(n,r,i){const s=J(n);return s.f_(),new kQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:$Q.bind(null,t),Ao:zQ.bind(null,t),R_:jQ.bind(null,t),A_:BQ.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await vl(t)):(await t.k_.stop(),t.v_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new jE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wl(t,e){if(gt("AsyncQueue",`${e}: ${t}`),so(t))return new j(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new Iu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.q_=new Ue(G.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Y():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hu{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Hu(e,n,Iu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class WQ{constructor(){this.queries=new oo(e=>JD(e),fh),this.onlineState="Unknown",this.z_=new Set}}async function BE(t,e){const n=J(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new qQ,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=wl(o,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&qE(n)}async function zE(t,e){const n=J(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HQ(t,e){const n=J(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&qE(n)}function KQ(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function qE(t){t.z_.forEach(e=>{e.next()})}var Jw,CA;(CA=Jw||(Jw={})).J_="default",CA.Cache="cache";class WE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Jw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.serializer=e}Ps(e){return li(this.serializer,e)}Is(e){return e.metadata.exists?IL(this.serializer,e.document,!1):ze.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return yt(e)}}class QQ{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=t2(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=_e.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new kA(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||le()).add(s);n.set(o,a)}}return n}async complete(){const e=await TQ(this.localStore,new kA(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await SQ(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function t2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.key=e}}class r2{constructor(e){this.key=e}}class i2{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=le(),this.mutatedKeys=le(),this.Ia=XD(e),this.Ta=new Iu(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new RA,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=ph(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),S=!0):this.Ra(f,m)||(r.track({type:2,doc:m}),S=!0,(u&&this.Ia(m,u)>0||l&&this.Ia(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(u||l)&&(a=!0)),S&&(m?(o=o.add(m),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,h)=>function(m,y){const v=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return v(m)-v(y)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,o.length!==0||l?{snapshot:new Hu(this.query,e.Ta,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new RA,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=le(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new r2(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new n2(r))}),n}pa(e){this.la=e.hs,this.Pa=le();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Hu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class JQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YQ{constructor(e){this.key=e,this.wa=!1}}class XQ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new oo(a=>JD(a),fh),this.Da=new Map,this.Ca=new Set,this.va=new Ue(G.comparator),this.Fa=new Map,this.Ma=new xE,this.xa={},this.Oa=new Map,this.Na=sa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ZQ(t,e,n=!0){const r=ny(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await s2(r,e,n,!0),i}async function eJ(t,e){const n=ny(t);await s2(n,e,!0,!1)}async function s2(t,e,n,r){const i=await zu(t.localStore,_n(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await HE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ty(t.remoteStore,i),a}async function HE(t,e,n,r,i){t.Ba=(h,f,m)=>async function(v,S,I,_){let w=S.view.da(I);w.Xi&&(w=await ym(v.localStore,S.query,!1).then(({documents:T})=>S.view.da(T,w)));const x=_&&_.targetChanges.get(S.targetId),k=_&&_.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(w,v.isPrimaryClient,x,k);return Yw(v,S.targetId,D.fa),D.snapshot}(t,h,f,m);const s=await ym(t.localStore,e,!0),o=new i2(e,s.hs),a=o.da(s.documents),u=yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);Yw(t,n,l.fa);const d=new JQ(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot}async function tJ(t,e,n){const r=J(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!fh(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wu(r.remoteStore,i.targetId),Ku(r,i.targetId)}).catch(io)):(Ku(r,i.targetId),await qu(r.localStore,i.targetId,!0))}async function nJ(t,e){const n=J(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wu(n.remoteStore,r.targetId))}async function rJ(t,e,n){const r=JE(t);try{const i=await function(o,a){const u=J(o),l=Je.now(),d=a.reduce((m,y)=>m.add(y.key),le());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=kn(),v=le();return u.os.getEntries(m,d).next(S=>{y=S,y.forEach((I,_)=>{_.isValidDocument()||(v=v.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,y)).next(S=>{h=S;const I=[];for(const _ of a){const w=C7(_,h.get(_.key).overlayedDocument);w!=null&&I.push(new Yi(_.key,w,jD(w.value.mapValue),Qe.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,I,a)}).next(S=>{f=S;const I=S.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(m,S.batchId,I)})}).then(()=>({batchId:f.batchId,changes:eL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new Ue(ae)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),await Xi(r,i.changes),await vl(r.remoteStore)}catch(i){const s=wl(i,"Failed to persist write");n.reject(s)}}async function o2(t,e){const n=J(t);try{const r=await IQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?ee(o.wa):i.removedDocuments.size>0&&(ee(o.wa),o.wa=!1))}),await Xi(n,r,e)}catch(r){await io(r)}}function OA(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=J(o);u.onlineState=a;let l=!1;u.queries.forEach((d,h)=>{for(const f of h.U_)f.j_(a)&&(l=!0)}),l&&qE(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iJ(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ue(G.comparator);o=o.insert(s,ze.newNoDocument(s,te.min()));const a=le().add(s),u=new gh(te.min(),new Map,new Ue(ae),o,a);await o2(r,u),r.va=r.va.remove(s),r.Fa.delete(e),QE(r)}else await qu(r.localStore,e,!1).then(()=>Ku(r,e,n)).catch(io)}async function sJ(t,e){const n=J(t),r=e.batch.batchId;try{const i=await wQ(n.localStore,e);GE(n,r,null),KE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xi(n,i)}catch(i){await io(i)}}async function oJ(t,e,n){const r=J(t);try{const i=await function(o,a){const u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(ee(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>u.localDocuments.getDocuments(l,d))})}(r.localStore,e);GE(r,e,n),KE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xi(r,i)}catch(i){await io(i)}}async function aJ(t,e){const n=J(t);ao(n.remoteStore)||B("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=J(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=wl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function KE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function GE(t,e,n){const r=J(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Ku(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||a2(t,r)})}function a2(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Wu(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),QE(t))}function Yw(t,e,n){for(const r of n)r instanceof n2?(t.Ma.addReference(r.key,e),uJ(t,r)):r instanceof r2?(B("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||a2(t,r.key)):Y()}function uJ(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(B("SyncEngine","New document in limbo: "+n),t.Ca.add(r),QE(t))}function QE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new G(_e.fromString(e)),r=t.Na.next();t.Fa.set(r,new YQ(n)),t.va=t.va.insert(n,r),ty(t.remoteStore,new Ai(_n(pl(n.path)),r,"TargetPurposeLimboResolution",Rn.oe))}}async function Xi(t,e,n){const r=J(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){const d=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(l){i.push(l);const d=LE.Ki(u.targetId,l);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,l){const d=J(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(l,f=>M.forEach(f.qi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>M.forEach(f.Qi,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!so(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const m=d.ns.get(f),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);d.ns=d.ns.insert(f,v)}}}(r.localStore,s))}async function lJ(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await jL(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new j(V.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xi(n,r.us)}}function cJ(t,e){const n=J(t),r=n.Fa.get(e);if(r&&r.wa)return le().add(r.key);{let i=le();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}async function dJ(t,e){const n=J(t),r=await ym(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&Yw(n,e.targetId,i.fa),i}async function hJ(t,e){const n=J(t);return WL(n.localStore,e).then(r=>Xi(n,r))}async function fJ(t,e,n,r){const i=J(t),s=await function(a,u){const l=J(a),d=J(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.vn(h,u).next(f=>f?l.localDocuments.getDocuments(h,f):M.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await vl(i.remoteStore):n==="acknowledged"||n==="rejected"?(GE(i,e,r||null),KE(i,e),function(a,u){J(J(a).mutationQueue).Mn(u)}(i.localStore,e)):Y(),await Xi(i,s)):B("SyncEngine","Cannot apply mutation batch with id: "+e)}async function pJ(t,e){const n=J(t);if(ny(n),JE(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await xA(n,r.toArray());n.La=!0,await Qw(n.remoteStore,!0);for(const s of i)ty(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ku(n,o),qu(n.localStore,o,!0))),Wu(n.remoteStore,o)}),await i,await xA(n,r),function(o){const a=J(o);a.Fa.forEach((u,l)=>{Wu(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new Ue(G.comparator)}(n),n.La=!1,await Qw(n.remoteStore,!1)}}async function xA(t,e,n){const r=J(t),i=[],s=[];for(const o of e){let a;const u=r.Da.get(o);if(u&&u.length!==0){a=await zu(r.localStore,_n(u[0]));for(const l of u){const d=r.ba.get(l),h=await dJ(r,d);h.snapshot&&s.push(h.snapshot)}}else{const l=await qL(r.localStore,o);a=await zu(r.localStore,l),await HE(r,u2(l),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i}function u2(t){return QD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mJ(t){return function(n){return J(J(n).persistence).Bi()}(J(t).localStore)}async function gJ(t,e,n,r){const i=J(t);if(i.La)return void B("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await WL(i.localStore,YD(s[0])),a=gh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",kt.EMPTY_BYTE_STRING);await Xi(i,o,a);break}case"rejected":await qu(i.localStore,e,!0),Ku(i,e,r);break;default:Y()}}async function yJ(t,e,n){const r=ny(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){B("SyncEngine","Adding an already active target "+i);continue}const s=await qL(r.localStore,i),o=await zu(r.localStore,s);await HE(r,u2(s),o.targetId,!1,o.resumeToken),ty(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&await qu(r.localStore,i,!1).then(()=>{Wu(r.remoteStore,i),Ku(r,i)}).catch(io)}}function ny(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iJ.bind(null,e),e.Sa.h_=HQ.bind(null,e.eventManager),e.Sa.ka=KQ.bind(null,e.eventManager),e}function JE(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oJ.bind(null,e),e}function vJ(t,e,n){const r=J(t);(async function(s,o,a){try{const u=await o.getMetadata();if(await function(m,y){const v=J(m),S=yt(y.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",I=>v.$r.getBundleMetadata(I,y.id)).then(I=>!!I&&I.createTime.compareTo(S)>=0)}(s.localStore,u))return await o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(t2(u));const l=new QQ(u,s.localStore,o.serializer);let d=await o.qa();for(;d;){const f=await l._a(d);f&&a._updateProgress(f),d=await o.qa()}const h=await l.complete();return await Xi(s,h.ca,void 0),await function(m,y){const v=J(m);return v.persistence.runTransaction("Save bundle","readwrite",S=>v.$r.saveBundleMetadata(S,y))}(s.localStore,u),a._completeWith(h.progress),Promise.resolve(h.ua)}catch(u){return Vr("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Xw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $L(this.persistence,new UL,e.initialUser,this.serializer)}createPersistence(e){return new FL(ey.Hr,this.serializer)}createSharedClientState(e){return new KL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class l2 extends Xw{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await JE(this.Qa.syncEngine),await vl(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return $L(this.persistence,new UL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new rQ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new $G(n,this.persistence);return new UG(e.asyncQueue,r)}createPersistence(e){const n=DE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new NE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,GL(),sp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new KL}}class _J extends l2{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof qv&&(this.sharedClientState.syncEngine={Zs:fJ.bind(null,n),Xs:gJ.bind(null,n),eo:yJ.bind(null,n),Bi:mJ.bind(null,n),Ys:hJ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await pJ(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=GL();if(!qv.D(n))throw new j(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=DE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qv(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class YE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lJ.bind(null,this.syncEngine),await Qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WQ}()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),r=function(s){return new RQ(s)}(e.databaseInfo);return function(s,o,a,u){return new OQ(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new NQ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>OA(this.syncEngine,n,0),function(){return PA.D()?new PA:new bQ}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,d){const h=new XQ(i,s,o,a,u,l);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=J(r);B("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await yl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Vt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new GQ(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new j(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=J(i),a={documents:s.map(h=>Cd(o.serializer,h))},u=await o.xo("BatchGetDocuments",o.serializer.databaseId,_e.emptyPath(),a,s.length),l=new Map;u.forEach(h=>{const f=F7(o.serializer,h);l.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=l.get(h.toString());ee(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=G.fromPath(r);this.mutations.push(new TE(i,this.precondition(i)))}),await async function(r,i){const s=J(r),o={writes:i.map(a=>kd(s.serializer,a))};await s.Co("Commit",s.serializer.databaseId,_e.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Y();n=te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new j(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(te.min())?Qe.exists(!1):Qe.updateTime(n):Qe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(te.min()))throw new j(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qe.updateTime(n)}return Qe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new VE(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new IJ(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!dh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!dL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=bD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function op(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XE(t);B("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>AA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>AA(e.remoteStore,i)),t._onlineComponents=e}function c2(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await op(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!c2(n))throw n;Vr("Error using user provided cache. Falling back to memory cache: "+n),await op(t,new Xw)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await op(t,new Xw);return t._offlineComponents}async function iy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await Zw(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await Zw(t,new YE))),t._onlineComponents}function d2(t){return XE(t).then(e=>e.persistence)}function ZE(t){return XE(t).then(e=>e.localStore)}function h2(t){return iy(t).then(e=>e.remoteStore)}function eT(t){return iy(t).then(e=>e.syncEngine)}function SJ(t){return iy(t).then(e=>e.datastore)}async function Gu(t){const e=await iy(t),n=e.eventManager;return n.onListen=ZQ.bind(null,e.syncEngine),n.onUnlisten=tJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nJ.bind(null,e.syncEngine),n}function bJ(t){return t.asyncQueue.enqueue(async()=>{const e=await d2(t),n=await h2(t);return e.setNetworkEnabled(!0),function(i){const s=J(i);return s.M_.delete(0),_h(s)}(n)})}function PJ(t){return t.asyncQueue.enqueue(async()=>{const e=await d2(t),n=await h2(t);return e.setNetworkEnabled(!1),async function(i){const s=J(i);s.M_.add(0),await yl(s),s.N_.set("Offline")}(n)})}function AJ(t,e){const n=new Vt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,d){const h=J(l);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new j(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=wl(a,`Failed to get document '${s} from cache`);o.reject(u)}}(await ZE(t),e,n)),n.promise}function f2(t,e,n={}){const r=new Vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const d=new ry({next:f=>{o.enqueueAndForget(()=>zE(s,h));const m=f.docs.has(a);!m&&f.fromCache?l.reject(new j(V.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&u&&u.source==="server"?l.reject(new j(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new WE(pl(a.path),d,{includeMetadataChanges:!0,ra:!0});return BE(s,h)}(await Gu(t),t.asyncQueue,e,n,r)),r.promise}function RJ(t,e){const n=new Vt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await ym(i,s,!0),u=new i2(s,a.hs),l=u.da(a.documents),d=u.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){const u=wl(a,`Failed to execute query '${s} against cache`);o.reject(u)}}(await ZE(t),e,n)),n.promise}function p2(t,e,n={}){const r=new Vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const d=new ry({next:f=>{o.enqueueAndForget(()=>zE(s,h)),f.fromCache&&u.source==="server"?l.reject(new j(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new WE(a,d,{includeMetadataChanges:!0,ra:!0});return BE(s,h)}(await Gu(t),t.asyncQueue,e,n,r)),r.promise}function CJ(t,e){const n=new ry(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){J(i).z_.add(s),s.next()}(await Gu(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){J(i).z_.delete(s)}(await Gu(t),n))}}function kJ(t,e,n,r){const i=function(o,a){let u;return u=typeof o=="string"?fL().encode(o):o,function(d,h){return new wJ(d,h)}(function(d,h){if(d instanceof Uint8Array)return NA(d,h);if(d instanceof ArrayBuffer)return NA(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,vh(e));t.asyncQueue.enqueueAndForget(async()=>{vJ(await eT(t),i,r)})}function OJ(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=J(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await ZE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e,n){if(!n)throw new j(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g2(t,e,n,r){if(e===!0&&r===!0)throw new j(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LA(t){if(!G.isDocumentKey(t))throw new j(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MA(t){if(G.isDocumentKey(t))throw new j(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Te(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sy(t);throw new j(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function y2(t,e){if(e<=0)throw new j(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RG;switch(r.type){case"firstParty":return new xG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DA.get(n);r&&(B("ComponentProvider","Removing Datastore"),DA.delete(n),r.terminate())}(this),Promise.resolve()}}function xJ(t,e,n,r={}){var i;const s=(t=Te(t,wh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Lt.MOCK_USER;else{a=gq(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Lt(l)}t._authCredentials=new CG(new SD(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class v2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new v2(this.firestore,e,this._query)}},nt=class _2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _2(this.firestore,e,this._key)}},Vs=class w2 extends wn{constructor(e,n,r){super(e,n,pl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new G(e))}withConverter(e){return new w2(this.firestore,e,this._path)}};function I2(t,e,...n){if(t=Z(t),tT("collection","path",e),t instanceof wh){const r=_e.fromString(e,...n);return MA(r),new Vs(t,null,r)}{if(!(t instanceof nt||t instanceof Vs))throw new j(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return MA(r),new Vs(t.firestore,null,r)}}function NJ(t,e){if(t=Te(t,wh),tT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new j(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wn(t,null,function(r){return new Ji(_e.emptyPath(),r)}(e))}function Im(t,e,...n){if(t=Z(t),arguments.length===1&&(e=bD.newId()),tT("doc","path",e),t instanceof wh){const r=_e.fromString(e,...n);return LA(r),new nt(t,null,new G(r))}{if(!(t instanceof nt||t instanceof Vs))throw new j(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return LA(r),new nt(t.firestore,t instanceof Vs?t.converter:null,new G(r))}}function E2(t,e){return t=Z(t),e=Z(e),(t instanceof nt||t instanceof Vs)&&(e instanceof nt||e instanceof Vs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function T2(t,e){return t=Z(t),e=Z(e),t instanceof wn&&e instanceof wn&&t.firestore===e.firestore&&fh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new VE(this,"async_queue_retry"),this.hu=()=>{const n=sp();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=sp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Vt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!so(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=jE.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Y()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function e0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class LJ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=-1;let ct=class extends wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new DJ}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||S2(this),this._firestoreClient.terminate()}};function Bt(t){return t._firestoreClient||S2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function S2(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,d){return new a7(a,u,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,m2(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TJ(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function VJ(t,e){P2(t=Te(t,ct));const n=Bt(t);if(n._uninitializedComponentsProvider)throw new j(V.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new YE;return b2(n,i,new l2(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function FJ(t){P2(t=Te(t,ct));const e=Bt(t);if(e._uninitializedComponentsProvider)throw new j(V.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new YE;return b2(e,r,new _J(r,n.cacheSizeBytes))}function b2(t,e,n){const r=new Vt;return t.asyncQueue.enqueue(async()=>{try{await op(t,n),await Zw(t,e),r.resolve()}catch(i){const s=i;if(!c2(s))throw s;Vr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function UJ(t){if(t._initialized&&!t._terminated)throw new j(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ui.D())return Promise.resolve();const i=r+"main";await ui.delete(i)}(DE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function $J(t){return function(n){const r=new Vt;return n.asyncQueue.enqueueAndForget(async()=>aJ(await eT(n),r)),r.promise}(Bt(t=Te(t,ct)))}function jJ(t){return bJ(Bt(t=Te(t,ct)))}function BJ(t){return PJ(Bt(t=Te(t,ct)))}function zJ(t,e){const n=Bt(t=Te(t,ct)),r=new LJ;return kJ(n,t._databaseId,e,r),r}function qJ(t,e){return OJ(Bt(t=Te(t,ct)),e).then(n=>n?new wn(t,null,n.query):null)}function P2(t){if(t._initialized||t._terminated)throw new j(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(kt.fromBase64String(e))}catch(n){throw new j(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ=/^__.*__$/;class HJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class A2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class ay{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Em(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(R2(this.fu)&&WJ.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class KJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}Fu(e,n,r,i=!1){return new ay({fu:e,methodName:n,vu:r,path:Ge.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function va(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new KJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uy(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);uT("Data must be an object, but it was:",o,r);const a=O2(r,o);let u,l;if(s.merge)u=new Cn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=t0(e,h,n);if(!o.contains(f))throw new j(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);N2(d,f)||d.push(f)}u=new Cn(d),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new HJ(new Kt(a),u,l)}class Ih extends ya{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function C2(t,e,n){return new ay({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nT extends ya{_toFieldTransform(e){return new mh(e.path,new $u)}isEqual(e){return e instanceof nT}}class rT extends ya{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=C2(this,e,!0),r=this.Mu.map(s=>_a(s,n)),i=new ta(r);return new mh(e.path,i)}isEqual(e){return e instanceof rT&&Go(this.Mu,e.Mu)}}class iT extends ya{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=C2(this,e,!0),r=this.Mu.map(s=>_a(s,n)),i=new na(r);return new mh(e.path,i)}isEqual(e){return e instanceof iT&&Go(this.Mu,e.Mu)}}class sT extends ya{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new ju(e.serializer,iL(e.serializer,this.xu));return new mh(e.path,n)}isEqual(e){return e instanceof sT&&this.xu===e.xu}}function oT(t,e,n,r){const i=t.Fu(1,e,n);uT("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();ga(r,(u,l)=>{const d=lT(e,u,n);l=Z(l);const h=i.Su(d);if(l instanceof Ih)s.push(d);else{const f=_a(l,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Cn(s);return new A2(o,a,i.fieldTransforms)}function aT(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[t0(e,r,n)],u=[i];if(s.length%2!=0)throw new j(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(t0(e,s[f])),u.push(s[f+1]);const l=[],d=Kt.empty();for(let f=a.length-1;f>=0;--f)if(!N2(l,a[f])){const m=a[f];let y=u[f];y=Z(y);const v=o.Su(m);if(y instanceof Ih)l.push(m);else{const S=_a(y,v);S!=null&&(l.push(m),d.set(m,S))}}const h=new Cn(l);return new A2(d,h,o.fieldTransforms)}function k2(t,e,n,r=!1){return _a(n,t.Fu(r?4:3,e))}function _a(t,e){if(x2(t=Z(t)))return uT("Unsupported field value:",e,t),O2(t,e);if(t instanceof ya)return function(r,i){if(!R2(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=_a(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Z(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:Bu(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bu(i.serializer,s)}}if(r instanceof oy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof di)return{bytesValue:gL(i.serializer,r._byteString)};if(r instanceof nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${sy(r)}`)}(t,e)}function O2(t,e){const n={};return FD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{const s=_a(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function x2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof oy||t instanceof di||t instanceof nt||t instanceof ya)}function uT(t,e,n){if(!x2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sy(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function t0(t,e,n){if((e=Z(e))instanceof Gs)return e._internalPath;if(typeof e=="string")return lT(t,e);throw Em("Field path arguments must be of type string or ",t,!1,void 0,n)}const GJ=new RegExp("[~\\*/\\[\\]]");function lT(t,e,n){if(e.search(GJ)>=0)throw Em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gs(...e.split("."))._internalPath}catch{throw Em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Em(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new j(V.INVALID_ARGUMENT,a+t+u)}function N2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QJ extends Od{data(){return super.data()}}function ly(t,e){return typeof e=="string"?lT(t,e):e instanceof Gs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cT{}class Eh extends cT{}function cs(t,e,...n){let r=[];e instanceof cT&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof dT).length,a=s.filter(u=>u instanceof cy).length;if(o>1||o>0&&a>0)throw new j(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cy extends Eh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cy(e,n,r)}_apply(e){const n=this._parse(e);return M2(e._query,n),new wn(e.firestore,e.converter,$w(e._query,n))}_parse(e){const n=va(e.firestore);return function(s,o,a,u,l,d,h){let f;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new j(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){UA(h,d);const m=[];for(const y of h)m.push(FA(u,s,y));f={arrayValue:{values:m}}}else f=FA(u,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||UA(h,d),f=k2(a,o,h,d==="in"||d==="not-in");return we.create(l,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JJ(t,e,n){const r=e,i=ly("where",t);return cy._create(i,r,n)}class dT extends cT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ke.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)M2(o,u),o=$w(o,u)}(e._query,n),new wn(e.firestore,e.converter,$w(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hT extends Eh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hT(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new j(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rd(s,o)}(e._query,this._field,this._direction);return new wn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ji(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YJ(t,e="asc"){const n=e,r=ly("orderBy",t);return hT._create(r,n)}class dy extends Eh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dy(e,n,r)}_apply(e){return new wn(e.firestore,e.converter,fm(e._query,this._limit,this._limitType))}}function XJ(t){return y2("limit",t),dy._create("limit",t,"F")}function ZJ(t){return y2("limitToLast",t),dy._create("limitToLast",t,"L")}class hy extends Eh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hy(e,n,r)}_apply(e){const n=L2(e,this.type,this._docOrFields,this._inclusive);return new wn(e.firestore,e.converter,function(i,s){return new Ji(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function eY(...t){return hy._create("startAt",t,!0)}function tY(...t){return hy._create("startAfter",t,!1)}class fy extends Eh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new fy(e,n,r)}_apply(e){const n=L2(e,this.type,this._docOrFields,this._inclusive);return new wn(e.firestore,e.converter,function(i,s){return new Ji(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function nY(...t){return fy._create("endBefore",t,!1)}function rY(...t){return fy._create("endAt",t,!0)}function L2(t,e,n,r){if(n[0]=Z(n[0]),n[0]instanceof Od)return function(s,o,a,u,l){if(!u)throw new j(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of wu(s))if(h.field.isKeyField())d.push(Zo(o,u.key));else{const f=u.data.field(h.field);if(Qg(f))throw new j(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new j(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new Hs(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=va(t.firestore);return function(o,a,u,l,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new j(V.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const v=d[y];if(f[y].field.isKeyField()){if(typeof v!="string")throw new j(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof v}`);if(!IE(o)&&v.indexOf("/")!==-1)throw new j(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${v}' contains a slash.`);const S=o.path.child(_e.fromString(v));if(!G.isDocumentKey(S))throw new j(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const I=new G(S);m.push(Zo(a,I))}else{const S=k2(u,l,v);m.push(S)}}return new Hs(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function FA(t,e,n){if(typeof(n=Z(n))=="string"){if(n==="")throw new j(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IE(e)&&n.indexOf("/")!==-1)throw new j(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_e.fromString(n));if(!G.isDocumentKey(r))throw new j(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zo(t,new G(r))}if(n instanceof nt)return Zo(t,n._key);throw new j(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sy(n)}.`)}function UA(t,e){if(!Array.isArray(t)||t.length===0)throw new j(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M2(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new j(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fT{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ga(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new oy(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_E(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);ee(AL(r));const i=new qs(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class iY extends fT{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let zi=class extends Od{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},zc=class extends zi{data(e={}){return super.data(e)}},Qs=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zc(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:sY(a.type),doc:u,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function sY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function V2(t,e){return t instanceof zi&&e instanceof zi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Qs&&e instanceof Qs&&t._firestore===e._firestore&&T2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t){t=Te(t,nt);const e=Te(t.firestore,ct);return f2(Bt(e),t._key).then(n=>pT(e,t,n))}class wa extends fT{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function aY(t){t=Te(t,nt);const e=Te(t.firestore,ct),n=Bt(e),r=new wa(e);return AJ(n,t._key).then(i=>new zi(e,r,t._key,i,new No(i!==null&&i.hasLocalMutations,!0),t.converter))}function uY(t){t=Te(t,nt);const e=Te(t.firestore,ct);return f2(Bt(e),t._key,{source:"server"}).then(n=>pT(e,t,n))}function lY(t){t=Te(t,wn);const e=Te(t.firestore,ct),n=Bt(e),r=new wa(e);return D2(t._query),p2(n,t._query).then(i=>new Qs(e,r,t,i))}function cY(t){t=Te(t,wn);const e=Te(t.firestore,ct),n=Bt(e),r=new wa(e);return RJ(n,t._query).then(i=>new Qs(e,r,t,i))}function dY(t){t=Te(t,wn);const e=Te(t.firestore,ct),n=Bt(e),r=new wa(e);return p2(n,t._query,{source:"server"}).then(i=>new Qs(e,r,t,i))}function $A(t,e,n){t=Te(t,nt);const r=Te(t.firestore,ct),i=py(t.converter,e,n);return Th(r,[uy(va(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qe.none())])}function jA(t,e,n,...r){t=Te(t,nt);const i=Te(t.firestore,ct),s=va(i);let o;return o=typeof(e=Z(e))=="string"||e instanceof Gs?aT(s,"updateDoc",t._key,e,n,r):oT(s,"updateDoc",t._key,e),Th(i,[o.toMutation(t._key,Qe.exists(!0))])}function hY(t){return Th(Te(t.firestore,ct),[new gl(t._key,Qe.none())])}function fY(t,e){const n=Te(t.firestore,ct),r=Im(t),i=py(t.converter,e);return Th(n,[uy(va(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qe.exists(!1))]).then(()=>r)}function F2(t,...e){var n,r,i;t=Z(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||e0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(e0(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,d;if(t instanceof nt)l=Te(t.firestore,ct),d=pl(t._key.path),u={next:h=>{e[o]&&e[o](pT(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Te(t,wn);l=Te(h.firestore,ct),d=h._query;const f=new wa(l);u={next:m=>{e[o]&&e[o](new Qs(l,f,h,m))},error:e[o+1],complete:e[o+2]},D2(t._query)}return function(f,m,y,v){const S=new ry(v),I=new WE(m,S,y);return f.asyncQueue.enqueueAndForget(async()=>BE(await Gu(f),I)),()=>{S.$a(),f.asyncQueue.enqueueAndForget(async()=>zE(await Gu(f),I))}}(Bt(l),d,a,u)}function pY(t,e){return CJ(Bt(t=Te(t,ct)),e0(e)?e:{next:e})}function Th(t,e){return function(r,i){const s=new Vt;return r.asyncQueue.enqueueAndForget(async()=>rJ(await eT(r),i,s)),s.promise}(Bt(t),e)}function pT(t,e,n){const r=n.docs.get(e._key),i=new wa(t);return new zi(t,i,e._key,r,new No(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gY=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=va(e)}set(e,n,r){this._verifyNotCommitted();const i=ws(e,this._firestore),s=py(i.converter,n,r),o=uy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Qe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ws(e,this._firestore);let o;return o=typeof(n=Z(n))=="string"||n instanceof Gs?aT(this._dataReader,"WriteBatch.update",s._key,n,r,i):oT(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Qe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ws(e,this._firestore);return this._mutations=this._mutations.concat(new gl(n._key,Qe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new j(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ws(t,e){if((t=Z(t)).firestore!==e)throw new j(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yY=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=va(n)}get(n){const r=ws(n,this._firestore),i=new iY(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Y();const o=s[0];if(o.isFoundDocument())return new Od(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Od(this._firestore,i,r._key,null,r.converter);throw Y()})}set(n,r,i){const s=ws(n,this._firestore),o=py(s.converter,r,i),a=uy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ws(n,this._firestore);let a;return a=typeof(r=Z(r))=="string"||r instanceof Gs?aT(this._dataReader,"Transaction.update",o._key,r,i,s):oT(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ws(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ws(e,this._firestore),r=new wa(this._firestore);return super.get(e).then(i=>new zi(this._firestore,r,n._key,i._document,new No(!1,!1),n.converter))}};function vY(t,e,n){t=Te(t,ct);const r=Object.assign(Object.assign({},mY),n);return function(s){if(s.maxAttempts<1)throw new j(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Vt;return s.asyncQueue.enqueueAndForget(async()=>{const l=await SJ(s);new EJ(s.asyncQueue,l,a,o,u).Xa()}),u.promise}(Bt(t),i=>e(new yY(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(){return new Ih("deleteField")}function wY(){return new nT("serverTimestamp")}function IY(...t){return new rT("arrayUnion",t)}function EY(...t){return new iT("arrayRemove",t)}function TY(t){return new sT("increment",t)}(function(e,n=!0){(function(i){fl=i})(cn),ln(new Ut("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ct(new kG(r.getProvider("auth-internal")),new DG(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rt(DP,"4.6.3",e),Rt(DP,"4.6.3","esm2017")})();const SY="@firebase/firestore-compat",bY="0.3.32";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new j("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){if(typeof Uint8Array>"u")throw new j("unimplemented","Uint8Arrays are not available in this environment.")}function zA(){if(!s7())throw new j("unimplemented","Blobs are unavailable in Firestore in this environment.")}let U2=class n0{constructor(e){this._delegate=e}static fromBase64String(e){return zA(),new n0(di.fromBase64String(e))}static fromUint8Array(e){return BA(),new n0(di.fromUint8Array(e))}toBase64(){return zA(),this._delegate.toBase64()}toUint8Array(){return BA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){return PY(t,["next","error","complete"])}function PY(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{enableIndexedDbPersistence(e,n){return VJ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return FJ(e._delegate)}clearIndexedDbPersistence(e){return UJ(e._delegate)}}class $2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof qs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){xJ(this._delegate,e,n,r)}enableNetwork(){return jJ(this._delegate)}disableNetwork(){return BJ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,g2("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return $J(this._delegate)}onSnapshotsInSync(e){return pY(this._delegate,e)}get app(){if(!this._appCompat)throw new j("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qu(this,I2(this._delegate,e))}catch(n){throw gn(n,"collection()","Firestore.collection()")}}doc(e){try{return new dr(this,Im(this._delegate,e))}catch(n){throw gn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new mn(this,NJ(this._delegate,e))}catch(n){throw gn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return vY(this._delegate,n=>e(new j2(this,n)))}batch(){return Bt(this._delegate),new B2(new gY(this._delegate,e=>Th(this._delegate,e)))}loadBundle(e){return zJ(this._delegate,e)}namedQuery(e){return qJ(this._delegate,e).then(n=>n?new mn(this,n):null)}}class my extends fT{constructor(e){super(),this.firestore=e}convertBytes(e){return new U2(new di(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return dr.forKey(n,this.firestore,null)}}function RY(t){PG(t)}class j2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new my(e)}get(e){const n=Do(e);return this._delegate.get(n).then(r=>new xd(this._firestore,new zi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Do(e);return r?(mT("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Do(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Do(e);return this._delegate.delete(n),this}}class B2{constructor(e){this._delegate=e}set(e,n,r){const i=Do(e);return r?(mT("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Do(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Do(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class oa{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new zc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=oa.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new oa(e,new my(e),n),i.set(n,s)),s}}oa.INSTANCES=new WeakMap;class dr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new my(e)}static forPath(e,n,r){if(e.length%2!==0)throw new j("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dr(n,new nt(n._delegate,r,new G(e)))}static forKey(e,n,r){return new dr(n,new nt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Qu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qu(this.firestore,I2(this._delegate,e))}catch(n){throw gn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Z(e),e instanceof nt?E2(this._delegate,e):!1}set(e,n){n=mT("DocumentReference.set",n);try{return n?$A(this._delegate,e,n):$A(this._delegate,e)}catch(r){throw gn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?jA(this._delegate,e):jA(this._delegate,e,n,...r)}catch(i){throw gn(i,"updateDoc()","DocumentReference.update()")}}delete(){return hY(this._delegate)}onSnapshot(...e){const n=z2(e),r=q2(e,i=>new xd(this.firestore,new zi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return F2(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=aY(this._delegate):(e==null?void 0:e.source)==="server"?n=uY(this._delegate):n=oY(this._delegate),n.then(r=>new xd(this.firestore,new zi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dr(this.firestore,e?this._delegate.withConverter(oa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function gn(t,e,n){return t.message=t.message.replace(e,n),t}function z2(t){for(const e of t)if(typeof e=="object"&&!r0(e))return e;return{}}function q2(t,e){var n,r;let i;return r0(t[0])?i=t[0]:r0(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class xd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return V2(this._delegate,e._delegate)}}class Nd extends xd{data(e){const n=this._delegate.data(e);return this._delegate._converter||AG(n!==void 0),n}}class mn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new my(e)}where(e,n,r){try{return new mn(this.firestore,cs(this._delegate,JJ(e,n,r)))}catch(i){throw gn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new mn(this.firestore,cs(this._delegate,YJ(e,n)))}catch(r){throw gn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new mn(this.firestore,cs(this._delegate,XJ(e)))}catch(n){throw gn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new mn(this.firestore,cs(this._delegate,ZJ(e)))}catch(n){throw gn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new mn(this.firestore,cs(this._delegate,eY(...e)))}catch(n){throw gn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new mn(this.firestore,cs(this._delegate,tY(...e)))}catch(n){throw gn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new mn(this.firestore,cs(this._delegate,nY(...e)))}catch(n){throw gn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new mn(this.firestore,cs(this._delegate,rY(...e)))}catch(n){throw gn(n,"endAt()","Query.endAt()")}}isEqual(e){return T2(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=cY(this._delegate):(e==null?void 0:e.source)==="server"?n=dY(this._delegate):n=lY(this._delegate),n.then(r=>new i0(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=z2(e),r=q2(e,i=>new i0(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return F2(this._delegate,n,r)}withConverter(e){return new mn(this.firestore,e?this._delegate.withConverter(oa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class CY{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Nd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class i0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new mn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new CY(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Nd(this._firestore,r))})}isEqual(e){return V2(this._delegate,e._delegate)}}class Qu extends mn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dr(this.firestore,e):null}doc(e){try{return e===void 0?new dr(this.firestore,Im(this._delegate)):new dr(this.firestore,Im(this._delegate,e))}catch(n){throw gn(n,"doc()","CollectionReference.doc()")}}add(e){return fY(this._delegate,e).then(n=>new dr(this.firestore,n))}isEqual(e){return E2(this._delegate,e._delegate)}withConverter(e){return new Qu(this.firestore,e?this._delegate.withConverter(oa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Do(t){return Te(t,nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(...e){this._delegate=new Gs(...e)}static documentId(){return new gT(Ge.keyField().canonicalString())}isEqual(e){return e=Z(e),e instanceof Gs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._delegate=e}static serverTimestamp(){const e=wY();return e._methodName="FieldValue.serverTimestamp",new Ao(e)}static delete(){const e=_Y();return e._methodName="FieldValue.delete",new Ao(e)}static arrayUnion(...e){const n=IY(...e);return n._methodName="FieldValue.arrayUnion",new Ao(n)}static arrayRemove(...e){const n=EY(...e);return n._methodName="FieldValue.arrayRemove",new Ao(n)}static increment(e){const n=TY(e);return n._methodName="FieldValue.increment",new Ao(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY={Firestore:$2,GeoPoint:oy,Timestamp:Je,Blob:U2,Transaction:j2,WriteBatch:B2,DocumentReference:dr,DocumentSnapshot:xd,Query:mn,QueryDocumentSnapshot:Nd,QuerySnapshot:i0,CollectionReference:Qu,FieldPath:gT,FieldValue:Ao,setLogLevel:RY,CACHE_SIZE_UNLIMITED:MJ};function OY(t,e){t.INTERNAL.registerComponent(new Ut("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},kY)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t){OY(t,(e,n)=>new $2(e,n,new AY)),t.registerVersion(SY,bY)}xY(hl);const rc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ba={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function W2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DY=NY,LY=W2,H2=new Tn("auth","Firebase",W2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new pa("@firebase/auth");function MY(t,...e){Tm.logLevel<=de.WARN&&Tm.warn(`Auth (${cn}): ${t}`,...e)}function ap(t,...e){Tm.logLevel<=de.ERROR&&Tm.error(`Auth (${cn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,...e){throw vT(t,...e)}function Ct(t,...e){return vT(t,...e)}function yT(t,e,n){const r=Object.assign(Object.assign({},LY()),{[e]:n});return new Tn("auth","Firebase",r).create(e,{appName:t.name})}function Ft(t){return yT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Il(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jt(t,"argument-error"),yT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return H2.create(t,...e)}function H(t,e,...n){if(!t)throw vT(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ap(e),new Error(e)}function Fr(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _T(){return qA()==="http:"||qA()==="https:"}function qA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_T()||sh()||"connection"in navigator)?navigator.onLine:!0}function FY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=YI()||oh()}get(){return VY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K2=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y=new Sh(3e4,6e4);function ht(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ft(t,e,n,r,i={}){return G2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vn(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),K2.fetch()(Q2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function G2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UY),e);try{const i=new BY(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw wc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw wc(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw yT(t,d,l);Jt(t,d)}}catch(i){if(i instanceof tt)throw i;Jt(t,"network-request-failed",{message:String(i)})}}async function Zi(t,e,n,r,i={}){const s=await ft(t,e,n,r,i);return"mfaPendingCredential"in s&&Jt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Q2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wT(t.config,i):`${t.config.apiScheme}://${i}`}function jY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let BY=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ct(this.auth,"network-request-failed")),$Y.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ct(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t){return t!==void 0&&t.getResponse!==void 0}function HA(t){return t!==void 0&&t.enterprise!==void 0}let zY=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qY(t){return(await ft(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function WY(t,e){return ft(t,"GET","/v2/recaptchaConfig",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY(t,e){return ft(t,"POST","/v1/accounts:delete",e)}async function KY(t,e){return ft(t,"POST","/v1/accounts:update",e)}async function J2(t,e){return ft(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GY(t,e=!1){const n=Z(t),r=await n.getIdToken(e),i=gy(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qc(Hv(i.auth_time)),issuedAtTime:qc(Hv(i.iat)),expirationTime:qc(Hv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hv(t){return Number(t)*1e3}function gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mg(n);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function KA(t){const e=gy(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tt&&QY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JY=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qi(t,J2(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Y2(s.providerUserInfo):[],a=XY(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new s0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function YY(t){const e=Z(t);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Y2(t){return t.map(e=>{var{providerId:n}=e,r=Qi(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t,e){const n=await G2(t,{},async()=>{const r=Vn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Q2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",K2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eX(t,e){return ft(t,"POST","/v2/accounts:revokeToken",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kv=class o0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){H(e.length!==0,"internal-error");const n=KA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZY(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new o0;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new o0,this.toJSON())}_performRefresh(){return ti("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let Sm=class Ic{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new s0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qi(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GY(this,e)}reload(){return YY(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ic(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pe(this.auth.app))return Promise.reject(Ft(this.auth));const e=await this.getIdToken();return await qi(this,HY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:x,isAnonymous:k,providerData:D,stsTokenManager:T}=n;H(w&&T,e,"internal-error");const E=Kv.fromJSON(this.name,T);H(typeof w=="string",e,"internal-error"),ds(h,e.name),ds(f,e.name),H(typeof x=="boolean",e,"internal-error"),H(typeof k=="boolean",e,"internal-error"),ds(m,e.name),ds(y,e.name),ds(v,e.name),ds(S,e.name),ds(I,e.name),ds(_,e.name);const P=new Ic({uid:w,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:E,createdAt:I,lastLoginAt:_});return D&&Array.isArray(D)&&(P.providerData=D.map(A=>Object.assign({},A))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Kv;i.updateFromServerResponse(n);const s=new Ic({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ld(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];H(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Y2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Kv;a.updateFromIdToken(r);const u=new Ic({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new s0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,l),u}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Map;function Kn(t){Fr(t instanceof Function,"Expected a class definition");let e=GA.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X2=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};X2.type="NONE";const Ju=X2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,e,n){return`firebase:${t}:${e}:${n}`}let QA=class up{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$o(this.userKey,i.apiKey,s),this.fullPersistenceKey=$o("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new up(Kn(Ju),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Kn(Ju);const o=$o(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const d=await l._get(o);if(d){const h=Sm._fromJSON(e,d);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new up(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new up(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nM(e))return"Blackberry";if(rM(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||eM(e))&&!e.includes("edge/"))return"Chrome";if(bh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Z2(t=ie()){return/firefox\//i.test(t)}function IT(t=ie()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eM(t=ie()){return/crios\//i.test(t)}function tM(t=ie()){return/iemobile/i.test(t)}function bh(t=ie()){return/android/i.test(t)}function nM(t=ie()){return/blackberry/i.test(t)}function rM(t=ie()){return/webos/i.test(t)}function El(t=ie()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tX(t=ie()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function nX(t=ie()){var e;return El(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rX(){return Fg()&&document.documentMode===10}function iM(t=ie()){return El(t)||bh(t)||rM(t)||nM(t)||/windows phone/i.test(t)||tM(t)}function iX(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e=[]){let n;switch(t){case"Browser":n=JA(ie());break;case"Worker":n=`${JA(ie())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sX=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oX(t,e={}){return ft(t,"GET","/v2/passwordPolicy",ht(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX=6;let uX=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aX,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lX=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YA(this),this.idTokenSubscription=new YA(this),this.beforeStateQueue=new sX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await QA.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await J2(this,{idToken:e}),r=await Sm._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pe(this.app))return Promise.reject(Ft(this));const n=e?Z(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pe(this.app)?Promise.reject(Ft(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pe(this.app)?Promise.reject(Ft(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oX(this),n=new uX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await QA.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function dt(t){return Z(t)}let YA=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ug(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cX(t){Ph=t}function ET(t){return Ph.loadJS(t)}function dX(){return Ph.recaptchaV2Script}function hX(){return Ph.recaptchaEnterpriseScript}function fX(){return Ph.gapiScript}function oM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pX="recaptcha-enterprise",mX="NO_RECAPTCHA";let gX=class{constructor(e){this.type=pX,this.auth=dt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{WY(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new zY(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;HA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(mX)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&HA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=hX();u.length!==0&&(u+=a),ET(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}};async function XA(t,e,n,r=!1){const i=new gX(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Md(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await XA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await XA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function yX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vX(t,e,n){const r=dt(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=aM(e),{host:o,port:a}=_X(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||wX()}function aM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _X(t){const e=aM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ZA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ZA(o)}}}function ZA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){return ft(t,"POST","/v1/accounts:resetPassword",ht(t,e))}async function IX(t,e){return ft(t,"POST","/v1/accounts:update",e)}async function EX(t,e){return ft(t,"POST","/v1/accounts:signUp",e)}async function TX(t,e){return ft(t,"POST","/v1/accounts:update",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SX(t,e){return Zi(t,"POST","/v1/accounts:signInWithPassword",ht(t,e))}async function yy(t,e){return ft(t,"POST","/v1/accounts:sendOobCode",ht(t,e))}async function bX(t,e){return yy(t,e)}async function PX(t,e){return yy(t,e)}async function AX(t,e){return yy(t,e)}async function RX(t,e){return yy(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CX(t,e){return Zi(t,"POST","/v1/accounts:signInWithEmailLink",ht(t,e))}async function kX(t,e){return Zi(t,"POST","/v1/accounts:signInWithEmailLink",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Tl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,n,"signInWithPassword",SX);case"emailLink":return CX(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,r,"signUpPassword",EX);case"emailLink":return kX(e,{idToken:n,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(t,e){return Zi(t,"POST","/v1/accounts:signInWithIdp",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX="http://localhost";let aa=class a0 extends Tl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new a0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qi(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new a0(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ni(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ni(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}buildRequest(){const e={requestUri:OX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vn(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xX(t,e){return ft(t,"POST","/v1/accounts:sendVerificationCode",ht(t,e))}async function NX(t,e){return Zi(t,"POST","/v1/accounts:signInWithPhoneNumber",ht(t,e))}async function DX(t,e){const n=await Zi(t,"POST","/v1/accounts:signInWithPhoneNumber",ht(t,e));if(n.temporaryProof)throw wc(t,"account-exists-with-different-credential",n);return n}const LX={USER_NOT_FOUND:"user-not-found"};async function MX(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Zi(t,"POST","/v1/accounts:signInWithPhoneNumber",ht(t,n),LX)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Tl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new jo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new jo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return NX(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return DX(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return MX(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new jo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FX(t){const e=Or(Xr(t)).link,n=e?Or(Xr(e)).deep_link_id:null,r=Or(Xr(t)).deep_link_id;return(r?Or(Xr(r)).link:null)||r||n||e||t}class vy{constructor(e){var n,r,i,s,o,a;const u=Or(Xr(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,h=VX((i=u.mode)!==null&&i!==void 0?i:null);H(l&&d&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FX(e);try{return new vy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return Vd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vy.parseLink(n);return H(r,"argument-error"),Vd._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl=class extends es{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};class Eu extends Sl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return H("providerId"in n&&"signInMethod"in n,"argument-error"),aa._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return H(e.idToken||e.accessToken,"argument-error"),aa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Eu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Eu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Eu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Sl{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Sl{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX="http://localhost";let u0=class l0 extends Tl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ni(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ni(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new l0(r,s)}static _create(e,n){return new l0(e,n)}buildRequest(){return{requestUri:UX,returnSecureToken:!0,pendingToken:this.pendingToken}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X="saml.";class bm extends es{constructor(e){H(e.startsWith($X),"argument-error"),super(e)}static credentialFromResult(e){return bm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return bm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=u0.fromJSON(e);return H(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return u0._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Sl{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return Zi(t,"POST","/v1/accounts:signUp",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi=class c0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Sm._fromIdTokenResponse(e,r,i),o=eR(r);return new c0({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eR(r);return new c0({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function eR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jX(t){var e;if(pe(t.app))return Promise.reject(Ft(t));const n=dt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Wi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await lM(n,{returnSecureToken:!0}),i=await Wi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BX=class d0 extends tt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,d0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new d0(e,n,r,i)}};function cM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?BX._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zX(t,e){const n=Z(t);await _y(!0,n,e);const{providerUserInfo:r}=await KY(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=dM(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function TT(t,e,n=!1){const r=await qi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wi._forOperation(t,"link",r)}async function _y(t,e,n){await Ld(e);const r=dM(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";H(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t,e,n=!1){const{auth:r}=t;if(pe(r.app))return Promise.reject(Ft(r));const i="reauthenticate";try{const s=await qi(t,cM(r,i,e,t),n);H(s.idToken,r,"internal-error");const o=gy(s.idToken);H(o,r,"internal-error");const{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),Wi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e,n=!1){if(pe(t.app))return Promise.reject(Ft(t));const r="signIn",i=await cM(t,r,e),s=await Wi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function wy(t,e){return fM(dt(t),e)}async function pM(t,e){const n=Z(t);return await _y(!1,n,e.providerId),TT(n,e)}async function mM(t,e){return hM(Z(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qX(t,e){return Zi(t,"POST","/v1/accounts:signInWithCustomToken",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WX(t,e){if(pe(t.app))return Promise.reject(Ft(t));const n=dt(t),r=await qX(n,{token:e,returnSecureToken:!0}),i=await Wi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?HX._fromServerResponse(e,n):"totpInfo"in n?KX._fromServerResponse(e,n):Jt(e,"internal-error")}},HX=class gM extends Ah{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new gM(n)}},KX=class yM extends Ah{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new yM(n)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,n){var r;H(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),H(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(H(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(H(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t){const e=dt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GX(t,e,n){const r=dt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Iy(r,i,n),await Md(r,i,"getOobCode",PX)}async function QX(t,e,n){await uM(Z(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ST(t),r})}async function JX(t,e){await TX(Z(t),{oobCode:e})}async function vM(t,e){const n=Z(t),r=await uM(n,{oobCode:e}),i=r.requestType;switch(H(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(r.mfaInfo,n,"internal-error");default:H(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ah._fromServerResponse(dt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function YX(t,e){const{data:n}=await vM(Z(t),e);return n.email}async function XX(t,e,n){if(pe(t.app))return Promise.reject(Ft(t));const r=dt(t),o=await Md(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lM).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ST(t),u}),a=await Wi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ZX(t,e,n){return pe(t.app)?Promise.reject(Ft(t)):wy(Z(t),uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ST(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ(t,e,n){const r=dt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){H(a.handleCodeInApp,r,"argument-error"),a&&Iy(r,o,a)}s(i,n),await Md(r,i,"getOobCode",AX)}function tZ(t,e){const n=vy.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function nZ(t,e,n){if(pe(t.app))return Promise.reject(Ft(t));const r=Z(t),i=uo.credentialWithLink(e,n||Dd());return H(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),wy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rZ(t,e){return ft(t,"POST","/v1/accounts:createAuthUri",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iZ(t,e){const n=_T()?Dd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await rZ(Z(t),r);return i||[]}async function sZ(t,e){const n=Z(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Iy(n.auth,i,e);const{email:s}=await bX(n.auth,i);s!==t.email&&await t.reload()}async function oZ(t,e,n){const r=Z(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Iy(r.auth,s,n);const{email:o}=await RX(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aZ(t,e){return ft(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Z(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await qi(r,aZ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function lZ(t,e){const n=Z(t);return pe(n.auth.app)?Promise.reject(Ft(n.auth)):_M(n,e,null)}function cZ(t,e){return _M(Z(t),null,e)}async function _M(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await qi(t,IX(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=gy(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Tu(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new hZ(s,i);case"github.com":return new fZ(s,i);case"google.com":return new pZ(s,i);case"twitter.com":return new mZ(s,i,t.screenName||null);case"custom":case"anonymous":return new Tu(s,null);default:return new Tu(s,r,i)}}let Tu=class{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}},wM=class extends Tu{constructor(e,n,r,i){super(e,n,r),this.username=i}};class hZ extends Tu{constructor(e,n){super(e,"facebook.com",n)}}class fZ extends wM{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class pZ extends Tu{constructor(e,n){super(e,"google.com",n)}}class mZ extends wM{constructor(e,n,r){super(e,"twitter.com",n,r)}}function gZ(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:dZ(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Lo("enroll",e,n)}static _fromMfaPendingCredential(e){return new Lo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Lo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Lo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=dt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Ah._fromServerResponse(r,a));H(i.mfaPendingCredential,r,"internal-error");const o=Lo._fromMfaPendingCredential(i.mfaPendingCredential);return new bT(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const d=await Wi._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return H(n.user,r,"internal-error"),Wi._forOperation(n.user,n.operationType,l);default:Jt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function yZ(t,e){var n;const r=Z(t),i=e;return H(e.customData.operationType,r,"argument-error"),H((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),bT._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(t,e){return ft(t,"POST","/v2/accounts/mfaEnrollment:start",ht(t,e))}function _Z(t,e){return ft(t,"POST","/v2/accounts/mfaEnrollment:finalize",ht(t,e))}function wZ(t,e){return ft(t,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(t,e))}class PT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ah._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new PT(e)}async getSession(){return Lo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await qi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await qi(this.user,wZ(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Gv=new WeakMap;function IZ(t){const e=Z(t);return Gv.has(e)||Gv.set(e,PT._fromUser(e)),Gv.get(e)}const Pm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IM=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pm,"1"),this.storage.removeItem(Pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(){const t=ie();return IT(t)||El(t)}const TZ=1e3,SZ=10;class EM extends IM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EZ()&&iX(),this.fallbackToPolling=iM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EM.type="LOCAL";const AT=EM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM extends IM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TM.type="SESSION";const ua=TM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ey(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await bZ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ey.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=Rh("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return window}function AZ(t){It().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return typeof It().WorkerGlobalScope<"u"&&typeof It().importScripts=="function"}async function RZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kZ(){return RT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebaseLocalStorageDb",OZ=1,Am="firebaseLocalStorage",bM="fbase_key";class Ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ty(t,e){return t.transaction([Am],e?"readwrite":"readonly").objectStore(Am)}function xZ(){const t=indexedDB.deleteDatabase(SM);return new Ch(t).toPromise()}function h0(){const t=indexedDB.open(SM,OZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Am,{keyPath:bM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Am)?e(r):(r.close(),await xZ(),e(await h0()))})})}async function tR(t,e,n){const r=Ty(t,!0).put({[bM]:e,value:n});return new Ch(r).toPromise()}async function NZ(t,e){const n=Ty(t,!1).get(e),r=await new Ch(n).toPromise();return r===void 0?null:r.value}function nR(t,e){const n=Ty(t,!0).delete(e);return new Ch(n).toPromise()}const DZ=800,LZ=3;class PM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ey._getInstance(kZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RZ(),!this.activeServiceWorker)return;this.sender=new PZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h0();return await tR(e,Pm,"1"),await nR(e,Pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ty(i,!1).getAll();return new Ch(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PM.type="LOCAL";const Fd=PM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(t,e){return ft(t,"POST","/v2/accounts/mfaSignIn:start",ht(t,e))}function VZ(t,e){return ft(t,"POST","/v2/accounts/mfaSignIn:finalize",ht(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ=500,UZ=6e4,Sf=1e12;class $Z{constructor(e){this.auth=e,this.counter=Sf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new jZ(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Sf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Sf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Sf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class jZ{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;H(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=BZ(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},UZ)},FZ))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function BZ(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=oM("rcb"),zZ=new Sh(3e4,6e4);class qZ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=It().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return H(WZ(n),e,"argument-error"),this.shouldResolveImmediately(n)&&WA(It().grecaptcha)?Promise.resolve(It().grecaptcha):new Promise((r,i)=>{const s=It().setTimeout(()=>{i(Ct(e,"network-request-failed"))},zZ.get());It()[Qv]=()=>{It().clearTimeout(s),delete It()[Qv];const a=It().grecaptcha;if(!a||!WA(a)){i(Ct(e,"internal-error"));return}const u=a.render;a.render=(l,d)=>{const h=u(l,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${dX()}?${Vn({onload:Qv,render:"explicit",hl:n})}`;ET(o).catch(()=>{clearTimeout(s),i(Ct(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=It().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function WZ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class HZ{async load(e){return new $Z(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="recaptcha",KZ={theme:"light",type:"image"};let GZ=class{constructor(e,n,r=Object.assign({},KZ)){this.parameters=r,this.type=AM,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dt(e),this.isInvisible=this.parameters.size==="invisible",H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;H(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HZ:new qZ,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=It()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){H(_T()&&!RT(),this.auth,"internal-error"),await QZ(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await qY(this.auth);H(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function QZ(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=jo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function JZ(t,e,n){if(pe(t.app))return Promise.reject(Ft(t));const r=dt(t),i=await Sy(r,e,Z(n));return new CT(i,s=>wy(r,s))}async function YZ(t,e,n){const r=Z(t);await _y(!1,r,"phone");const i=await Sy(r.auth,e,Z(n));return new CT(i,s=>pM(r,s))}async function XZ(t,e,n){const r=Z(t);if(pe(r.auth.app))return Promise.reject(Ft(r.auth));const i=await Sy(r.auth,e,Z(n));return new CT(i,s=>mM(r,s))}async function Sy(t,e,n){var r;const i=await n.verify();try{H(typeof i=="string",t,"argument-error"),H(n.type===AM,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return H(o.type==="enroll",t,"internal-error"),(await vZ(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{H(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return H(a,t,"missing-multi-factor-info"),(await MZ(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await xX(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function ZZ(t,e){const n=Z(t);if(pe(n.auth.app))return Promise.reject(Ft(n.auth));await TT(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la=class lp{constructor(e){this.providerId=lp.PROVIDER_ID,this.auth=dt(e)}verifyPhoneNumber(e,n){return Sy(this.auth,e,Z(n))}static credential(e,n){return jo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return lp.credentialFromTaggedObject(n)}static credentialFromError(e){return lp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?jo._fromTokenResponse(n,r):null}};la.PROVIDER_ID="phone";la.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){return e?Kn(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kT=class extends Tl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function eee(t){return fM(t.auth,new kT(t),t.bypassAuthState)}function tee(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),hM(n,new kT(t),t.bypassAuthState)}async function nee(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),TT(n,new kT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RM=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eee;case"linkViaPopup":case"linkViaRedirect":return nee;case"reauthViaPopup":case"reauthViaRedirect":return tee;default:Jt(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=new Sh(2e3,1e4);async function iee(t,e,n){if(pe(t.app))return Promise.reject(Ct(t,"operation-not-supported-in-this-environment"));const r=dt(t);Il(t,e,es);const i=Ia(r,n);return new Ri(r,"signInViaPopup",e,i).executeNotNull()}async function see(t,e,n){const r=Z(t);if(pe(r.auth.app))return Promise.reject(Ct(r.auth,"operation-not-supported-in-this-environment"));Il(r.auth,e,es);const i=Ia(r.auth,n);return new Ri(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function oee(t,e,n){const r=Z(t);Il(r.auth,e,es);const i=Ia(r.auth,n);return new Ri(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ri extends RM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ri.currentPopupAction&&Ri.currentPopupAction.cancel(),Ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Rh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ct(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ct(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ree.get())};e()}}Ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee="pendingRedirect",Wc=new Map;class uee extends RM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await lee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lee(t,e){const n=kM(e),r=CM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function OT(t,e){return CM(t)._set(kM(e),"true")}function cee(){Wc.clear()}function xT(t,e){Wc.set(t._key(),e)}function CM(t){return Kn(t._redirectPersistence)}function kM(t){return $o(aee,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(t,e,n){return hee(t,e,n)}async function hee(t,e,n){if(pe(t.app))return Promise.reject(Ft(t));const r=dt(t);Il(t,e,es),await r._initializationPromise;const i=Ia(r,n);return await OT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function fee(t,e,n){return pee(t,e,n)}async function pee(t,e,n){const r=Z(t);if(Il(r.auth,e,es),pe(r.auth.app))return Promise.reject(Ft(r.auth));await r.auth._initializationPromise;const i=Ia(r.auth,n);await OT(i,r.auth);const s=await OM(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function mee(t,e,n){return gee(t,e,n)}async function gee(t,e,n){const r=Z(t);Il(r.auth,e,es),await r.auth._initializationPromise;const i=Ia(r.auth,n);await _y(!1,r,e.providerId),await OT(i,r.auth);const s=await OM(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function yee(t,e){return await dt(t)._initializationPromise,by(t,e,!1)}async function by(t,e,n=!1){if(pe(t.app))return Promise.reject(Ft(t));const r=dt(t),i=Ia(r,e),o=await new uee(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function OM(t){const e=Rh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee=10*60*1e3;let xM=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_ee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ct(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vee&&this.cachedEventUids.clear(),this.cachedEventUids.has(rR(e))}saveEventToCache(e){this.cachedEventUids.add(rR(e)),this.lastProcessedEventTime=Date.now()}};function rR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _ee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e={}){return ft(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iee=/^https?/;async function Eee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DM(t);for(const n of e)try{if(Tee(n))return}catch{}Jt(t,"unauthorized-domain")}function Tee(t){const e=Dd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Iee.test(n))return!1;if(wee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const See=new Sh(3e4,6e4);function iR(){const t=It().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bee(t){return new Promise((e,n)=>{var r,i,s;function o(){iR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iR(),n(Ct(t,"network-request-failed"))},timeout:See.get()})}if(!((i=(r=It().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=It().gapi)===null||s===void 0)&&s.load)o();else{const a=oM("iframefcb");return It()[a]=()=>{gapi.load?o():n(Ct(t,"network-request-failed"))},ET(`${fX()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw cp=null,e})}let cp=null;function Pee(t){return cp=cp||bee(t),cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee=new Sh(5e3,15e3),Ree="__/auth/iframe",Cee="emulator/auth/iframe",kee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xee(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wT(e,Cee):`https://${t.config.authDomain}/${Ree}`,r={apiKey:e.apiKey,appName:t.name,v:cn},i=Oee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vn(r).slice(1)}`}async function Nee(t){const e=await Pee(t),n=It().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:xee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ct(t,"network-request-failed"),a=It().setTimeout(()=>{s(o)},Aee.get());function u(){It().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lee=500,Mee=600,Vee="_blank",Fee="http://localhost";class sR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uee(t,e,n,r=Lee,i=Mee){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Dee),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ie().toLowerCase();n&&(a=eM(l)?Vee:n),Z2(l)&&(e=e||Fee,u.scrollbars="yes");const d=Object.entries(u).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(nX(l)&&a!=="_self")return $ee(e||"",a),new sR(null);const h=window.open(e||"",a,d);H(h,t,"popup-blocked");try{h.focus()}catch{}return new sR(h)}function $ee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="__/auth/handler",Bee="emulator/auth/handler",zee=encodeURIComponent("fac");async function f0(t,e,n,r,i,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cn,eventId:i};if(e instanceof es){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Sl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),l=u?`#${zee}=${encodeURIComponent(u)}`:"";return`${qee(t)}?${Vn(a).slice(1)}${l}`}function qee({config:t}){return t.emulator?wT(t,Bee):`https://${t.authDomain}/${jee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="webStorageSupport";class Wee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ua,this._completeRedirectFn=by,this._overrideRedirectResult=xT}async _openPopup(e,n,r,i){var s;Fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await f0(e,n,r,Dd(),i);return Uee(e,o,Rh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await f0(e,n,r,Dd(),i);return AZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nee(e),r=new xM(e);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jv,{type:Jv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Jv];o!==void 0&&n(!!o),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Eee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iM()||IT()||El()}}const Hee=Wee;class Kee{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ti("unexpected MultiFactorSessionType")}}}class NT extends Kee{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new NT(e)}_finalizeEnroll(e,n,r){return _Z(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return VZ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class LM{constructor(){}static assertion(e){return NT._fromCredential(e)}}LM.FACTOR_ID="phone";var oR="@firebase/auth",aR="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gee=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jee(t){ln(new Ut("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sM(t)},l=new lX(r,i,s,u);return yX(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ln(new Ut("auth-internal",e=>{const n=dt(e.getProvider("auth").getImmediate());return(r=>new Gee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(oR,aR,Qee(t)),Rt(oR,aR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yee=5*60;JI("authIdTokenMaxAge");function Xee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ct("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Xee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jee("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=2e3;async function ete(t,e,n){var r;const{BuildInfo:i}=ca();Fr(e.sessionId,"AuthEvent did not contain a session ID");const s=await ste(e.sessionId),o={};return El()?o.ibi=i.packageName:bh()?o.apn=i.packageName:Jt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,f0(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function tte(t){const{BuildInfo:e}=ca(),n={};El()?n.iosBundleId=e.packageName:bh()?n.androidPackageName=e.packageName:Jt(t,"operation-not-supported-in-this-environment"),await DM(t,n)}function nte(t){const{cordova:e}=ca();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,tX()?"_blank":"_system","location=yes"),n(i)})})}async function rte(t,e,n){const{cordova:r}=ca();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Ct(t,"redirect-cancelled-by-user"))},Zee))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),bh()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function ite(t){var e,n,r,i,s,o,a,u,l,d;const h=ca();H(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((u=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((d=(l=h==null?void 0:h.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function ste(t){const e=ote(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function ote(t){if(Fr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=20;class ute extends xM{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function lte(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:hte(),postBody:null,tenantId:t.tenantId,error:Ct(t,"no-auth-event")}}function cte(t,e){return p0()._set(m0(t),e)}async function uR(t){const e=await p0()._get(m0(t));return e&&await p0()._remove(m0(t)),e}function dte(t,e){var n,r;const i=pte(e);if(i.includes("/__/auth/callback")){const s=dp(i),o=s.firebaseError?fte(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Ct(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function hte(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ate;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function p0(){return Kn(AT)}function m0(t){return $o("authEvent",t.config.apiKey,t.name)}function fte(t){try{return JSON.parse(t)}catch{return null}}function pte(t){const e=dp(t),n=e.link?decodeURIComponent(e.link):void 0,r=dp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return dp(i).link||i||r||n||t}function dp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Or(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=500;class gte{constructor(){this._redirectPersistence=ua,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=by,this._overrideRedirectResult=xT}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new ute(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Jt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){ite(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),cee(),await this._originValidation(e);const o=lte(e,r,i);await cte(e,o);const a=await ete(e,o,n),u=await nte(a);return rte(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tte(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ca(),o=setTimeout(async()=>{await uR(e),n.onEvent(lR())},mte),a=async d=>{clearTimeout(o);const h=await uR(e);let f=null;h&&(d!=null&&d.url)&&(f=dte(h,d.url)),n.onEvent(f||lR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;ca().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(l)&&a({url:d}),typeof u=="function")try{u(d)}catch(h){console.error(h)}}}}const yte=gte;function lR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ct("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(t,e){dt(t)._logFramework(e)}var _te="@firebase/auth-compat",wte="0.5.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=1e3;function Hc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Ete(){return Hc()==="http:"||Hc()==="https:"}function MM(t=ie()){return!!((Hc()==="file:"||Hc()==="ionic:"||Hc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tte(){return oh()||XI()}function Ste(){return Fg()&&(document==null?void 0:document.documentMode)===11}function bte(t=ie()){return/Edge\/\d+/.test(t)}function Pte(t=ie()){return Ste()||bte(t)}function VM(){try{const t=self.localStorage,e=Rh();if(t)return t.setItem(e,"1"),t.removeItem(e),Pte()?Du():!0}catch{return DT()&&Du()}return!1}function DT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yv(){return(Ete()||sh()||MM())&&!Tte()&&VM()&&!DT()}function FM(){return MM()&&typeof document<"u"}async function Ate(){return FM()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Ite);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Rte(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn={LOCAL:"local",NONE:"none",SESSION:"session"},ic=H,UM="persistence";function Cte(t,e){if(ic(Object.values(zn).includes(e),t,"invalid-persistence-type"),oh()){ic(e!==zn.SESSION,t,"unsupported-persistence-type");return}if(XI()){ic(e===zn.NONE,t,"unsupported-persistence-type");return}if(DT()){ic(e===zn.NONE||e===zn.LOCAL&&Du(),t,"unsupported-persistence-type");return}ic(e===zn.NONE||VM(),t,"unsupported-persistence-type")}async function g0(t){await t._initializationPromise;const e=$M(),n=$o(UM,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function kte(t,e){const n=$M();if(!n)return[];const r=$o(UM,t,e);switch(n.getItem(r)){case zn.NONE:return[Ju];case zn.LOCAL:return[Fd,ua];case zn.SESSION:return[ua];default:return[]}}function $M(){var t;try{return((t=Rte())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=H;class bs{constructor(){this.browserResolver=Kn(Hee),this.cordovaResolver=Kn(yte),this.underlyingResolver=null,this._redirectPersistence=ua,this._completeRedirectFn=by,this._overrideRedirectResult=xT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return FM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ote(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Ate();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){return t.unwrap()}function xte(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(t){return BM(t)}function Dte(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Lte(t,yZ(t,e))}else if(r){const i=BM(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function BM(t){const{_tokenResponse:e}=t instanceof tt?t.customData:t;if(!e)return null;if(!(t instanceof tt)&&"temporaryProof"in e&&"phoneNumber"in e)return la.credentialFromResult(t);const n=e.providerId;if(!n||n===rc.PASSWORD)return null;let r;switch(n){case rc.GOOGLE:r=Kr;break;case rc.FACEBOOK:r=Hr;break;case rc.GITHUB:r=Gr;break;case rc.TWITTER:r=Qr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?u0._create(n,a):aa._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Eu(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof tt?r.credentialFromError(t):r.credentialFromResult(t)}function bn(t,e){return e.catch(n=>{throw n instanceof tt&&Dte(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Nte(n),additionalUserInfo:gZ(n),user:Ci.getOrCreate(i)}})}async function y0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>bn(t,n.confirm(r))}}class Lte{constructor(e,n){this.resolver=n,this.auth=xte(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return bn(jM(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this._delegate=e,this.multiFactor=IZ(e)}static getOrCreate(e){return Ci.USER_MAP.has(e)||Ci.USER_MAP.set(e,new Ci(e)),Ci.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return bn(this.auth,pM(this._delegate,e))}async linkWithPhoneNumber(e,n){return y0(this.auth,YZ(this._delegate,e,n))}async linkWithPopup(e){return bn(this.auth,oee(this._delegate,e,bs))}async linkWithRedirect(e){return await g0(dt(this.auth)),mee(this._delegate,e,bs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return bn(this.auth,mM(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return y0(this.auth,XZ(this._delegate,e,n))}reauthenticateWithPopup(e){return bn(this.auth,see(this._delegate,e,bs))}async reauthenticateWithRedirect(e){return await g0(dt(this.auth)),fee(this._delegate,e,bs)}sendEmailVerification(e){return sZ(this._delegate,e)}async unlink(e){return await zX(this._delegate,e),this}updateEmail(e){return lZ(this._delegate,e)}updatePassword(e){return cZ(this._delegate,e)}updatePhoneNumber(e){return ZZ(this._delegate,e)}updateProfile(e){return uZ(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return oZ(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ci.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=H;let v0=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;sc(r,"invalid-api-key",{appName:e.name}),sc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?bs:void 0;this._delegate=n.initialize({options:{persistence:Mte(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(DY),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ci.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){vX(this._delegate,e,n)}applyActionCode(e){return JX(this._delegate,e)}checkActionCode(e){return vM(this._delegate,e)}confirmPasswordReset(e,n){return QX(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return bn(this._delegate,XX(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return iZ(this._delegate,e)}isSignInWithEmailLink(e){return tZ(this._delegate,e)}async getRedirectResult(){sc(Yv(),this._delegate,"operation-not-supported-in-this-environment");const e=await yee(this._delegate,bs);return e?bn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){vte(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=cR(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=cR(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return eZ(this._delegate,e,n)}sendPasswordResetEmail(e,n){return GX(this._delegate,e,n||void 0)}async setPersistence(e){Cte(this._delegate,e);let n;switch(e){case zn.SESSION:n=ua;break;case zn.LOCAL:n=await Kn(Fd)._isAvailable()?Fd:AT;break;case zn.NONE:n=Ju;break;default:return Jt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return bn(this._delegate,jX(this._delegate))}signInWithCredential(e){return bn(this._delegate,wy(this._delegate,e))}signInWithCustomToken(e){return bn(this._delegate,WX(this._delegate,e))}signInWithEmailAndPassword(e,n){return bn(this._delegate,ZX(this._delegate,e,n))}signInWithEmailLink(e,n){return bn(this._delegate,nZ(this._delegate,e,n))}signInWithPhoneNumber(e,n){return y0(this._delegate,JZ(this._delegate,e,n))}async signInWithPopup(e){return sc(Yv(),this._delegate,"operation-not-supported-in-this-environment"),bn(this._delegate,iee(this._delegate,e,bs))}async signInWithRedirect(e){return sc(Yv(),this._delegate,"operation-not-supported-in-this-environment"),await g0(this._delegate),dee(this._delegate,e,bs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return YX(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};v0.Persistence=zn;function cR(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Ci.getOrCreate(o)),error:e,complete:n}}function Mte(t,e){const n=kte(t,e);if(typeof self<"u"&&!n.includes(Fd)&&n.push(Fd),typeof window<"u")for(const r of[AT,ua])n.includes(r)||n.push(r);return n.includes(Ju)||n.push(Ju),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.providerId="phone",this._delegate=new la(jM(hl.auth()))}static credential(e,n){return la.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}LT.PHONE_SIGN_IN_METHOD=la.PHONE_SIGN_IN_METHOD;LT.PROVIDER_ID=la.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=H;class Fte{constructor(e,n,r=hl.app()){var i;Vte((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new GZ(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute="auth-compat";function $te(t){t.INTERNAL.registerComponent(new Ut(Ute,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new v0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ba.EMAIL_SIGNIN,PASSWORD_RESET:Ba.PASSWORD_RESET,RECOVER_EMAIL:Ba.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ba.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ba.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ba.VERIFY_EMAIL}},EmailAuthProvider:uo,FacebookAuthProvider:Hr,GithubAuthProvider:Gr,GoogleAuthProvider:Kr,OAuthProvider:Eu,SAMLAuthProvider:bm,PhoneAuthProvider:LT,PhoneMultiFactorGenerator:LM,RecaptchaVerifier:Fte,TwitterAuthProvider:Qr,Auth:v0,AuthCredential:Tl,Error:tt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(_te,wte)}$te(hl);const jte={apiKey:"AIzaSyBs8Qq1VyupUW-yyqqVzu34owklsliT0Ns",authDomain:"clone-cf240.firebaseapp.com",projectId:"clone-cf240",storageBucket:"clone-cf240.appspot.com",messagingSenderId:"436199810616",appId:"1:436199810616:web:75798ec5442794e2e228cd",measurementId:"G-C4YMV84MF3"},MT=hl.initializeApp(jte);o8(MT);const Rm=SG(MT),zM=MT.firestore();function Bte(){var i;const[{user:t,basket:e},n]=F.useContext(Gi),r=e==null?void 0:e.reduce((s,o)=>o.amount+s,0);return R.jsxs("section",{className:$n.fixed,children:[R.jsxs("div",{className:$n.header_container,children:[R.jsx("div",{className:$n.header_image,children:R.jsx(Oo,{to:"/",children:R.jsx("img",{src:Ux,alt:"descrAmazon logo",width:"100",height:"48"})})}),R.jsxs("div",{className:$n.header_delivery_add,children:[R.jsx("div",{children:R.jsx(Y9,{})}),R.jsxs("div",{children:[R.jsx("p",{children:"Delivering to Tucker 30084"}),R.jsx("p",{className:$n.bold_text,children:"Update Location"})]})]}),R.jsxs("div",{className:$n.header_search,children:[R.jsx("select",{children:R.jsx("option",{value:"All",children:"All"})}),R.jsx("input",{type:"text"}),R.jsx(X9,{size:25})]}),R.jsxs("div",{className:$n.user_info,children:[R.jsxs("div",{className:$n.user_language,children:[R.jsx("span",{className:"fi fi-us"}),R.jsx("select",{children:R.jsx("option",{value:"EN",children:"EN"})})]}),R.jsx(Oo,{to:!t&&"/Auth",className:$n.user_account,children:R.jsx("div",{children:t?R.jsxs(R.Fragment,{children:[R.jsxs("p",{children:["Hello ",(i=t==null?void 0:t.email)==null?void 0:i.split("@")[0]]}),R.jsx("span",{onClick:()=>Rm.signOut(),children:"Sign out"})]}):R.jsxs(R.Fragment,{children:[R.jsx("p",{children:"Hello, Sign in"}),R.jsx("p",{className:$n.bold_text,children:"Accounts and Lists"})]})})}),R.jsxs(Oo,{to:"/Orders",className:$n.user_order,children:[R.jsx("p",{children:"Returns"}),R.jsx("p",{className:$n.bold_text,children:"& Orders"})]}),R.jsxs(Oo,{to:"/Cart",className:$n.user_cart,children:[R.jsx(Z9,{size:35}),R.jsx("span",{children:r})]})]})]}),R.jsx(sq,{})]})}function bl({children:t}){return R.jsxs("div",{children:[R.jsx(Bte,{}),t]})}function zte(){return R.jsxs(bl,{children:[R.jsx(Aj,{}),R.jsx(Nj,{}),R.jsx(x9,{})]})}const qte="_login_ugc2g_1",Wte="_login__container_ugc2g_27",Hte="_login__signInButton_ugc2g_107",Kte="_login__registerButton_ugc2g_137",bf={login:qte,login__container:Wte,login__signInButton:Hte,login__registerButton:Kte};function Gte(){var m,y;const[t,e]=F.useState(""),[n,r]=F.useState(""),[i,s]=F.useState(""),[{user:o},a]=F.useContext(Gi),[u,l]=F.useState({signIn:!1,signUp:!1}),d=Gm(),h=Hd(),f=async v=>{v.preventDefault(),v.target.name=="signin"?(l({...u,signIn:!0}),lK(Rm,t,n).then(S=>{var I;a({type:cr.SET_USER,user:S.user}),l({...u,signIn:!1}),d(((I=h==null?void 0:h.state)==null?void 0:I.redirect)||"/")}).catch(S=>{s(S.message),l({...u,signIn:!1})})):(l({...u,signUp:!0}),uK(Rm,t,n).then(S=>{var I;console.log(S),a({type:cr.SET_USER,user:S.user}),l({...u,signUp:!1}),d(((I=h==null?void 0:h.state)==null?void 0:I.redirect)||"/")}).catch(S=>{s(S.message),l({...u,signUp:!1})}))};return R.jsxs("section",{className:bf.login,children:[R.jsx("a",{children:R.jsx("img",{src:Ux,alt:"descrAmazon logo"})}),R.jsxs("div",{className:bf.login__container,children:[R.jsx("h1",{children:"Sign In"}),((m=h==null?void 0:h.state)==null?void 0:m.msg)&&R.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(y=h==null?void 0:h.state)==null?void 0:y.msg}),R.jsxs("form",{action:"",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",children:"Email"}),R.jsx("input",{value:t,onChange:v=>e(v.target.value),type:"email",id:"email"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",children:"Password"}),R.jsx("input",{value:n,onChange:v=>r(v.target.value),type:"password",id:"password"})]}),R.jsx("button",{type:"submit",onClick:f,name:"signin",className:bf.login__signInButton,children:u.signIn?R.jsx(yw,{color:"#000",size:15}):"Sign In"})]}),R.jsx("p",{children:"By signing-in, you agree to our conditions of use and sale. Please see our privacy Notice, out cookies Notice and our Interest-Bases Ads Notice."}),R.jsx("button",{type:"submit",onClick:f,name:"signup",className:bf.login__registerButton,children:u.signUp?R.jsx(yw,{color:"#000",size:15}):"Create your Amazon Accout"}),i&&R.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const Qte="_container_6bmgh_1",Jte="_cart_product_6bmgh_19",Yte="_btn_container_6bmgh_27",Xte="_btn_6bmgh_27",Zte="_subtotal_6bmgh_61",ene="_cart__container_6bmgh_67",yo={container:Qte,cart_product:Jte,btn_container:Yte,btn:Xte,subtotal:Zte,cart__container:ene};function tne(t){return dl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function nne(t){return dl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function rne(){const[{basket:t,user:e},n]=F.useContext(Gi),r=t.reduce((o,a)=>a.price*a.amount+o,0),i=o=>{n({type:cr.ADD_TO_BASKET,item:o})},s=o=>{n({type:cr.REMOVE_FROM_BASKET,id:o})};return R.jsx(bl,{children:R.jsxs("section",{className:yo.container,children:[R.jsxs("div",{className:yo.cart__container,children:[R.jsx("h2",{children:"Hello"}),R.jsx("h3",{children:"Your shopping basket"}),R.jsx("hr",{})," ",R.jsx("br",{}),(t==null?void 0:t.length)==0?R.jsx("p",{children:"Opps ! No item in your cart"}):t==null?void 0:t.map((o,a)=>R.jsxs("section",{className:yo.cart_product,children:[R.jsx(cl,{product:o,renderDesc:!0,flex:!0,renderAdd:!1},a),R.jsxs("div",{className:yo.btn_container,children:[R.jsx("button",{className:yo.btn,onClick:()=>i(o),children:R.jsx(nne,{size:25})}),R.jsx("span",{children:o.amount}),R.jsx("button",{className:yo.btn,onClick:()=>s(o.id),children:R.jsx(tne,{size:25})})]})]}))]}),(t==null?void 0:t.length)!==0&&R.jsxs("div",{className:yo.subtotal,children:[R.jsxs("div",{children:[R.jsxs("p",{children:["Subtotal (",t==null?void 0:t.length," items) "]}),R.jsx(GI,{amount:r})]}),R.jsxs("span",{children:[R.jsx("input",{type:"checkbox"}),R.jsx("small",{children:"This order contains a gift"})]}),R.jsx(Oo,{to:"/payments",children:"Continue to checkout"})]})]})})}const ine="_payment__header_rrv11_1",sne="_payment_rrv11_1",one="_flex_rrv11_23",ane="_payment__card__container_rrv11_59",une="_payment__price_rrv11_77",lne="_payment__details_rrv11_69",cne="_loading_rrv11_125",_i={payment__header:ine,payment:sne,flex:one,payment__card__container:ane,payment__price:une,payment__details:lne,loading:cne};function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){qM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hp=function(e){return typeof e}:hp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function qM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WM(t,e){return dne(t)||hne(t,e)||fne(t,e)||pne()}function dne(t){if(Array.isArray(t))return t}function hne(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function fne(t,e){if(t){if(typeof t=="string")return fR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fR(t,e)}}function fR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jn=function(e,n,r){var i=!!r,s=ve.useRef(r);ve.useEffect(function(){s.current=r},[r]),ve.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},_0=function(e){var n=ve.useRef(e);return ve.useEffect(function(){n.current=e},[e]),n.current},Yu=function(e){return e!==null&&hp(e)==="object"},mne=function(e){return Yu(e)&&typeof e.then=="function"},gne=function(e){return Yu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},pR="[object Object]",yne=function t(e,n){if(!Yu(e)||!Yu(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===pR,o=Object.prototype.toString.call(n)===pR;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),u=Object.keys(n);if(a.length!==u.length)return!1;for(var l={},d=0;d<a.length;d+=1)l[a[d]]=!0;for(var h=0;h<u.length;h+=1)l[u[h]]=!0;var f=Object.keys(l);if(f.length!==a.length)return!1;var m=e,y=n,v=function(I){return t(m[I],y[I])};return f.every(v)},HM=function(e,n,r){return Yu(e)?Object.keys(e).reduce(function(i,s){var o=!Yu(n)||!yne(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?hR(hR({},i||{}),{},qM({},s,e[s])):i},null):null},KM="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",mR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KM;if(e===null||gne(e))return e;throw new Error(n)},vne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KM;if(mne(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return mR(i,n)})};var r=mR(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},_ne=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Py=ve.createContext(null);Py.displayName="ElementsContext";var GM=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},QM=function(e){var n=e.stripe,r=e.options,i=e.children,s=ve.useMemo(function(){return vne(n)},[n]),o=ve.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=WM(o,2),u=a[0],l=a[1];ve.useEffect(function(){var f=!0,m=function(v){l(function(S){return S.stripe?S:{stripe:v,elements:v.elements(r)}})};return s.tag==="async"&&!u.stripe?s.stripePromise.then(function(y){y&&f&&m(y)}):s.tag==="sync"&&!u.stripe&&m(s.stripe),function(){f=!1}},[s,u,r]);var d=_0(n);ve.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=_0(r);return ve.useEffect(function(){if(u.elements){var f=HM(r,h,["clientSecret","fonts"]);f&&u.elements.update(f)}},[r,h,u.elements]),ve.useEffect(function(){_ne(u.stripe)},[u.stripe]),ve.createElement(Py.Provider,{value:u},i)};QM.propTypes={stripe:Xe.any,options:Xe.object};var wne=function(e){var n=ve.useContext(Py);return GM(n,e)},Ine=function(){var e=wne("calls useElements()"),n=e.elements;return n};Xe.func.isRequired;var JM=ve.createContext(null);JM.displayName="CustomCheckoutSdkContext";var Ene=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},Tne=ve.createContext(null);Tne.displayName="CustomCheckoutContext";Xe.any,Xe.shape({clientSecret:Xe.string.isRequired,elementsOptions:Xe.object}).isRequired;var w0=function(e){var n=ve.useContext(JM),r=ve.useContext(Py);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?Ene(n,e):GM(r,e)},Sne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ot=function(e,n){var r="".concat(Sne(e),"Element"),i=function(u){var l=u.id,d=u.className,h=u.options,f=h===void 0?{}:h,m=u.onBlur,y=u.onFocus,v=u.onReady,S=u.onChange,I=u.onEscape,_=u.onClick,w=u.onLoadError,x=u.onLoaderStart,k=u.onNetworksChange,D=u.onConfirm,T=u.onCancel,E=u.onShippingAddressChange,P=u.onShippingRateChange,A=w0("mounts <".concat(r,">")),O="elements"in A?A.elements:null,N="customCheckoutSdk"in A?A.customCheckoutSdk:null,C=ve.useState(null),De=WM(C,2),Re=De[0],Yt=De[1],pt=ve.useRef(null),Q=ve.useRef(null);jn(Re,"blur",m),jn(Re,"focus",y),jn(Re,"escape",I),jn(Re,"click",_),jn(Re,"loaderror",w),jn(Re,"loaderstart",x),jn(Re,"networkschange",k),jn(Re,"confirm",D),jn(Re,"cancel",T),jn(Re,"shippingaddresschange",E),jn(Re,"shippingratechange",P),jn(Re,"change",S);var ne;v&&(e==="expressCheckout"?ne=v:ne=function(){v(Re)}),jn(Re,"ready",ne),ve.useLayoutEffect(function(){if(pt.current===null&&Q.current!==null&&(O||N)){var ge=null;N?ge=N.createElement(e,f):O&&(ge=O.create(e,f)),pt.current=ge,Yt(ge),ge&&ge.mount(Q.current)}},[O,N,f]);var oe=_0(f);return ve.useEffect(function(){if(pt.current){var ge=HM(f,oe,["paymentRequest"]);ge&&pt.current.update(ge)}},[f,oe]),ve.useLayoutEffect(function(){return function(){if(pt.current&&typeof pt.current.destroy=="function")try{pt.current.destroy(),pt.current=null}catch{}}},[]),ve.createElement("div",{id:l,className:d,ref:Q})},s=function(u){w0("mounts <".concat(r,">"));var l=u.id,d=u.className;return ve.createElement("div",{id:l,className:d})},o=n?s:i;return o.propTypes={id:Xe.string,className:Xe.string,onChange:Xe.func,onBlur:Xe.func,onFocus:Xe.func,onReady:Xe.func,onEscape:Xe.func,onClick:Xe.func,onLoadError:Xe.func,onLoaderStart:Xe.func,onNetworksChange:Xe.func,onConfirm:Xe.func,onCancel:Xe.func,onShippingAddressChange:Xe.func,onShippingRateChange:Xe.func,options:Xe.object},o.displayName=r,o.__elementType=e,o},xt=typeof window>"u",bne=ve.createContext(null);bne.displayName="EmbeddedCheckoutProviderContext";var Pne=function(){var e=w0("calls useStripe()"),n=e.stripe;return n};Ot("auBankAccount",xt);var gR=Ot("card",xt);Ot("cardNumber",xt);Ot("cardExpiry",xt);Ot("cardCvc",xt);Ot("fpxBank",xt);Ot("iban",xt);Ot("idealBank",xt);Ot("p24Bank",xt);Ot("epsBank",xt);Ot("payment",xt);Ot("expressCheckout",xt);Ot("paymentRequestButton",xt);Ot("linkAuthentication",xt);Ot("address",xt);Ot("shippingAddress",xt);Ot("paymentMethodMessaging",xt);Ot("affirmMessage",xt);Ot("afterpayClearpayMessage",xt);var yR="__sak";function YM(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var Ane=YM,I0=new Tn("auth","Firebase",YM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Su=new pa("@firebase/auth");function Rne(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Su.logLevel<=de.WARN&&Su.warn.apply(Su,mr(["Auth (".concat(cn,"): ").concat(t)],e,!1))}function fp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Su.logLevel<=de.ERROR&&Su.error.apply(Su,mr(["Auth (".concat(cn,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw FT.apply(void 0,mr([t],e,!1))}function VT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return FT.apply(void 0,mr([t],e,!1))}function XM(t,e,n){var r,i=Be(Be({},Ane()),(r={},r[e]=n,r)),s=new Tn("auth","Firebase",i);return s.create(e,{appName:t.name})}function bu(t){return XM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FT(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=mr([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,mr([i],s,!1))}return I0.create.apply(I0,mr([t],n,!1))}function he(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw FT.apply(void 0,mr([e],n,!1))}function ki(t){var e="INTERNAL ASSERTION FAILED: "+t;throw fp(e),new Error(e)}function Xu(t,e){t||ki(e)}function Cne(){return vR()==="http:"||vR()==="https:"}function vR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cne()||sh()||"connection"in navigator)?navigator.onLine:!0}function One(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xne=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,Xu(n>e,"Short delay should be less than long delay!"),this.isMobile=YI()||oh()}return t.prototype.get=function(){return kne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(t,e){Xu(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZM=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re,Dne=(re={},re.CREDENTIAL_MISMATCH="custom-token-mismatch",re.MISSING_CUSTOM_TOKEN="internal-error",re.INVALID_IDENTIFIER="invalid-email",re.MISSING_CONTINUE_URI="internal-error",re.INVALID_PASSWORD="wrong-password",re.MISSING_PASSWORD="missing-password",re.INVALID_LOGIN_CREDENTIALS="invalid-credential",re.EMAIL_EXISTS="email-already-in-use",re.PASSWORD_LOGIN_DISABLED="operation-not-allowed",re.INVALID_IDP_RESPONSE="invalid-credential",re.INVALID_PENDING_TOKEN="invalid-credential",re.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",re.MISSING_REQ_TYPE="internal-error",re.EMAIL_NOT_FOUND="user-not-found",re.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",re.EXPIRED_OOB_CODE="expired-action-code",re.INVALID_OOB_CODE="invalid-action-code",re.MISSING_OOB_CODE="internal-error",re.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",re.INVALID_ID_TOKEN="invalid-user-token",re.TOKEN_EXPIRED="user-token-expired",re.USER_NOT_FOUND="user-token-expired",re.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",re.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",re.INVALID_CODE="invalid-verification-code",re.INVALID_SESSION_INFO="invalid-verification-id",re.INVALID_TEMPORARY_PROOF="invalid-credential",re.MISSING_SESSION_INFO="missing-verification-id",re.SESSION_EXPIRED="code-expired",re.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",re.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",re.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",re.ADMIN_ONLY_OPERATION="admin-restricted-operation",re.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",re.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",re.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",re.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",re.SECOND_FACTOR_EXISTS="second-factor-already-in-use",re.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",re.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",re.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",re.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",re.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",re.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",re.MISSING_CLIENT_TYPE="missing-client-type",re.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",re.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",re.INVALID_REQ_TYPE="invalid-req-type",re);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lne=new xne(3e4,6e4);function fi(t,e){return t.tenantId&&!e.tenantId?Be(Be({},e),{tenantId:t.tenantId}):e}function Ea(t,e,n,r,i){return i===void 0&&(i={}),q(this,void 0,void 0,function(){var s=this;return W(this,function(o){return[2,eV(t,i,function(){return q(s,void 0,void 0,function(){var a,u,l,d;return W(this,function(h){switch(h.label){case 0:return a={},u={},r&&(e==="GET"?u=r:a={body:JSON.stringify(r)}),l=Vn(Be({key:t.config.apiKey},u)).slice(1),[4,t._getAdditionalHeaders()];case 1:return d=h.sent(),d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),[2,ZM.fetch()(tV(t,t.config.apiHost,n,l),Be({method:e,headers:d,referrerPolicy:"no-referrer"},a))]}})})})]})})}function eV(t,e,n){return q(this,void 0,void 0,function(){var r,i,s,o,a,u,l,d,h,f;return W(this,function(m){switch(m.label){case 0:t._canInitEmulator=!1,r=Be(Be({},Dne),e),m.label=1;case 1:return m.trys.push([1,4,,5]),i=new Vne(t),[4,Promise.race([n(),i.promise])];case 2:return s=m.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=m.sent(),"needConfirmation"in o)throw Ec(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,u=a.split(" : "),l=u[0],d=u[1],l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ec(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ec(t,"user-disabled",o);if(h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-"),d)throw XM(t,h,d);return Hi(t,h),[3,5];case 4:if(f=m.sent(),f instanceof tt)throw f;return Hi(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function Ta(t,e,n,r,i){return i===void 0&&(i={}),q(this,void 0,void 0,function(){var s;return W(this,function(o){switch(o.label){case 0:return[4,Ea(t,e,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&Hi(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function tV(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?Nne(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function Mne(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Vne=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(VT(n.auth,"network-request-failed"))},Lne.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Ec(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=VT(t,e,r);return i.customData._tokenResponse=n,i}function _R(t){return t!==void 0&&t.enterprise!==void 0}var Fne=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return Mne(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function Une(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ea(t,"GET","/v2/recaptchaConfig",fi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ne(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ea(t,"POST","/v1/accounts:delete",e)]})})}function nV(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ea(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jne(t,e){return e===void 0&&(e=!1),q(this,void 0,void 0,function(){var n,r,i,s,o;return W(this,function(a){switch(a.label){case 0:return n=Z(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),i=UT(r),he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:Kc(Xv(i.auth_time)),issuedAtTime:Kc(Xv(i.iat)),expirationTime:Kc(Xv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function Xv(t){return Number(t)*1e3}function UT(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return fp("JWT malformed, contained fewer than 3 sections"),null;try{var s=Mg(r);return s?JSON.parse(s):(fp("Failed to decode base64 JWT payload"),null)}catch(o){return fp("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function wR(t){var e=UT(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof tt&&Bne(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function Bne(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zne=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return q(n,void 0,void 0,function(){return W(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E0=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){var e;return q(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l,d,h;return W(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,Ud(t,nV(n,{idToken:r}))];case 2:return i=f.sent(),he(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rV(s.providerUserInfo):[],a=Wne(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new E0(s.createdAt,s.lastLoginAt),isAnonymous:d},Object.assign(t,h),[2]}})})}function qne(t){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return e=Z(t),[4,Cm(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function Wne(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return mr(mr([],n,!0),e,!0)}function rV(t){return t.map(function(e){var n=e.providerId,r=Qi(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(t,e){return q(this,void 0,void 0,function(){var n,r=this;return W(this,function(i){switch(i.label){case 0:return[4,eV(t,{},function(){return q(r,void 0,void 0,function(){var s,o,a,u,l,d;return W(this,function(h){switch(h.label){case 0:return s=Vn({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,u=o.apiKey,l=tV(t,a,"/v1/token","key=".concat(u)),[4,t._getAdditionalHeaders()];case 1:return d=h.sent(),d["Content-Type"]="application/x-www-form-urlencoded",[2,ZM.fetch()(l,{method:"POST",headers:d,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function Kne(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ea(t,"POST","/v2/accounts:revokeToken",fi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zv=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.updateFromIdToken=function(e){he(e.length!==0,"internal-error");var n=wR(e);this.updateTokensAndExpiration(e,null,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){return W(this,function(r){switch(r.label){case 0:return!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2]);case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return q(this,void 0,void 0,function(){var r,i,s,o;return W(this,function(a){switch(a.label){case 0:return[4,Hne(e,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new t;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return ki("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var km=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=Qi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?mr([],s.providerData,!0):[],this.metadata=new E0(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return[4,Ud(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),he(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return jne(this,e)},t.prototype.reload=function(){return qne(this)},t.prototype._assign=function(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return Be({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(Be(Be({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,Cm(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return pe(this.auth.app)?[2,Promise.reject(bu(this.auth))]:[4,this.getIdToken()];case 1:return e=n.sent(),[4,Ud(this,$ne(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return Be(Be({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Be({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,o,a,u,l,d,h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,w=n.uid,x=n.emailVerified,k=n.isAnonymous,D=n.providerData,T=n.stsTokenManager;he(w&&T,e,"internal-error");var E=Zv.fromJSON(this.name,T);he(typeof w=="string",e,"internal-error"),hs(h,e.name),hs(f,e.name),he(typeof x=="boolean",e,"internal-error"),he(typeof k=="boolean",e,"internal-error"),hs(m,e.name),hs(y,e.name),hs(v,e.name),hs(S,e.name),hs(I,e.name),hs(_,e.name);var P=new t({uid:w,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:E,createdAt:I,lastLoginAt:_});return D&&Array.isArray(D)&&(P.providerData=D.map(function(A){return Be({},A)})),S&&(P._redirectEventId=S),P},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),q(this,void 0,void 0,function(){var i,s;return W(this,function(o){switch(o.label){case 0:return i=new Zv,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,Cm(s)];case 1:return o.sent(),[2,s]}})})},t._fromGetAccountInfoResponse=function(e,n,r){return q(this,void 0,void 0,function(){var i,s,o,a,u,l;return W(this,function(d){return i=n.users[0],he(i.localId!==void 0,"internal-error"),s=i.providerUserInfo!==void 0?rV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Zv,a.updateFromIdToken(r),u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new E0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)},Object.assign(u,l),[2,u]})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IR=new Map;function Ps(t){Xu(t instanceof Function,"Expected a class definition");var e=IR.get(t);return e?(Xu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gne=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return q(this,void 0,void 0,function(){return W(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return q(this,void 0,void 0,function(){return W(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return q(this,void 0,void 0,function(){return W(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),ER=Gne;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var TR=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=pp(this.userKey,s.apiKey,o),this.fullPersistenceKey=pp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?km._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),q(this,void 0,void 0,function(){var i,s,o,a,u,l,d,h,f,m,y=this;return W(this,function(v){switch(v.label){case 0:return n.length?[4,Promise.all(n.map(function(S){return q(y,void 0,void 0,function(){return W(this,function(I){switch(I.label){case 0:return[4,S._isAvailable()];case 1:return I.sent()?[2,S]:[2,void 0]}})})}))]:[2,new t(Ps(ER),e,r)];case 1:i=v.sent().filter(function(S){return S}),s=i[0]||Ps(ER),o=pp(r,e.config.apiKey,e.name),a=null,u=0,l=n,v.label=2;case 2:if(!(u<l.length))return[3,7];d=l[u],v.label=3;case 3:return v.trys.push([3,5,,6]),[4,d._get(o)];case 4:return h=v.sent(),h?(f=km._fromJSON(e,h),d!==s&&(a=f),s=d,[3,7]):[3,6];case 5:return v.sent(),[3,6];case 6:return u++,[3,2];case 7:return m=i.filter(function(S){return S._shouldAllowMigration}),!s._shouldAllowMigration||!m.length?[2,new t(s,e,r)]:(s=m[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:v.sent(),v.label=9;case 9:return[4,Promise.all(n.map(function(S){return q(y,void 0,void 0,function(){return W(this,function(I){switch(I.label){case 0:if(S===s)return[3,4];I.label=1;case 1:return I.trys.push([1,3,,4]),[4,S._remove(o)];case 2:return I.sent(),[3,4];case 3:return I.sent(),[3,4];case 4:return[2]}})})}))];case 10:return v.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qne(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aV(e))return"Blackberry";if(uV(e))return"Webos";if(iV(e))return"Safari";if((e.includes("chrome/")||Jne(e))&&!e.includes("edge/"))return"Chrome";if(oV(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function Qne(t){return t===void 0&&(t=ie()),/firefox\//i.test(t)}function iV(t){t===void 0&&(t=ie());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jne(t){return t===void 0&&(t=ie()),/crios\//i.test(t)}function sV(t){return t===void 0&&(t=ie()),/iemobile/i.test(t)}function oV(t){return t===void 0&&(t=ie()),/android/i.test(t)}function aV(t){return t===void 0&&(t=ie()),/blackberry/i.test(t)}function uV(t){return t===void 0&&(t=ie()),/webos/i.test(t)}function lV(t){return t===void 0&&(t=ie()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yne(){return Fg()&&document.documentMode===10}function Xne(t){return t===void 0&&(t=ie()),lV(t)||oV(t)||uV(t)||aV(t)||/windows phone/i.test(t)||sV(t)}function Zne(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=SR(ie());break;case"Worker":n="".concat(SR(ie()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(cn,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ere=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(o){return new Promise(function(a,u){try{var l=e(o);a(l)}catch(d){u(d)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return q(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l;return W(this,function(d){switch(d.label){case 0:if(this.auth.currentUser===e)return[2];n=[],d.label=1;case 1:d.trys.push([1,6,,7]),r=0,i=this.queue,d.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:d.sent(),s.onAbort&&n.push(s.onAbort),d.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=d.sent(),n.reverse(),a=0,u=n;a<u.length;a++){l=u[a];try{l()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t,e){return e===void 0&&(e={}),q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ea(t,"GET","/v2/passwordPolicy",fi(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nre=6,rre=function(){function t(e){var n,r,i,s,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nre,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,o,a,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ire=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bR(this),this.idTokenSubscription=new bR(this),this.beforeStateQueue=new ere(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(function(){return q(r,void 0,void 0,function(){var i,s,o;return W(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,TR.create(this,e)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUserFromIdToken=function(e){return q(this,void 0,void 0,function(){var n,r,i;return W(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,nV(this,{idToken:e})];case 1:return n=s.sent(),[4,km._fromGetAccountInfoResponse(this,n,e)];case 2:return r=s.sent(),[4,this.directlySetCurrentUser(r)];case 3:return s.sent(),[3,6];case 4:return i=s.sent(),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),[4,this.directlySetCurrentUser(null)];case 5:return s.sent(),[3,6];case 6:return[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return q(this,void 0,void 0,function(){var r,i,s,o,a,u,l,d,h=this;return W(this,function(f){switch(f.label){case 0:return pe(this.app)?(r=this.app.settings.authIdToken,r?[2,new Promise(function(m){setTimeout(function(){return h.initializeCurrentUserFromIdToken(r).then(m,m)})})]:[2,this.directlySetCurrentUser(null)]):[4,this.assertedPersistence.getCurrentUser()];case 1:return i=f.sent(),s=i,o=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return f.sent(),a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=f.sent(),(!a||a===u)&&(l!=null&&l.user)&&(s=l.user,o=!0),f.label=4;case 4:if(!s)return[2,this.directlySetCurrentUser(null)];if(s._redirectEventId)return[3,9];if(!o)return[3,8];f.label=5;case 5:return f.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(s)];case 6:return f.sent(),[3,8];case 7:return d=f.sent(),s=i,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(d)}),[3,8];case 8:return s?[2,this.reloadAndSetCurrentUserOrClear(s)]:[2,this.directlySetCurrentUser(null)];case 9:return he(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return f.sent(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?[2,this.directlySetCurrentUser(s)]:[2,this.reloadAndSetCurrentUserOrClear(s)]}})})},t.prototype.tryRedirectSignIn=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Cm(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=One()},t.prototype._delete=function(){return q(this,void 0,void 0,function(){return W(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){return pe(this.app)?[2,Promise.reject(bu(this))]:(n=e?Z(e):null,n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))])})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r=this;return W(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return q(r,void 0,void 0,function(){return W(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return q(this,void 0,void 0,function(){return W(this,function(e){switch(e.label){case 0:return pe(this.app)?[2,Promise.reject(bu(this))]:[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return pe(this.app)?Promise.reject(bu(this)):this.queue(function(){return q(n,void 0,void 0,function(){return W(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(Ps(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return q(this,void 0,void 0,function(){var e,n;return W(this,function(r){switch(r.label){case 0:return[4,tre(this)];case 1:return e=r.sent(),n=new rre(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new Tn("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return q(this,void 0,void 0,function(){var n,r;return W(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,Kne(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return q(this,void 0,void 0,function(){var n,r,i;return W(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&Ps(e)||this._popupRedirectResolver,he(n,this,"argument-error"),r=this,[4,TR.create(this,[Ps(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return q(this,void 0,void 0,function(){var i=this;return W(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return q(i,void 0,void 0,function(){return W(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return q(this,void 0,void 0,function(){var n=this;return W(this,function(r){return e===this.currentUser?[2,this.queue(function(){return q(n,void 0,void 0,function(){return W(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(u,this,"internal-error"),u.then(function(){a||o(s.currentUser)}),typeof n=="function"){var l=e.addObserver(n,r,i);return function(){a=!0,l()}}else{var d=e.addObserver(n);return function(){a=!0,d()}}},t.prototype.directlySetCurrentUser=function(e){return q(this,void 0,void 0,function(){return W(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cV(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return q(this,void 0,void 0,function(){var n,r,i,s;return W(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&Rne("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function dV(t){return Z(t)}var bR=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=Ug(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hV={loadJS:function(){return q(this,void 0,void 0,function(){return W(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sre(t){return hV.loadJS(t)}function ore(){return hV.recaptchaEnterpriseScript}var are="recaptcha-enterprise",ure="NO_RECAPTCHA",lre=function(){function t(e){this.type=are,this.auth=dV(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),q(this,void 0,void 0,function(){function r(o){return q(this,void 0,void 0,function(){var a=this;return W(this,function(u){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(l,d){return q(a,void 0,void 0,function(){return W(this,function(h){return Une(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{var m=new Fne(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,l(m.siteKey)}}).catch(function(f){d(f)}),[2]})})})]})})}function i(o,a,u){var l=window.grecaptcha;_R(l)?l.enterprise.ready(function(){l.enterprise.execute(o,{action:e}).then(function(d){a(d)}).catch(function(){a(ure)})}):u(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return W(this,function(o){return[2,new Promise(function(a,u){r(s.auth).then(function(l){if(!n&&_R(window.grecaptcha))i(l,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}var d=ore();d.length!==0&&(d+=l),sre(d).then(function(){i(l,a,u)}).catch(function(h){u(h)})}}).catch(function(l){u(l)})})]})})},t}();function PR(t,e,n,r){return r===void 0&&(r=!1),q(this,void 0,void 0,function(){var i,s,o;return W(this,function(a){switch(a.label){case 0:i=new lre(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=Be({},e),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function AR(t,e,n,r){var i;return q(this,void 0,void 0,function(){var s,o=this;return W(this,function(a){switch(a.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,PR(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(u){return q(o,void 0,void 0,function(){var l;return W(this,function(d){switch(d.label){case 0:return u.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,PR(t,e,n,n==="getOobCode")]);case 1:return l=d.sent(),[2,r(t,l)];case 2:return[2,Promise.reject(u)]}})})})]}})})}function cre(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return ki("not implemented")},t.prototype._getIdTokenResponse=function(e){return ki("not implemented")},t.prototype._linkToIdToken=function(e,n){return ki("not implemented")},t.prototype._getReauthenticationResolver=function(e){return ki("not implemented")},t}();function dre(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ea(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ta(t,"POST","/v1/accounts:signInWithPassword",fi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ta(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))]})})}function pre(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ta(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(n,r,i,s){s===void 0&&(s=null);var o=t.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,AR(n,r,"signInWithPassword",hre)];case"emailLink":return[2,fre(n,{email:this._email,oobCode:this._password})];default:Hi(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return q(this,void 0,void 0,function(){var i;return W(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,AR(n,i,"signUpPassword",dre)];case"emailLink":return[2,pre(n,{idToken:r,email:this._email,oobCode:this._password})];default:Hi(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e})(kh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ta(t,"POST","/v1/accounts:signInWithIdp",fi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mre="http://localhost",Zu=function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):Hi("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=Qi(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new e(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Di(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Di(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Di(n,r)},e.prototype.buildRequest=function(){var n={requestUri:mre,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=Vn(r)}return n},e}(kh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_;function gre(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",fi(t,e))]})})}function yre(t,e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return[4,Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",fi(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Ec(t,"account-exists-with-different-credential",n);return[2,n]}})})}var vre=(e_={},e_.USER_NOT_FOUND="user-not-found",e_);function _re(t,e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){return n=Be(Be({},e),{operation:"REAUTH"}),[2,Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",fi(t,n),vre)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return gre(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return yre(n,Be({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return _re(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new e({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},e})(kh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fV=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oh=function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return mr([],this.scopes,!0)},e}(fV);(function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return he("providerId"in r&&"signInMethod"in r,"argument-error"),Zu._fromParams(r)},e.prototype.credential=function(n){return this._credential(Be(Be({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return he(n.idToken||n.accessToken,"argument-error"),Zu._fromParams(Be(Be({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,u=i.pendingToken,l=i.nonce,d=i.providerId;if(!o&&!a&&!s&&!u||!d)return null;try{return new e(d)._credential({idToken:s,accessToken:o,nonce:l,pendingToken:u})}catch{return null}},e})(Oh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return Zu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(Oh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return Zu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return e.credential(s,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(Oh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return Zu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(Oh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wre="http://localhost",RR=function(t){Ye(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Di(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Di(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Di(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new e(i,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:wre,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(kh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ire="saml.";(function(t){Ye(e,t);function e(n){return he(n.startsWith(Ire),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=RR.fromJSON(n);return he(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return RR._create(o,s)}catch{return null}},e})(fV);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return Zu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return e.credential(s,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(Oh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $T=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),q(this,void 0,void 0,function(){var s,o,a;return W(this,function(u){switch(u.label){case 0:return[4,km._fromIdTokenResponse(e,r,i)];case 1:return s=u.sent(),o=CR(r),a=new t({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return q(this,void 0,void 0,function(){var i;return W(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=CR(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function CR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ere=function(t){Ye(e,t);function e(n,r,i,s){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(tt);function pV(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?Ere._fromErrorAndOperation(t,s,e,r):s})}function Tre(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r,i,s,o,a,u;return W(this,function(l){switch(l.label){case 0:return i=Ud,s=[t],a=(o=e)._linkToIdToken,u=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,u.concat([l.sent()])),n]))];case 2:return r=l.sent(),[2,$T._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r,i,s,o,a,u;return W(this,function(l){switch(l.label){case 0:if(r=t.auth,pe(r.app))return[2,Promise.reject(bu(r))];i="reauthenticate",l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Ud(t,pV(r,i,e,t),n)];case 2:return s=l.sent(),he(s.idToken,r,"internal-error"),o=UT(s.idToken),he(o,r,"internal-error"),a=o.sub,he(t.uid===a,r,"user-mismatch"),[2,$T._forOperation(t,i,s)];case 3:throw u=l.sent(),(u==null?void 0:u.code)==="auth/".concat("user-not-found")&&Hi(r,"user-mismatch"),u;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r,i,s;return W(this,function(o){switch(o.label){case 0:return pe(t.app)?[2,Promise.reject(bu(t))]:(r="signIn",[4,pV(t,r,e)]);case 1:return i=o.sent(),[4,$T._fromIdTokenResponse(t,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mV=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?Pre._fromServerResponse(e,n):"totpInfo"in n?Are._fromServerResponse(e,n):Hi(e,"internal-error")},t}(),Pre=function(t){Ye(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(mV),Are=function(t){Ye(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(mV),jT=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),gV=function(t){Ye(e,t);function e(n,r,i,s){var o=t.call(this,n,r,i)||this;return o.username=s,o}return e}(jT);(function(t){Ye(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(jT);(function(t){Ye(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(gV);(function(t){Ye(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(jT);(function(t){Ye(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(gV);var kR="@firebase/auth",OR="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rre=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kre(t){ln(new Ut("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=i.options,u=a.apiKey,l=a.authDomain;he(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});var d={apiKey:u,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cV(t)},h=new ire(i,s,o,d);return cre(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),ln(new Ut("auth-internal",function(e){var n=dV(e.getProvider("auth").getImmediate());return function(r){return new Rre(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(kR,OR,Cre(t)),Rt(kR,OR,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yV=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(yR,"1"),this.storage.removeItem(yR),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ore(){var t=ie();return iV(t)||lV(t)}var xre=1e3,Nre=10;(function(t){Ye(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=Ore()&&Zne(),n.fallbackToPolling=Xne(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],o=this.storage.getItem(s),a=this.localCache[s];o!==a&&n(s,a,o)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(l,d,h){i.notifyListeners(l,h)});return}var s=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(s);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!r)return}var a=function(){var l=i.storage.getItem(s);!r&&i.localCache[s]===l||i.notifyListeners(s,l)},u=this.storage.getItem(s);Yne()&&u!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,Nre):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,o=Array.from(i);s<o.length;s++){var a=o[s];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},xre)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return q(this,void 0,void 0,function(){return W(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return q(this,void 0,void 0,function(){return W(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(yV);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(yV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BT=function(t){Ye(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Di(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Di(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Di(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(kh);function Dre(t){return bre(t.auth,new BT(t),t.bypassAuthState)}function Lre(t){var e=t.auth,n=t.user;return he(n,e,"internal-error"),Sre(n,new BT(t),t.bypassAuthState)}function Mre(t){return q(this,void 0,void 0,function(){var e,n;return W(this,function(r){return e=t.auth,n=t.user,he(n,e,"internal-error"),[2,Tre(n,new BT(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vre=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return q(e,void 0,void 0,function(){var i,s;return W(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=o.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return q(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l,d;return W(this,function(h){switch(h.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},h.label=1;case 1:return h.trys.push([1,3,,4]),l=this.resolve,[4,this.getIdpTask(a)(u)];case 2:return l.apply(this,[h.sent()]),[3,4];case 3:return d=h.sent(),this.reject(d),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dre;case"linkViaPopup":case"linkViaRedirect":return Mre;case"reauthViaPopup":case"reauthViaRedirect":return Lre;default:Hi(this.auth,"internal-error")}},t.prototype.resolve=function(e){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fre="pendingRedirect",t_=new Map;(function(t){Ye(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return q(this,void 0,void 0,function(){var n,r,i,s,o;return W(this,function(a){switch(a.label){case 0:if(n=t_.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,Ure(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:t_.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||t_.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return q(this,void 0,void 0,function(){return W(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(Vre);function Ure(t,e){return q(this,void 0,void 0,function(){var n,r,i;return W(this,function(s){switch(s.label){case 0:return n=jre(e),r=$re(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function $re(t){return Ps(t._redirectPersistence)}function jre(t){return pp(Fre,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bre=10*60*1e3,zre=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qre(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!vV(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(VT(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=Bre&&this.cachedEventUids.clear(),this.cachedEventUids.has(xR(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(xR(e)),this.lastProcessedEventTime=Date.now()},t}();function xR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function vV(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function qre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vV(t);default:return!1}}(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return q(this,void 0,void 0,function(){return W(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(zre);kre("Cordova");const Wre=it.create({baseURL:"https://api-ctpacb5pmq-uc.a.run.app/"});function Hre(){const[{user:t,basket:e},n]=F.useContext(Gi),r=e==null?void 0:e.reduce((y,v)=>v.amount+y,0),[i,s]=F.useState(null),[o,a]=F.useState(!1),u=e.reduce((y,v)=>v.price*v.amount+y,0),l=Pne(),d=Ine(),h=Gm(),f=y=>{var v,S;console.log(y),(v=y==null?void 0:y.error)!=null&&v.message?s((S=y==null?void 0:y.error)==null?void 0:S.message):s("")},m=async y=>{var v;y.preventDefault();try{a(!0);const I=(v=(await Wre({method:"POST",url:`/payment/create?total=${u*100}`})).data)==null?void 0:v.clientSecret,{paymentIntent:_}=await l.confirmCardPayment(I,{payment_method:{card:d.getElement(gR)}});await zM.collection("users").doc(t.uid).collection("orders").doc(_.id).set({basket:e,amount:_.amount,created:_.created}),n({type:cr.EMPTY_BASKET}),a(!1),h("/Orders",{state:{msg:"you have placed new Order"}})}catch(S){console.log(S),a(!1)}};return R.jsxs(bl,{children:[R.jsxs("div",{className:_i.payment__header,children:["Check out ",r," items"]}),R.jsxs("section",{className:_i.payment,children:[R.jsxs("div",{className:_i.flex,children:[R.jsx("h3",{children:"Delivery Address"}),R.jsxs("div",{children:[R.jsx("div",{children:t==null?void 0:t.email}),R.jsx("div",{children:"123 React Lane"}),R.jsx("div",{children:"Chicago, IL"})]})]}),R.jsx("hr",{}),R.jsxs("div",{className:_i.flex,children:[R.jsx("h3",{children:"Review items and delivery"}),R.jsx("div",{children:e==null?void 0:e.map(y=>R.jsx(cl,{product:y,flex:!0}))})]}),R.jsx("hr",{}),R.jsxs("div",{className:_i.flex,children:[R.jsx("h3",{children:"Payment methods"}),R.jsx("div",{className:_i.payment__card__container,children:R.jsx("div",{className:_i.payment__details,children:R.jsxs("form",{onSubmit:m,children:[i&&R.jsx("small",{style:{color:"red"},children:i}),R.jsx(gR,{onChange:f}),R.jsxs("div",{className:_i.payment__price,children:[R.jsx("div",{children:R.jsxs("span",{style:{display:"flex",gap:"10px"},children:[R.jsx("p",{children:"Total order |"})," ",R.jsx(GI,{amount:u})]})}),R.jsx("button",{type:"submit",children:o?R.jsxs("div",{className:_i.loading,children:[R.jsx(yw,{color:"gray",size:12}),R.jsx("p",{children:"Please wait..."})]}):"Pay now"})]})]})})})]})]})]})}const Kre="_container_izs6s_1",Gre="_orders__container_izs6s_11",NR={container:Kre,orders__container:Gre};function Qre(){const[{user:t},e]=F.useContext(Gi),[n,r]=F.useState([]);return F.useEffect(()=>{t?zM.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),R.jsx(bl,{children:R.jsx("section",{className:NR.container,children:R.jsxs("div",{className:NR.orders__container,children:[R.jsx("h2",{children:"Your Orders"}),(n==null?void 0:n.length)==0&&R.jsx("div",{style:{padding:"20px"},children:"You dont have any orders"}),R.jsx("div",{children:n==null?void 0:n.map((i,s)=>{var o,a;return R.jsxs("div",{children:[R.jsx("hr",{}),R.jsxs("p",{children:["Order ID:",i==null?void 0:i.id]}),(a=(o=i==null?void 0:i.data)==null?void 0:o.basket)==null?void 0:a.map(u=>R.jsx(cl,{flex:!0,product:u},u.id))]},s)})})]})})})}const Jre="_products_container_129ug_1",Yre={products_container:Jre},_V="https://fakestoreapi.com";function Xre(){const{categoryName:t}=rO(),[e,n]=F.useState(),[r,i]=F.useState(!1);return F.useEffect(()=>{i(!0),it.get(`${_V}/products/category/${t}`).then(s=>{n(s.data),console.log(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),R.jsx(R.Fragment,{children:r?R.jsx(QI,{}):R.jsx(bl,{children:R.jsxs("section",{children:[R.jsx("h1",{style:{padding:"30px"},children:"Results"}),R.jsxs("p",{style:{padding:"30px"},children:["Category/",t]}),R.jsx("br",{}),R.jsx("div",{className:Yre.products_container,children:e==null?void 0:e.map(s=>R.jsx(cl,{product:s,renderDesc:!1,renderAdd:!0},s.id))})]})})})}function Zre(){const e=rO().productId,n=`${_V}/products/${e}`,[r,i]=F.useState({}),[s,o]=F.useState(!1);return F.useEffect(()=>{o(!0),it.get(n).then(a=>{i(a.data),o(!1)}).catch(a=>{console.log(a),o(!1)})},[]),R.jsx(bl,{children:s?R.jsx(QI,{}):R.jsx(cl,{product:r,flex:!0,renderDesc:!0,renderAdd:!0},r.id)})}var wV="https://js.stripe.com/v3",eie=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,DR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",tie=function(){for(var e=document.querySelectorAll('script[src^="'.concat(wV,'"]')),n=0;n<e.length;n++){var r=e[n];if(eie.test(r.src))return r}return null},LR=function(e){var n="",r=document.createElement("script");r.src="".concat(wV).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},nie=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"3.4.0",startTime:n})},oc=null,Pf=null,Af=null,rie=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},iie=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},sie=function(e){return oc!==null?oc:(oc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(DR),window.Stripe){n(window.Stripe);return}try{var i=tie();if(i&&e)console.warn(DR);else if(!i)i=LR(e);else if(i&&Af!==null&&Pf!==null){var s;i.removeEventListener("load",Af),i.removeEventListener("error",Pf),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=LR(e)}Af=iie(n,r),Pf=rie(r),i.addEventListener("load",Af),i.addEventListener("error",Pf)}catch(o){r(o);return}}),oc.catch(function(n){return oc=null,Promise.reject(n)}))},oie=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return nie(i,r),i},ac,IV=!1,EV=function(){return ac||(ac=sie(null).catch(function(e){return ac=null,Promise.reject(e)}),ac)};Promise.resolve().then(function(){return EV()}).catch(function(t){IV||console.warn(t)});var aie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];IV=!0;var i=Date.now();return EV().then(function(s){return oie(s,n,i)})};function MR({children:t,msg:e,redirect:n}){const r=Gm(),[{user:i},s]=F.useContext(Gi);return F.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i]),t}const uie=aie("pk_test_51NJ0tgIbzFJ2pcSfPlCHEARh9viqFvHS251on1xWrgtz8CLOpfmPGwfbubrgpSLWREd31FTmDkjl1i9FSojZkstr000WaBMDoC");function lie(){return R.jsx(g4,{children:R.jsxs(l4,{children:[R.jsx(fs,{path:"/",element:R.jsx(zte,{})}),R.jsx(fs,{path:"/auth",element:R.jsx(Gte,{})}),R.jsx(fs,{path:"/cart",element:R.jsx(rne,{})}),R.jsx(fs,{path:"/payments",element:R.jsx(MR,{msg:"you must login to pay",redirect:"/payments",children:R.jsx(QM,{stripe:uie,children:R.jsx(Hre,{})})})}),R.jsx(fs,{path:"/Orders",element:R.jsx(MR,{msg:"you must login to view your orders",redirect:"/orders",children:R.jsx(Qre,{})})}),R.jsx(fs,{path:"/Category/:categoryName",element:R.jsx(Xre,{})}),R.jsx(fs,{path:"/products/:productId",element:R.jsx(Zre,{})})]})})}function cie(){const[{user:t},e]=F.useContext(Gi);return F.useEffect(()=>{Rm.onAuthStateChanged(n=>{e(n?{type:cr.SET_USER,user:n}:{type:cr.SET_USER,user:null})})},[]),R.jsx(R.Fragment,{children:R.jsx(lie,{})})}n_.createRoot(document.getElementById("root")).render(R.jsx(ve.StrictMode,{children:R.jsx(S9,{reducer:T9,initialState:E9,children:R.jsx(cie,{})})}));
